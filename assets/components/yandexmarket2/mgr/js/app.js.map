{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?a98b","webpack:///./src/components/PricelistCondition.vue?d379","webpack:///./src/pages/PriceListGenerate.vue?cad6","webpack:///./src/components/FieldAttribute.vue?00a5","webpack:///./src/App.vue?95c0","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue?2667","webpack:///./src/icons.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/pages/PriceLists.vue?cb88","webpack:///./src/api.js","webpack:///./src/helpers.js","webpack:///src/pages/PriceLists.vue","webpack:///./src/pages/PriceLists.vue?04b4","webpack:///./src/pages/PriceLists.vue","webpack:///./src/pages/PriceList.vue?5ba7","webpack:///./src/components/Loader.vue?8828","webpack:///src/components/Loader.vue","webpack:///./src/components/Loader.vue?f547","webpack:///./src/components/Loader.vue?0a72","webpack:///src/pages/PriceList.vue","webpack:///./src/pages/PriceList.vue?e3cd","webpack:///./src/pages/PriceList.vue?81d4","webpack:///./src/pages/PriceListOffer.vue?b178","webpack:///./src/components/PricelistField.vue?32e1","webpack:///./src/components/FieldAttribute.vue?6b35","webpack:///src/components/FieldAttribute.vue","webpack:///./src/components/FieldAttribute.vue?92bb","webpack:///./src/components/FieldAttribute.vue?c6cb","webpack:///./src/components/FieldHeader.vue?9192","webpack:///./src/components/InlineEditDialog.js","webpack:///src/components/FieldHeader.vue","webpack:///./src/components/FieldHeader.vue?01fd","webpack:///./src/components/FieldHeader.vue","webpack:///./src/components/FieldValue.vue?bd91","webpack:///src/components/FieldValue.vue","webpack:///./src/components/FieldValue.vue?bf76","webpack:///./src/components/FieldValue.vue?00ef","webpack:///src/components/PricelistField.vue","webpack:///./src/components/PricelistField.vue?898a","webpack:///./src/components/PricelistField.vue?1970","webpack:///./src/components/PricelistConditions.vue?d8f4","webpack:///./src/components/PricelistCondition.vue?9a20","webpack:///src/components/PricelistCondition.vue","webpack:///./src/components/PricelistCondition.vue?302d","webpack:///./src/components/PricelistCondition.vue?84c2","webpack:///src/components/PricelistConditions.vue","webpack:///./src/components/PricelistConditions.vue?4265","webpack:///./src/components/PricelistConditions.vue","webpack:///src/pages/PriceListOffer.vue","webpack:///./src/pages/PriceListOffer.vue?c79c","webpack:///./src/pages/PriceListOffer.vue?ac6d","webpack:///./src/pages/PriceListShop.vue?f9aa","webpack:///src/pages/PriceListShop.vue","webpack:///./src/pages/PriceListShop.vue?04b7","webpack:///./src/pages/PriceListShop.vue","webpack:///./src/pages/PriceListCategories.vue?5974","webpack:///./src/components/CategoriesTree.vue?1404","webpack:///src/components/CategoriesTree.vue","webpack:///./src/components/CategoriesTree.vue?870d","webpack:///./src/components/CategoriesTree.vue?18f6","webpack:///src/pages/PriceListCategories.vue","webpack:///./src/pages/PriceListCategories.vue?b503","webpack:///./src/pages/PriceListCategories.vue","webpack:///./src/pages/PriceListGenerate.vue?068f","webpack:///src/pages/PriceListGenerate.vue","webpack:///./src/pages/PriceListGenerate.vue?bef5","webpack:///./src/pages/PriceListGenerate.vue?971a","webpack:///./src/pages/Main.vue?9421","webpack:///./src/components/ComponentHeader.vue?28a1","webpack:///src/components/ComponentHeader.vue","webpack:///./src/components/ComponentHeader.vue?15eb","webpack:///./src/components/ComponentHeader.vue?1389","webpack:///src/pages/Main.vue","webpack:///./src/pages/Main.vue?9646","webpack:///./src/pages/Main.vue?c106","webpack:///./src/router.js","webpack:///./src/store/modules/field.js","webpack:///./src/store/modules/pricelist.js","webpack:///./src/store/modules/marketplace.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/Loader.vue?2a64","webpack:///./src/components/CategoriesTree.vue?158c","webpack:///./src/components/PricelistField.vue?4dbe","webpack:///./src/pages/Main.vue?c115","webpack:///./src/components/FieldValue.vue?417d","webpack:///./src/components/ComponentHeader.vue?4ab1","webpack:///./src/pages/PriceListOffer.vue?dc4f","webpack:///./src/pages/PriceList.vue?ce61"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","staticRenderFns","created","$store","dispatch","component","VApp","MODX_ICONS","complete","cancel","close","delete","clear","success","info","warning","error","prev","next","checkboxOn","checkboxOff","checkboxIndeterminate","delimiter","sort","expand","menu","subgroup","dropdown","radioOn","radioOff","edit","ratingEmpty","ratingFull","ratingHalf","loading","first","last","unfold","file","plus","minus","Vue","use","Vuetify","directives","Ripple","icons","values","theme","themes","light","primary","accent","secondary","staticClass","_v","_s","decl","total","scopedSlots","_u","fn","ref","on","_g","_b","model","callback","$$v","dialog","expression","marketplaces","errors","offsetY","pricelist","$set","closeDialog","createPricelist","lists","headers","pagination","limit","itemsPerPageText","itemsPerPageOptions","showCurrentPage","showFirstLastPage","pageStart","pageStop","itemsLength","loadLists","date","replace","parseInt","marketplaceText","item","params","id","need_generate","$event","removePricelist","ErrorException","response","message","Error","ValidationError","post","action","axios","request","method","prepareData","then","FormData","buildFormData","append","formData","parentKey","Date","File","keys","forEach","declension","number","titles","withNum","cases","defaultItem","type","start","computed","methods","api","confirm","mounted","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDataTable","VDialog","VIcon","VSelect","VSpacer","VTextField","_e","preview","togglePreview","showPreview","previewXml","fieldUpdated","fieldDeleted","attributeUpdated","attributeDeleted","conditionUpdated","conditionDeleted","categoryAdded","categoryRemoved","pricelistUpdated","previewType","cmOptions","code","debug","props","status","VProgressCircular","components","indexOf","$route","categories","resourceId","send","filter","fields","field","findIndex","attributes","attr","conditions","condition","$nextTick","getXmlPreview","loadPricelist","save","VCol","VRow","VTab","VTabs","classKeyDisabled","proxy","stopPropagation","cancelClass","classKey","class","saveClass","resetWhere","hasErrors","saveWhere","$listeners","openedFields","offerField","availableFields","availableTypes","readonly","lighten","a","addAttribute","toggleEdit","cancelEdit","$emit","changedName","text","types","availableType","_l","attribute","isCategories","isOffers","isShop","parent","isParent","children","opened","child","isRoot","f","addField","isEmptyType","label","cancelChanges","saveChanges","editAttr","deleteAttribute","items","tag","openedCode","toggleCode","handler","edited","VCombobox","VueCodemirror","watch","immediate","JSON","stringify","setTimeout","VSheet","VTooltip","color","isSingle","rank","help","saveField","disabledAddAttribute","deleteField","mixins","Returnable","Themeable","extend","cancelText","default","large","Boolean","eager","persistent","saveText","transition","String","isActive","val","focus","input","$refs","content","querySelector","genButton","click","genActions","returnValue","genContent","keydown","e","keyCode","keyCodes","esc","enter","$slots","render","h","VMenu","themeClasses","contentClass","origin","right","closeOnClick","closeOnContentClick","dark","attach","activator","InlineEditDialog","VExpansionPanelHeader","isCurrencies","changedValue","index","selected","makeFirst","removeChip","isSimpleString","valueSearch","dataColumns","valuePrepend","isPicture","properties","count","countChanged","columnText","itemText","toLocaleLowerCase","queryText","unshift","rerender","VChip","FieldValue","FieldHeader","FieldAttribute","find","realType","findByType","attributesToAdd","required","pricelist_id","event","field_id","custom","VExpansionPanel","VExpansionPanelContent","VExpansionPanels","addCondition","column","columnLabel","changedColumn","operator","sign","operatorsList","arrayValue","nullValue","editCondition","deleteCondition","loadValues","selectable","select","valueless","multiple","PricelistConditions","PricelistOfferField","where","editedWhere","VFlex","shopField","PricelistField","treeReload","categoryField","_m","expandTree","collapseTree","reloadTree","loadCategories","itemKey","selectCategory","iconCls","domProps","Array","category","awaitChildren","loadContexts","categoriesTree","updateAll","VSimpleCheckbox","VToolbar","VTreeview","CategoriesTree","modes","modeHint","hasChanges","rootField","generatedOn","fileUrl","generateFile","log","hint","generated_on","VAlert","VCheckbox","VTextarea","breadcrumbs","matched","VBreadcrumbs","VMain","Router","routes","path","Main","meta","title","to","PriceLists","PriceList","replaceable","PriceListShop","PriceListCategories","PriceListOffer","PriceListGenerate","redirect","namespaced","state","getters","typeText","found","selectableTypes","hidden","single","isUnique","unique","group","typeGroup","isArray","mutations","setFieldTypes","payload","results","actions","loadListTypes","commit","marketplace","pf","setMarketplaces","loadList","Vuex","Store","classKeys","operators","ck","skipped","setClassKeys","loadClassKeys","appId","appResize","windowHeight","innerHeight","header","document","getElementById","offsetHeight","app","style","cssText","onload","mixin","addEventListener","destroyed","removeEventListener","ym2Config","defaults","baseURL","apiUrl","common","modAuth","$t","lang","vuetify","router","store","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,sDAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,2DCAA,W,oCCAA,W,2DCAA,W,4HCAI,EAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,mBAAmB,eAAe,KAAK,CAACF,EAAG,QAAQ,CAACG,YAAY,CAAC,WAAa,gBAAgB,CAACH,EAAG,gBAAgB,IAAI,IACxOI,EAAkB,GCQtB,GACEjC,KAAM,mBACNkC,QAFF,WAGIR,KAAKS,OAAOC,SAAS,wBACrBV,KAAKS,OAAOC,SAAS,iBACrBV,KAAKS,OAAOC,SAAS,yBCdqS,I,yDCQ1TC,EAAY,eACd,EACA,EACAJ,GACA,EACA,KACA,WACA,MAIa,EAAAI,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,OAAA,O,0BCxBjBC,G,UAAa,CACtBC,SAAU,kBACVC,OAAQ,yBACRC,MAAO,kBACPC,OAAQ,yBACRC,MAAO,yBACPC,QAAS,yBACTC,KAAM,wBACNC,QAAS,wBACTC,MAAO,iCACPC,KAAM,yBACNC,KAAM,0BACNC,WAAY,yBACZC,YAAa,qBACbC,sBAAuB,yBACvBC,UAAW,mBACXC,KAAM,oBACNC,OAAQ,yBACRC,KAAM,iBACNC,SAAU,uBACVC,SAAU,uBACVC,QAAS,yBACTC,SAAU,qBACVC,KAAM,mBACNC,YAAa,mBACbC,WAAY,iBACZC,WAAY,wBACZC,QAAS,oBACTC,MAAO,0BACPC,KAAM,yBACNC,OAAQ,8BACRC,KAAM,sBACNC,KAAM,iBACNC,MAAO,oB,YCzBXC,OAAIC,IAAIC,OAAS,CACbC,WAAY,CACRC,iBAIO,UAAIF,OAAQ,CACvBG,MAAO,CACHC,OAAQxC,GAEZyC,MAAO,CACHC,OAAQ,CACJC,MAAO,CACHC,QAAS,UACTC,OAAQ,UACRC,UAAW,e,iCCvBvB,EAAS,WAAa,IAAI5D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACyD,YAAY,mBAAmBvD,MAAM,CAAC,QAAUN,EAAIyC,UAAU,CAACrC,EAAG,eAAe,CAAEJ,EAAS,MAAE,CAACA,EAAI8D,GAAG,SAAS9D,EAAI+D,GAAG/D,EAAIgE,KAAKhE,EAAIiE,MAAO,CAAC,aAAc,cAAe,oBAAoB,CAACjE,EAAI8D,GAAG,oCAAoC1D,EAAG,YAAYA,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,SAAS4D,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,YAAY8E,GAAG,SAASC,GAChc,IAAIC,EAAKD,EAAIC,GACThE,EAAQ+D,EAAI/D,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIuE,GAAGvE,EAAIwE,GAAG,CAAClE,MAAM,CAAC,MAAQ,YAAY,SAAWN,EAAIyC,QAAQ,MAAQ,KAAK,QAAQnC,GAAM,GAAOgE,GAAI,CAAClE,EAAG,SAAS,CAACyD,YAAY,UAAUvD,MAAM,CAAC,KAAO,KAAK,CAACN,EAAI8D,GAAG,oBAAoB9D,EAAI8D,GAAG,0BAA0B,QAAQW,MAAM,CAACzF,MAAOgB,EAAU,OAAE0E,SAAS,SAAUC,GAAM3E,EAAI4E,OAAOD,GAAKE,WAAW,WAAW,CAACzE,EAAG,SAAS,CAACE,MAAM,CAAC,QAAUN,EAAIyC,UAAU,CAACrC,EAAG,eAAe,CAACA,EAAG,OAAO,CAACyD,YAAY,YAAY,CAAC7D,EAAI8D,GAAG,8BAA8B1D,EAAG,cAAc,CAACyD,YAAY,QAAQ,CAACzD,EAAG,WAAW,CAACyD,YAAY,OAAOvD,MAAM,CAAC,KAAO,6CAA6C,kBAAkB,GAAG,MAAQN,EAAI8E,aAAa,QAAU9E,EAAI+E,OAAO,QAAQ,iBAAiB/E,EAAI+E,OAAO,QAAQ,MAAQ,cAAc,aAAa,CAACC,SAAS,GAAM,QAAS,GAAMP,MAAM,CAACzF,MAAOgB,EAAIiF,UAAc,KAAEP,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIiF,UAAW,OAAQN,IAAME,WAAW,oBAAoBzE,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAI+E,OAAO,QAAQ,iBAAiB/E,EAAI+E,OAAO,QAAQ,MAAQ,wBAAwBN,MAAM,CAACzF,MAAOgB,EAAIiF,UAAc,KAAEP,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIiF,UAAW,OAAQN,IAAME,WAAW,oBAAoBzE,EAAG,eAAe,CAACE,MAAM,CAAC,QAAUN,EAAI+E,OAAO,QAAQ,iBAAiB/E,EAAI+E,OAAO,QAAQ,MAAQ,aAAaN,MAAM,CAACzF,MAAOgB,EAAIiF,UAAc,KAAEP,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIiF,UAAW,OAAQN,IAAME,WAAW,qBAAqB,GAAGzE,EAAG,iBAAiB,CAACyD,YAAY,QAAQ,CAACzD,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIgE,GAAG,CAAC,MAAQtE,EAAImF,cAAc,CAACnF,EAAI8D,GAAG,cAAc1D,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,aAAagE,GAAG,CAAC,MAAQtE,EAAIoF,kBAAkB,CAACpF,EAAI8D,GAAG,iBAAiB,IAAI,IAAI,IAAI,GAAI9D,EAAS,MAAEI,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIqF,MAAM,QAAUrF,EAAIsF,QAAQ,iBAAiBtF,EAAIuF,WAAWC,MAAM,eAAe,CACrvDC,iBAAkB,gBAClBC,oBAAoB,CAAC1F,EAAIuF,WAAWC,OACpCG,iBAAiB,EACjBC,mBAAmB,IAClB1B,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,mBAAmB8E,GAAG,SAASC,GAC3D,IAAIwB,EAAYxB,EAAIwB,UAChBC,EAAWzB,EAAIyB,SACfC,EAAc1B,EAAI0B,YAC5B,MAAO,CAAC3F,EAAG,OAAO,CAACJ,EAAI8D,GAAG,YAAY9D,EAAI+D,GAAG8B,GAAW,IAAI7F,EAAI+D,GAAG+B,GAAU,OAAO9F,EAAI+D,GAAGgC,MAAgB3F,EAAG,QAAQ,CAACyD,YAAY,aAAavD,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAYgE,GAAG,CAAC,MAAQtE,EAAIgG,YAAY,CAAC5F,EAAG,SAAS,CAACJ,EAAI8D,GAAG,wBAAwB,MAAM,CAACxE,IAAI,cAAc8E,GAAG,SAASC,GAC7R,IAAIrF,EAAQqF,EAAIrF,MACtB,MAAO,CAACgB,EAAI8D,GAAG,IAAI9D,EAAI+D,GAAG/E,EAAQ,KAAO,OAAO,QAAQ,CAACM,IAAI,oBAAoB8E,GAAG,SAASC,GACvF,IAAIrF,EAAQqF,EAAIrF,MACtB,MAAO,CAACgB,EAAI8D,GAAG,IAAI9D,EAAI+D,GAAG/E,EAAQA,EAAMiH,KAAKC,QAAQ,UAAW,IAAM,4BAA4B,QAAQ,CAAC5G,IAAI,qBAAqB8E,GAAG,SAASC,GAC1I,IAAIrF,EAAQqF,EAAIrF,MACtB,MAAO,CAAsB,IAApBmH,SAASnH,GAAc,CAACgB,EAAI8D,GAAG,kBAAuC,IAApBqC,SAASnH,GAAc,CAACgB,EAAI8D,GAAG,cAAc,CAAC9D,EAAI8D,GAAG,iBAAiB,CAACxE,IAAI,YAAY8E,GAAG,SAASC,GACxJ,IAAIrF,EAAQqF,EAAIrF,MACtB,MAAO,CAACgB,EAAI8D,GAAG,IAAI9D,EAAI+D,GAAG/D,EAAIoG,gBAAgBpH,IAAUA,GAAO,QAAQ,CAACM,IAAI,eAAe8E,GAAG,SAASC,GACjG,IAAIgC,EAAOhC,EAAIgC,KACrB,MAAO,CAACjG,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAK,qBAAsB+H,OAAQ,CAACC,GAAIF,EAAKE,KAAK,MAAQF,EAAKG,cAAgB,4BAA8B,kBAAkB,KAAO,GAAG,MAAQH,EAAKG,cAAgB,UAAY,YAAY,CAACpG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,sBAAsB,GAAG1D,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAK,YAAa+H,OAAQ,CAACC,GAAIF,EAAKE,KAAK,MAAQ,2BAA2B,KAAO,KAAK,CAACnG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,uBAAuB,GAAG1D,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,qBAAqB,KAAO,IAAIgE,GAAG,CAAC,MAAQ,SAASmC,GAAQ,OAAOzG,EAAI0G,gBAAgBL,MAAS,CAACjG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,sBAAsB,OAAO,MAAK,EAAM,aAAa1D,EAAG,cAAc,CAACJ,EAAI8D,GAAG,kCAAkC,IACzrB,EAAkB,G,0NCrBT6C,EAAb,wDACI,WAAYC,GAAU,oCAClB,cAAOA,GAAYA,EAASC,SAAY,UACxC,EAAKD,SAAWA,EAFE,EAD1B,4DAOQ,OAAO3G,KAAK4G,YAPpB,kBAAoCC,QAYvBC,EAAb,sLAEQ,OAAQ9G,KAAK2G,UAAY3G,KAAK2G,SAASzK,MAAS,OAFxD,GAAqCwK,GAMtB,GACXK,KADW,SACNC,GAAqB,IAAbX,EAAa,uDAAJ,GAClB,OAAOY,IAAMC,QAAQ,CACjBC,OAAQ,OACRjL,KAAM8D,KAAKoH,YAAYf,EAAQW,KAE9BK,MAAK,SAAAV,GACF,GAAIhK,OAAOC,UAAUC,eAAeC,KAAK6J,EAASzK,KAAM,aAAeyK,EAASzK,KAAKiF,QACjF,MAAIwF,EAASzK,KAAKA,MAAQyK,EAASzK,KAAKA,KAAKQ,OACnC,IAAIoK,EAAgBH,EAASzK,MAE7B,IAAIwK,EAAeC,EAASzK,MAG1C,OAAOyK,MAGnBS,YAjBW,SAiBCf,EAAQW,GAChB,IAAI9K,EASJ,MARuB,WAAlB,eAAOmK,IAA0BA,aAAkBiB,SAG7CjB,aAAkBiB,WACzBpL,EAAOmK,IAHPnK,EAAO,IAAIoL,SACXtH,KAAKuH,cAAcrL,EAAMmK,IAK7BnK,EAAKsL,OAAO,SAAUR,GACf9K,GAEXqL,cA7BW,SA6BGE,EAAUvL,EAAMwL,GAAW,WACrC,IAAIxL,GAAwB,WAAhB,eAAOA,IAAuBA,aAAgByL,MAAWzL,aAAgB0L,KAI9E,CACH,IAAM7I,EAAgB,MAAR7C,EAAe,GAAKA,EAElCuL,EAASD,OAAOE,EAAW3I,QAN3BpC,OAAOkL,KAAK3L,GAAM4L,SAAQ,SAAAzI,GACtB,EAAKkI,cAAcE,EAAUvL,EAAKmD,GAAMqI,EAAY,GAAH,OAAMA,EAAN,YAAmBrI,EAAnB,KAA4BA,QCpDtF,SAAS0I,EAAWC,EAAQC,GAAyB,IAAjBC,EAAiB,wDACpDC,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxBpE,EAAOkE,EAAQD,EAAS,IAAM,GAAKA,EAAS,IAAM,GAAM,EAAIG,EAAOH,EAAS,GAAK,EAAKA,EAAS,GAAK,IACxG,OAAIE,EACOF,EAAS,IAAMjE,EAEnBA,E,gBC+HX,GACEzF,KAAM,aACNpC,KAFF,WAGI,MAAO,CACLkM,YAAa,CACXxF,KAAM,YACNtE,KAAM,aACN+J,KAAM,iBAERrD,UAAW,CACTpC,KAAM,GACNtE,KAAM,GACN+J,KAAM,IAER1D,QAAQ,EACRnC,SAAS,EACT4C,MAAO,GACPC,QAAS,CACf,CAAQ,KAAR,KAAQ,MAAR,KAAQ,UAAR,GACA,CAAQ,KAAR,WAAQ,MAAR,OAAQ,UAAR,GACA,CAAQ,KAAR,kBAAQ,MAAR,OAAQ,UAAR,GACA,CAAQ,KAAR,OAAQ,MAAR,OAAQ,UAAR,GACA,CAAQ,KAAR,YAAQ,MAAR,gBAAQ,UAAR,GACA,CAAQ,KAAR,cAAQ,MAAR,eAAQ,UAAR,GACA,CAAQ,KAAR,UAAQ,MAAR,SAAQ,UAAR,GACA,CAAQ,KAAR,WAAQ,MAAR,UAAQ,UAAR,EAAQ,MAAR,QAEMP,OAAQ,GACRd,MAAO,EACPsB,WAAY,CACVgD,MAAO,EACP/C,MAAO,MAIbgD,SAAU,OAAZ,OAAY,CAAZ,kBACA,gDACA,mDAEEC,QAAS,CACPzE,KADJ,SACA,sEACM,OAAO,EAAb,QAEIgC,UAJJ,WAIA,WACM/F,KAAKwC,SAAU,EACfiG,EAAI1B,KAAK,qBAAsB/G,KAAKsF,YAC1C,kBAAQ,IAAR,SACQ,EAAR,gBACQ,EAAR,iBAEA,mBAAQ,OAAR,oBACA,iBAAQ,OAAR,iBAEIJ,YAdJ,WAeMlF,KAAK8E,OAAS,GACd9E,KAAK2E,QAAS,EACd3E,KAAKgF,UAAY,OAAvB,OAAuB,CAAvB,sBAEIG,gBAnBJ,WAmBA,WACMnF,KAAK8E,OAAS,GACd9E,KAAKwC,SAAU,EACfiG,EAAI1B,KAAK,oBAAqB,OAApC,OAAoC,CAApC,mDACA,kBAAQ,IAAR,SACQ,EAAR,cAAU,KAAV,YAAU,OAAV,CAAY,GAAZ,eACQ,EAAR,8CAEA,mBACQ,GAAR,gBACU,IAAV,yCACY,OAAZ,8CAAc,OAAd,gBAEU,EAAV,kCAEU,QAAV,uBAGA,iBACQ,EAAR,eAGIN,gBAzCJ,SAyCA,cACUiC,QAAQ,8CAAlB,gDACQ1I,KAAKwC,SAAU,EACfiG,EAAI1B,KAAK,oBAAqB,CAAtC,6BACA,iBAAU,OAAV,iBACA,mBAAU,OAAV,oBACA,iBAAU,OAAV,mBAIE4B,QA1FF,WA2FI3I,KAAK+F,YACL/F,KAAKgF,UAAY,OAArB,OAAqB,CAArB,uBCjOoV,I,4GCOhV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAehC,IAAkB,EAAW,CAAC4D,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,aAAA,KAAWC,UAAA,KAAQC,QAAA,KAAMC,UAAA,KAAQC,UAAA,KAAQC,aAAA,OCjCpH,IAAI,EAAS,WAAa,IAAIvJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACyD,YAAY,0BAA0B,CAAE7D,EAAM,GAAEI,EAAG,SAAS,CAACyD,YAAY,oCAAoCvD,MAAM,CAAC,mBAAmB,cAAc,OAAS,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAM,YAAa+H,OAAQ,CAACC,GAAIvG,EAAIuG,KAAK,QAAS,EAAM,MAAQ,KAAK,CAACvG,EAAI8D,GAAG,wBAAwB1D,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAM,uBAAwB+H,OAAQ,CAACC,GAAIvG,EAAIuG,KAAK,QAAS,EAAM,MAAQ,KAAK,CAACvG,EAAI8D,GAAG,yBAAyB1D,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAM,mBAAoB+H,OAAQ,CAACC,GAAIvG,EAAIuG,KAAK,QAAS,EAAM,MAAQ,KAAK,CAACvG,EAAI8D,GAAG,2BAA2B1D,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAM,qBAAsB+H,OAAQ,CAACC,GAAIvG,EAAIuG,KAAK,QAAS,EAAM,MAAQ,KAAK,CAACvG,EAAI8D,GAAG,2BAA2B,GAAG9D,EAAIwJ,KAAKpJ,EAAG,SAAS,CAACyD,YAAY,8BAA8BvD,MAAM,CAAC,SAAWN,EAAIiF,YAAY,CAAC7E,EAAG,cAAc,CAACG,YAAY,CAAC,aAAa,UAAU,CAAEP,EAAe,YAAEI,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,GAAG,SAAW,GAAG,IAAM,GAAG,MAAQ,GAAG,MAAQ,GAAG,UAAY,IAAI,MAAQ,QAAQ,MAAQN,EAAIyJ,QAAU,yBAA2B,yBAAyBnF,GAAG,CAAC,MAAQtE,EAAI0J,gBAAgB,CAACtJ,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQN,EAAIyJ,QAAU,UAAY,YAAY,CAACzJ,EAAI8D,GAAG,uBAAuB,GAAG9D,EAAIwJ,KAAKpJ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAKN,EAAI2J,aAAe3J,EAAIyJ,QAAU,EAAI,KAAK,CAAEzJ,EAAa,UAAEI,EAAG,cAAcJ,EAAIwE,GAAG,CAACF,GAAG,CAAC,cAActE,EAAI4J,WAAW,gBAAgB,SAASnD,GAAQ,OAAOzG,EAAI6J,aAAapD,GAAQ,IAAO,gBAAgBzG,EAAI6J,aAAa,gBAAgB7J,EAAI8J,aAAa,oBAAoB,SAASrD,GAAQ,OAAOzG,EAAI+J,iBAAiBtD,GAAQ,IAAO,oBAAoBzG,EAAI+J,iBAAiB,oBAAoB/J,EAAIgK,iBAAiB,oBAAoB,SAASvD,GAAQ,OAAOzG,EAAIiK,iBAAiBxD,GAAQ,IAAO,oBAAoBzG,EAAIiK,iBAAiB,oBAAoBjK,EAAIkK,iBAAiB,iBAAiBlK,EAAImK,cAAc,mBAAmBnK,EAAIoK,gBAAgB,oBAAoBpK,EAAIqK,mBAAmB,cAAc,CAACpF,UAAUjF,EAAIiF,YAAW,IAAQjF,EAAIwJ,KAA0iBxJ,EAAIwJ,MAAM,GAAIxJ,EAAI2J,aAAe3J,EAAIyJ,QAASrJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,MAAM,CAACyD,YAAY,4BAA4B,CAACzD,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,yBAAyB,CAACN,EAAI8D,GAAG,8BAA8B9D,EAAI+D,GAAG/D,EAAIsK,aAAa,SAASlK,EAAG,IAAI,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,mDAAmD1D,EAAG,aAAa,CAACE,MAAM,CAAC,GAAK,uBAAuB,QAAUN,EAAIuK,WAAW9F,MAAM,CAACzF,MAAOgB,EAAQ,KAAE0E,SAAS,SAAUC,GAAM3E,EAAIwK,KAAK7F,GAAKE,WAAW,WAAW,GAAI7E,EAAIyK,OAAS7N,OAAOkL,KAAK9H,EAAIyK,OAAO9N,OAAQyD,EAAG,MAAM,CAACJ,EAAI8D,GAAG9D,EAAI+D,GAAG/D,EAAIyK,UAAUzK,EAAIwJ,OAAOxJ,EAAIwJ,MAAM,GAAGpJ,EAAG,SAAS,CAACE,MAAM,CAAC,QAAUN,EAAIiF,cAAc,IAAI,IAAI,IAChxG,EAAkB,G,0ECDlB,EAAS,WAAa,IAAIjF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAU,OAAEI,EAAG,MAAM,CAACyD,YAAY,+BAA+B,CAACzD,EAAG,sBAAsB,CAACE,MAAM,CAAC,cAAgB,GAAG,MAAQ,cAAc,GAAGN,EAAIwJ,MAChP,EAAkB,GCMtB,GACEkB,MAAO,CACLC,OAAQ,CAAZ,gBCTgV,K,yBCQ5U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACC,qBAAA,O,iBCoD9B,I,kDAAA,CACErM,KAAM,YACNsM,WAAY,CAAd,uCACE1O,KAAM,WAAR,OACA,QACA,eACA,oBACA,WACA,iBACA,cACA,WACA,UACA,WACA,eACA,WACA,mBACA,eAGEqM,SAAU,CACRmB,YADJ,WAEM,OAAgG,IAAzF,CAAC,YAAa,uBAAwB,oBAAoBmB,QAAQ7K,KAAK8K,OAAOxM,QAGzFkK,QAAS,CACP0B,cADJ,SACA,4EAC6D,IAAnDlK,KAAKgF,UAAU+F,WAAWF,QAAQG,IACpChL,KAAKgF,UAAU+F,WAAW/N,KAAKgO,GAE7BC,GACFxC,EAAI1B,KAAK,oBAAqB,CAAtC,+CACA,iBAAU,OAAV,qBACA,mBACU,QAAV,SACU,EAAV,0BAIIoD,gBAdJ,SAcA,2EACMnK,KAAKgF,UAAU+F,WAAa/K,KAAKgF,UAAU+F,WAAWG,QAAO,SAAnE,mBACUD,GACFxC,EAAI1B,KAAK,oBAAqB,CAAtC,+CACA,iBAAU,OAAV,qBACA,mBAAU,OAAV,qBAGI6C,aAtBJ,SAsBA,iEACA,gCACUpJ,EACF2K,EAAOnO,KAAKoO,GAEZD,EAAOvN,OAAOuN,EAAOE,WAAU,SAAvC,uDAEMrL,KAAKoK,iBAAiB,CAA5B,eAEIP,aA/BJ,SA+BA,GACM,IAAN,gCACMsB,EAAOvN,OAAOuN,EAAOE,WAAU,SAArC,4BACMrL,KAAKoK,iBAAiB,CAA5B,eAEIN,iBApCJ,SAoCA,iEACA,oCACUtJ,EACF8K,EAAWtO,KAAKuO,GAEhBD,EAAW1N,OAAO0N,EAAWD,WAAU,SAA/C,2DAEMrL,KAAKoK,iBAAiB,CAA5B,mBAEIL,iBA7CJ,SA6CA,GACM,IAAN,oCACMuB,EAAW1N,OAAO0N,EAAWD,WAAU,SAA7C,4BACMrL,KAAKoK,iBAAiB,CAA5B,mBAEIJ,iBAlDJ,SAkDA,iEACA,oCACUxJ,EACFgL,EAAWxO,KAAKyO,GAEhBD,EAAW5N,OAAO4N,EAAWH,WAAU,SAA/C,yCAEMrL,KAAKoK,iBAAiB,CAA5B,mBAEIH,iBA3DJ,SA2DA,GACM,IAAN,oCACMuB,EAAW5N,OAAO4N,EAAWH,WAAU,SAA7C,4BACMrL,KAAKoK,iBAAiB,CAA5B,mBAEIX,cAhEJ,WAgEA,WACMzJ,KAAKwJ,SAAWxJ,KAAKwJ,QACjBxJ,KAAKwJ,SACPxJ,KAAK0L,YAAYrE,MAAK,WAEpB,EAAV,oBAIIsC,WAzEJ,SAyEA,GACM3J,KAAKqK,YAAclD,EACfnH,KAAKwJ,SACPxJ,KAAK2L,iBAGTA,cA/EJ,WA+EA,WACM3L,KAAKuK,KAAO,mCAAkCvK,KAAKqK,YAAc,UACjE5B,EAAI1B,KAAK,cAAe,CAA9B,+CACA,kBAAQ,IAAR,SACQ,EAAR,eACQ,EAAR,kBAEA,mBAAQ,OAAR,mBAEI6E,cAxFJ,WAwFA,WACMnD,EAAI1B,KAAK,iBAAkB,CAAjC,aACA,kBAAQ,IAAR,SACQ,EAAR,mBACQ,IAAR,qCAAU,OAAV,8BACA,GACU,EAAV,2DAAY,MAAZ,4DAGA,mBACQ,QAAR,SACQ,YAAR,WAAU,OAAV,gBAAY,KAAZ,0BAGIqD,iBAtGJ,SAsGA,2EAEM,GADApK,KAAKgF,UAAY,OAAvB,OAAuB,CAAvB,qCACU6G,EAAM,CACR7L,KAAKuK,KAAO,mCAAkCvK,KAAKqK,YAAc,UADzE,MAGA,kBAHA,EAGA,OAHA,EAGA,WAHA,EAGA,WAHA,EAGA,WAHA,qEAIQ5B,EAAI1B,KAAK,oBAAqB,OAAtC,OAAsC,CAAtC,OACA,kBAAU,IAAV,SACU,EAAV,kEACU,EAAV,mBAEA,mBAAU,OAAV,yBACA,kBACQ/G,KAAK2L,kBAIXhD,QA/IF,WAgJI3I,KAAKsG,GAAKJ,SAASlG,KAAK8K,OAAOzE,OAAOC,IACtCtG,KAAK4L,mBC7N0U,M,gECQ/U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAAChD,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAU+C,QAAA,KAAK3C,QAAA,KAAM4C,QAAA,KAAK1C,UAAA,KAAQ2C,QAAA,KAAKC,SAAA,OCjC7F,IAAI,GAAS,WAAa,IAAIlM,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACyD,YAAY,wCAAwC,CAACzD,EAAG,QAAQ,CAACyD,YAAY,QAAQ,CAACzD,EAAG,SAAS,CAACA,EAAG,KAAK,CAACJ,EAAI8D,GAAG,gDAAgD1D,EAAG,IAAI,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,2DAA2D1D,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,wCAAwCgE,GAAG,CAAC,MAAQtE,EAAI4J,aAAa,CAACxJ,EAAG,SAAS,CAACJ,EAAI8D,GAAG,mBAAmB,IAAI,GAAG1D,EAAG,MAAM,CAACyD,YAAY,gCAAgC,CAACzD,EAAG,eAAe,CAACE,MAAM,CAAC,SAAWN,EAAImM,iBAAiB,YAAc,gEAAgE,KAAO,oEAAoE,MAAQ,GAAG,mBAAmBnM,EAAImM,iBAAmB,iBAAmB,iBAAiB,KAAO,IAAIjI,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,gBAAgB8E,GAAG,WAAW,MAAO,CAAChE,EAAG,MAAM,CAACyD,YAAY,2BAA2B,CAACzD,EAAG,SAAS,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,UAAU,MAAQ,YAAY,CAACN,EAAI8D,GAAG,eAAe1D,EAAG,OAAO,CAACyD,YAAY,uBAAuB,CAAC7D,EAAI8D,GAAG,oBAAoB,KAAKsI,OAAM,GAAM,CAAC9M,IAAI,SAAS8E,GAAG,WAAW,MAAO,CAAEpE,EAAoB,iBAAEI,EAAG,QAAQ,CAACyD,YAAY,aAAavD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,qCAAqCgE,GAAG,CAAC,MAAQ,SAASmC,GAAQA,EAAO4F,kBAAkBrM,EAAImM,kBAAoBnM,EAAImM,oBAAoB,CAAC/L,EAAG,SAAS,CAACJ,EAAI8D,GAAG,kBAAkB,GAAG,CAAC1D,EAAG,QAAQ,CAACyD,YAAY,YAAYvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,SAAS,MAAQ,sBAAsBgE,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAIsM,YAAY7F,MAAW,CAACrG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,uBAAuB,GAAG1D,EAAG,QAAQ,CAACyD,YAAY,aAAavD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,sBAAsB,SAAWN,EAAIuM,WAAavM,EAAIiF,UAAUuH,MAAM,MAAQ,aAAalI,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAIyM,UAAUhG,MAAW,CAACrG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,gBAAgB,MAAMsI,OAAM,KAAQ3H,MAAM,CAACzF,MAAOgB,EAAY,SAAE0E,SAAS,SAAUC,GAAM3E,EAAIuM,SAAS5H,GAAKE,WAAW,eAAe,GAAGzE,EAAG,MAAM,CAACyD,YAAY,0CAA0C,CAACzD,EAAG,QAAQ,CAACyD,YAAY,qBAAqB,CAACzD,EAAG,KAAK,CAACJ,EAAI8D,GAAG,wBAAwB1D,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,GAAG,YAAY,IAAI,cAAc,IAAI,QAAS,GAAM4D,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,YAAY8E,GAAG,SAASC,GACr5E,IAAIC,EAAKD,EAAIC,GACb,MAAO,CAAClE,EAAG,QAAQJ,EAAIuE,GAAG,CAACV,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,KAAKgE,GAAI,CAAClE,EAAG,SAAS,CAACJ,EAAI8D,GAAG,6BAA6B,SAAS,CAAC1D,EAAG,MAAM,CAACyD,YAAY,eAAetD,YAAY,CAAC,cAAc,aAAa,CAACP,EAAI8D,GAAG,4LAA4L1D,EAAG,YAAaJ,EAAe,YAAE,CAACI,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,qBAAqB,MAAQ,mBAAmBgE,GAAG,CAAC,MAAQtE,EAAI0M,aAAa,CAACtM,EAAG,SAAS,CAACJ,EAAI8D,GAAG,uBAAuB,GAAG1D,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,SAAWN,EAAI2M,UAAU,MAAQ,GAAG,MAAQ,sBAAsB,MAAQ,YAAY,OAAS,MAAMrI,GAAG,CAAC,MAAQtE,EAAI4M,YAAY,CAACxM,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACN,EAAI8D,GAAG,eAAe9D,EAAI8D,GAAG,gBAAgB,IAAI9D,EAAIwJ,MAAM,GAAGpJ,EAAG,uBAAuBJ,EAAIuE,GAAG,CAACjE,MAAM,CAAC,WAAaN,EAAIiF,UAAUwG,WAAW,UAAYzL,EAAIiF,YAAYjF,EAAI6M,cAAc,GAAGzM,EAAG,QAAQ,CAACyD,YAAY,QAAQ,CAACzD,EAAG,SAAS,CAACA,EAAG,KAAK,CAACJ,EAAI8D,GAAG,iCAAiC1D,EAAG,IAAI,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,6DAA6D1D,EAAG,aAAa,GAAGA,EAAG,qBAAqB,CAACd,IAAI,SAASuE,YAAY,OAAOvD,MAAM,CAAC,SAAW,IAAImE,MAAM,CAACzF,MAAOgB,EAAgB,aAAE0E,SAAS,SAAUC,GAAM3E,EAAI8M,aAAanI,GAAKE,WAAW,iBAAiB,CAACzE,EAAG,wBAAwBJ,EAAIuE,GAAG,CAACjE,MAAM,CAAC,KAAON,EAAI+M,WAAW,OAAS/M,EAAIiF,UAAUmG,OAAO,WAAapL,EAAIiF,UAAUsG,WAAW,QAAU,EAAE,mBAAmBvL,EAAIgN,gBAAgB,QAAQhN,EAAIiF,WAAW,kBAAkBjF,EAAIiN,eAAe,QAAQjN,EAAIiF,aAAajF,EAAI6M,cAAc,IAAI,IACjrD,GAAkB,GCHlB,GAAS,WAAa,IAAI7M,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,oBAAoB,CAACiE,IAAI,QAAQrE,EAAIqL,MAAM9E,GAAG1C,YAAY,qBAAqBvD,MAAM,CAAC,SAAWN,EAAIkN,WAAW,CAAC9M,EAAG,eAAe,CAACE,MAAM,CAAC,SAAWN,EAAIkN,SAAS,MAAQlN,EAAIqL,MAAM,KAAOrL,EAAIqG,KAAK,MAAS,gBAAkBrG,EAAImN,QAAS,KAAOnN,EAAIqC,KAAK,uBAAyBrC,EAAIM,MAAM6K,QAAO,SAAUiC,GAAK,OAAQA,EAAE7G,MAAO5J,QAAQ2H,GAAG,CAAC,gBAAgBtE,EAAIqN,aAAa,cAAcrN,EAAIsN,WAAW,cAActN,EAAIuN,WAAW,gBAAgB,SAAS9G,GAAQ,OAAOzG,EAAIwN,MAAM,gBAAgB/G,IAAS,gBAAgBzG,EAAI6J,gBAAgBzJ,EAAG,4BAA4B,CAACE,MAAM,CAAC,MAAS,gBAAkBN,EAAImN,QAAS,MAAQ,KAAK,CAAEnN,EAAQ,KAAEI,EAAG,QAAQ,CAACyD,YAAY,iBAAiBvD,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,aAAa,CAACyD,YAAY,8BAA8BvD,MAAM,CAAC,MAAQN,EAAIqL,MAAM9M,KAAK,MAAQyB,EAAIgN,gBAAgB,YAAc,iCAAiC,QAAS,EAAK,aAAa,QAAQ,YAAY,QAAQ,eAAe,GAAG,KAAO,GAAG,MAAQ,IAAI1I,GAAG,CAAC,MAAQtE,EAAIyN,aAAavJ,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,gBAAgB8E,GAAG,WAAW,MAAO,CAAChE,EAAG,MAAM,CAACyD,YAAY,gBAAgB,CAACzD,EAAG,OAAO,CAACyD,YAAY,4BAA4B,CAAC7D,EAAI8D,GAAG,cAAc1D,EAAG,SAAS,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,sBAAsB,KAAKsI,OAAM,GAAM,CAAC9M,IAAI,SAAS8E,GAAG,WAAW,MAAO,CAAChE,EAAG,SAAS,CAACJ,EAAI8D,GAAG,wBAAwBsI,OAAM,GAAM,CAAC9M,IAAI,OAAO8E,GAAG,SAASC,GACp+C,IAAIgC,EAAOhC,EAAIgC,KACf,MAAO,CAACjG,EAAG,OAAO,CAACJ,EAAI8D,GAAG9D,EAAI+D,GAAGsC,EAAKrH,UAAWqH,EAAKrH,QAAUqH,EAAKqH,KAAMtN,EAAG,QAAQ,CAACyD,YAAY,mBAAmB,CAAC7D,EAAI8D,GAAG9D,EAAI+D,GAAGsC,EAAKqH,SAAS1N,EAAIwJ,SAAS,MAAK,EAAM,eAAe,GAAGpJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,WAAW,CAACyD,YAAY,0BAA0BvD,MAAM,CAAC,MAAQN,EAAI2N,MAAM,cAAa,EAAM,MAAQ,eAAe,YAAc,eAAe,aAAa,CAAC3I,SAAS,GAAM,QAAS,EAAK,YAAchF,EAAIqL,MAAM/C,MAAStI,EAAI4N,eAAe,eAAe,GAAG,KAAO,GAAG,MAAQ,IAAI1J,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,gBAAgB8E,GAAG,WAAW,MAAO,CAAChE,EAAG,MAAM,CAACyD,YAAY,qBAAqB,CAACzD,EAAG,OAAO,CAACJ,EAAI8D,GAAG,cAAcsI,OAAM,IAAO,MAAK,EAAM,WAAW3H,MAAM,CAACzF,MAAOgB,EAAIqL,MAAU,KAAE3G,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIqL,MAAO,OAAQ1G,IAAME,WAAW,iBAAiB,IAAI,GAAG7E,EAAIwJ,KAAMxJ,EAAIM,MAAY,OAAE,CAACF,EAAG,QAAQ,CAACyD,YAAY,YAAYvD,MAAM,CAAC,MAAQ,KAAKN,EAAI6N,GAAI7N,EAAS,OAAE,SAAS8N,GAAW,OAAO1N,EAAG,kBAAkBJ,EAAIuE,GAAG,CAACjF,IAAIwO,EAAUvH,GAAGjG,MAAM,CAAC,UAAYwN,IAAY9N,EAAI6M,gBAAe,IAAI7M,EAAIwJ,KAAMxJ,EAAI+N,aAAa/N,EAAIqL,OAAQ,CAACjL,EAAG,MAAM,CAACyD,YAAY,eAAe,CAAC7D,EAAI8D,GAAG,2CAA2C1D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAK,uBAAwB+H,OAAOrG,KAAK8K,OAAOzE,UAAU,CAACtG,EAAI8D,GAAG,0BAA0B,IAAK9D,EAAIgO,SAAShO,EAAIqL,OAAQ,CAACjL,EAAG,MAAM,CAACyD,YAAY,eAAe,CAAC7D,EAAI8D,GAAG,0CAA0C1D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAK,mBAAoB+H,OAAOrG,KAAK8K,OAAOzE,UAAU,CAACtG,EAAI8D,GAAG,uBAAuB,IAAK9D,EAAIiO,OAAOjO,EAAIqL,QAAyB,IAAfrL,EAAIkO,OAAc,CAAC9N,EAAG,MAAM,CAACyD,YAAY,eAAe,CAAC7D,EAAI8D,GAAG,2CAA2C1D,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,CAAC/B,KAAK,YAAa+H,OAAOrG,KAAK8K,OAAOzE,UAAU,CAACtG,EAAI8D,GAAG,yBAAyB,IAAK9D,EAAImO,SAASnO,EAAIqL,OAAQjL,EAAG,cAAc,CAACyD,YAAY,QAAQ,CAAE7D,EAAIoO,SAAe,OAAE,CAAChO,EAAG,MAAM,CAACyD,YAAY,aAAatD,YAAY,CAAC,YAAY,SAAS,CAACP,EAAI8D,GAAG,wBAAwB1D,EAAG,qBAAqB,CAACd,IAAIU,EAAIqL,MAAM9M,KAAK+B,MAAM,CAAC,MAAQN,EAAIqO,OAAO,SAAW,GAAG,UAAY,KAAKrO,EAAI6N,GAAI7N,EAAY,UAAE,SAASsO,GAAO,OAAOlO,EAAG,kBAAkBJ,EAAIuE,GAAG,CAACjF,IAAIgP,EAAM/H,GAAGjG,MAAM,CAAC,KAAOgO,EAAM,OAAStO,EAAIoL,OAAO,WAAapL,EAAIuL,WAAW,QAAUvL,EAAImN,QAAQ,EAAE,mBAAmBnN,EAAIgN,gBAAgB,kBAAkBhN,EAAIiN,eAAe,OAASjN,EAAIqL,MAAM/C,OAAOtI,EAAI6M,gBAAe,IAAI7M,EAAIwJ,KAAOxJ,EAAIuO,OAAOvO,EAAIqL,OAAskBrL,EAAIwJ,KAAlkBpJ,EAAG,QAAQ,CAACyD,YAAY,qBAAqB,CAAG7D,EAAIoO,SAASzR,OAAgFqD,EAAIwJ,KAA5EpJ,EAAG,MAAM,CAACyD,YAAY,cAAc,CAAC7D,EAAI8D,GAAG,4BAAqC1D,EAAG,YAAYA,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,MAAQ,QAAQ,WAAaN,EAAIoO,SAASjD,QAAO,SAAUqD,GAAK,OAAQA,EAAEjI,MAAO5J,QAAQ2H,GAAG,CAAC,MAAQtE,EAAIyO,WAAW,CAACrO,EAAG,SAAS,CAACyD,YAAY,UAAUvD,MAAM,CAAC,KAAO,KAAK,CAACN,EAAI8D,GAAG,eAAgB9D,EAAIoO,SAASjD,QAAO,SAAUqD,GAAK,OAAQA,EAAEjI,MAAa,OAAE,CAACvG,EAAI8D,GAAG,2BAA2B,CAAC9D,EAAI8D,GAAG,wBAAwB9D,EAAI+D,GAAG/D,EAAIqL,MAAM9M,MAAM,QAAQ,IAAI,IAAa,GAAKyB,EAAI0O,YAAY1O,EAAIqL,OAA8GrL,EAAIwJ,KAA1GpJ,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQN,EAAIqL,OAAO/G,GAAG,CAAC,MAAQ,SAASmC,GAAQzG,EAAIqL,MAAMrM,MAAQyH,OAAqB,IAAI,IACnkG,GAAkB,GCHlB,I,UAAS,WAAa,IAAIzG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACyD,YAAY,oCAAoCvD,MAAM,CAAC,GAAKN,EAAIqC,KAAO,GAAK,EAAE,KAAO,OAAO,CAAErC,EAAS,MAAEI,EAAG,MAAM,CAACyD,YAAY,aAAatD,YAAY,CAAC,YAAY,SAAS,CAACP,EAAI8D,GAAG9D,EAAI+D,GAAG/D,EAAI2O,UAAU3O,EAAIwJ,KAAOxJ,EAAIqC,KAAgxDjC,EAAG,UAAU,CAACyD,YAAY,YAAYvD,MAAM,CAAC,UAAY,IAAI,MAAQ,mBAAmB,CAACF,EAAG,QAAQ,CAACyD,YAAY,QAAQ,CAAE7D,EAAI8N,UAAY,GAAE1N,EAAG,MAAM,CAACJ,EAAI8D,GAAG,2BAA2B9D,EAAI+D,GAAG/D,EAAI8N,UAAUvP,SAAS6B,EAAG,MAAM,CAACJ,EAAI8D,GAAG,+BAA+B1D,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,GAAG,YAAY,IAAI,cAAc,IAAI,QAAS,GAAM4D,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,YAAY8E,GAAG,SAASC,GACl+E,IAAIC,EAAKD,EAAIC,GACb,MAAO,CAAClE,EAAG,QAAQJ,EAAIuE,GAAG,CAACV,YAAY,QAAQvD,MAAM,CAAC,MAAQ,GAAG,KAAO,KAAKgE,GAAI,CAAClE,EAAG,SAAS,CAACJ,EAAI8D,GAAG,2BAA2B,SAAS,CAAC1D,EAAG,MAAM,CAACyD,YAAY,eAAetD,YAAY,CAAC,cAAc,aAAa,CAACP,EAAI8D,GAAG,wDAAwD,GAAG1D,EAAG,YAAaJ,EAAU,OAAE,CAACI,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,qBAAqB,MAAQ,mBAAmBgE,GAAG,CAAC,MAAQtE,EAAI4O,gBAAgB,CAACxO,EAAG,SAAS,CAACJ,EAAI8D,GAAG,uBAAuB,GAAG1D,EAAG,QAAQ,CAACyD,YAAY,YAAYvD,MAAM,CAAC,MAAQ,GAAG,MAAQ,sBAAsB,MAAQ,YAAY,OAAS,MAAMgE,GAAG,CAAC,MAAQtE,EAAI6O,cAAc,CAACzO,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACN,EAAI8D,GAAG,eAAe9D,EAAI8D,GAAG,gBAAgB,IAAI,CAAE9D,EAAIqG,KAAO,GAAEjG,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,0BAA0B,MAAQ,aAAagE,GAAG,CAAC,MAAQtE,EAAI8O,WAAW,CAAC1O,EAAG,SAAS,CAACJ,EAAI8D,GAAG,kBAAkB,GAAG9D,EAAIwJ,KAAKpJ,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,gBAAgBgE,GAAG,CAAC,MAAQtE,EAAI+O,kBAAkB,CAAC3O,EAAG,SAAS,CAACJ,EAAI8D,GAAG,iBAAiB,KAAK,GAAG1D,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,aAAa,YAAc,YAAY,MAAQ,GAAG,SAAW,IAAImE,MAAM,CAACzF,MAAOgB,EAAIqG,KAAS,KAAE3B,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIqG,KAAM,OAAQ1B,IAAME,WAAW,gBAAgB,GAAGzE,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,eAAe,MAAQN,EAAIgP,MAAM,MAAQ,GAAG,aAAa,CAAChK,SAAS,GAAM,QAAS,GAAMP,MAAM,CAACzF,MAAOgB,EAAIqG,KAAS,KAAE3B,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIqG,KAAM,OAAQ1B,IAAME,WAAW,gBAAgB,GAAGzE,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAGJ,EAAIqG,KAAK/C,OAAS,WAAa,eAAe,CAAC2L,IAAI,YAAY3O,MAAM,CAAC,MAAQN,EAAIqG,KAAKrH,MAAM,MAAQgB,EAAIqG,KAAK/C,OAAO,MAAQtD,EAAIqG,KAAK/C,OAAS,qBAAuB,mBAAmB,YAAc,cAAc,eAAe,GAAG,QAAS,EAAK,aAAa,CAAC0B,SAAS,GAAM,MAAQ,IAAIV,GAAG,CAAC,MAAQ,SAASmC,GAAQzG,EAAIqG,KAAKrH,MAAQyH,IAASvC,YAAYlE,EAAImE,GAAG,CAAoB,IAAlBnE,EAAIqG,KAAKiC,KAAY,CAAChJ,IAAI,eAAe8E,GAAG,WAAW,MAAO,CAAChE,EAAG,QAAQ,CAACyD,YAAY,yBAAyBvD,MAAM,CAAC,MAAQN,EAAIkP,WAAa,sCAAuC,mCAAmC,MAAQlP,EAAIkP,WAAa,YAAc,SAAS,MAAQ,GAAG,YAAY,MAAM5K,GAAG,CAAC,MAAQtE,EAAImP,aAAa,CAAC/O,EAAG,SAAS,CAACJ,EAAI8D,GAAG,gBAAgB,KAAKsI,OAAM,GAAM,MAAM,MAAK,MAAS,IAAI,GAAIpM,EAAc,WAAEI,EAAG,iBAAiB,CAACyD,YAAY,aAAavD,MAAM,CAAC,QAAUN,EAAIuK,UAAU,YAAc,4CAA4C9F,MAAM,CAACzF,MAAOgB,EAAIqG,KAAY,QAAE3B,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIqG,KAAM,UAAW1B,IAAME,WAAW,kBAAkB7E,EAAIwJ,MAAM,GAF13EpJ,EAAGJ,EAAIqG,KAAK/C,OAAS,WAAa,eAAe,CAAC2L,IAAI,YAAYpL,YAAY,qCAAqCvD,MAAM,CAAC,MAAQN,EAAIqG,KAAK/C,OAAO,YAActD,EAAIqG,KAAK/C,OAAS,qBAAuB,mBAAmB,KAAOtD,EAAIqG,KAAK+I,QAAU,OAAOpP,EAAIqG,KAAK+I,QAAU,KAAK,oBAAoBpP,EAAIqG,KAAK+I,QAAQ,gBAAgBpP,EAAIqG,KAAK+I,QAAQ,QAAS,EAAK,aAAa,CAACpK,SAAS,GAAM,MAAQ,GAAG,KAAO,IAAId,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,gBAAgB8E,GAAG,WAAW,MAAO,CAAChE,EAAG,MAAM,CAACyD,YAAY,2BAA2B,CAACzD,EAAG,SAAS,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,UAAU,MAAQ,YAAY,CAACN,EAAI8D,GAAG,eAAe1D,EAAG,OAAO,CAACG,YAAY,CAAC,SAAW,WAAW,IAAM,QAAQ,CAACP,EAAI8D,GAAG9D,EAAI+D,GAAG/D,EAAIqG,KAAK9H,UAAU,KAAK6N,OAAM,GAAM,CAAC9M,IAAI,SAAS8E,GAAG,WAAW,MAAO,CAAGpE,EAAIqP,OAAqQjP,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,sBAAsB,MAAQ,aAAagE,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAI6O,YAAYpI,MAAW,CAACrG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,gBAAgB,GAAxe1D,EAAG,QAAQ,CAACyD,YAAY,cAAcvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,qCAAqCN,EAAIqG,KAAK9H,MAAM+F,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAI8O,SAASrI,MAAW,CAACrG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,kBAAkB,KAAmPsI,OAAM,GAAOpM,EAAU,OAAE,CAACV,IAAI,eAAe8E,GAAG,WAAW,MAAO,CAAChE,EAAG,QAAQ,CAACG,YAAY,CAAC,IAAM,OAAO,MAAQ,KAAKD,MAAM,CAAC,IAAM,GAAG,UAAU,GAAG,SAAW,GAAG,UAAY,GAAG,MAAQ,KAAK,OAAS,KAAK,MAAQ,mBAAmB,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,qBAAqB,MAAQ,UAAUgE,GAAG,CAAC,MAAQtE,EAAI4O,gBAAgB,CAAC5O,EAAI8D,GAAG,uBAAuB,KAAKsI,OAAM,GAAM,MAAM,MAAK,GAAM3H,MAAM,CAACzF,MAAOgB,EAAIqG,KAAU,MAAE3B,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIqG,KAAM,QAAS1B,IAAME,WAAW,iBAEooB,KACtsF,GAAkB,G,mCCyItB,IACEtG,KAAM,iBACNsM,WAAY,CACVxB,QAAJ,OACIiG,UAAJ,QACI/F,WAAJ,OACIgG,cAAe,GAAnB,eAEE7E,MAAO,CACLoD,UAAW,CAAf,4BAEE3R,KAAM,WAAR,OACA,QACA,QACA,QACA,OACA,uCACA,sCAEA,WACA,SACA,MACA,cACA,qBACA,WAEA,QACA,eACA,mBAGEqT,MAAO,CACL1B,UAAW,CACT2B,WAAW,EACXL,QAAS,SAAf,cACQnP,KAAKoG,KAAO,OAApB,OAAoB,CAApB,gCACQpG,KAAK0L,YAAYrE,MAAK,WAA9B,qCAIEkB,SAAU,CACR6G,OADJ,WAEM,OAAOK,KAAKC,UAAU1P,KAAKoG,QAAUqJ,KAAKC,UAAU1P,KAAK6N,YAE3Da,MAJJ,WAKM,IAAN,KAIM,OAHI1O,KAAKoG,KAAKsI,OAAS1O,KAAKoG,KAAKsI,MAAMzI,QAAQ,KAAM,MAAQjG,KAAKoG,KAAK9H,OACrEoQ,EAAQ1O,KAAKoG,KAAKsI,OAEbA,GAETO,WAXJ,WAYM,QAASjP,KAAKoG,KAAK+I,SAAWnP,KAAKuK,OAGvC/B,QAAS,CACPqG,SADJ,WAEM7O,KAAKoC,MAAQpC,KAAKoC,MAEpBwM,YAJJ,WAIA,WACMe,YAAW,WACTlH,EAAI1B,KAAM,EAAlB,wDACA,kBAAU,IAAV,SACU,EAAV,QACU,EAAV,6BAAY,OAAZ,4CAEA,mBAAU,OAAV,sBACA,KAEI4H,cAdJ,WAeM3O,KAAKoG,KAAO,OAAlB,OAAkB,CAAlB,8CAEI0I,gBAjBJ,WAiBA,WACW9O,KAAKoG,KAAKE,GAIXoC,QAAQ,2CAA6C1I,KAAKoG,KAAK9H,KAAO,MACxEmK,EAAI1B,KAAK,oBAAqB,CAAtC,qCACA,iBAAU,OAAV,uCACA,mBAAU,OAAV,kBANQ/G,KAAKuN,MAAM,oBAAqBvN,KAAKoG,OASzC8I,WA5BJ,WA6BUlP,KAAKoG,KAAK+I,UAGdnP,KAAKuK,MAAQvK,KAAKuK,QAGtB5B,QA1FF,WA2FS3I,KAAK6N,UAAUvH,KAClBtG,KAAKoC,MAAO,KCxOsU,M,sCCQpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACwG,OAAA,KAAKkD,QAAA,KAAK3C,QAAA,KAAM4C,QAAA,KAAK3C,UAAA,KAAQwG,UAAA,KAAOvG,UAAA,KAAQC,aAAA,KAAWuG,YAAA,OChCrF,IAAI,GAAS,WAAa,IAAI9P,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAGJ,EAAIkN,SAAW,UAAY,2BAA2B,CAAC+B,IAAI,YAAYpL,YAAY,qCAAqCvD,MAAM,CAAC,MAAQN,EAAI+P,OAAO7L,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,UAAU8E,GAAG,WAAW,MAAO,CAAChE,EAAG,SAAS,CAACyD,YAAY,mBAAmB,CAAC7D,EAAI8D,GAAG,yBAAyBsI,OAAM,MAAS,CAAGpM,EAAIgQ,SAAShQ,EAAIqL,OAAufrL,EAAIwJ,KAAnfpJ,EAAG,qBAAqB,CAAC8D,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,QAAQ8E,GAAG,WAAW,MAAO,CAAChE,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIqL,MAAM4E,KAAK,MAAQ,YAAY,cAAc,GAAG,KAAO,SAAS,eAAe,YAAY,IAAM,KAAK3L,GAAG,CAAC,MAAQ,SAASmC,GAAQzG,EAAIqL,MAAM4E,KAAO9J,SAASM,GAAU,WAAW2F,OAAM,IAAO,MAAK,EAAM,YAAY,CAAChM,EAAG,QAAQ,CAACyD,YAAY,QAAQvD,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,MAAQ,+CAA+C,CAACN,EAAI8D,GAAG,KAAK9D,EAAI+D,GAAG/D,EAAIqL,MAAM4E,MAAM,QAAQ,GAAY7P,EAAG,OAAO,CAACG,YAAY,CAAC,eAAe,MAAM,gBAAgB,QAAQ,CAACP,EAAI8D,GAAG,KAAK9D,EAAI+D,GAAG/D,EAAIqG,KAAK9H,MAAQ,mBAAmB,QAAQ6B,EAAG,OAAO,CAACyD,YAAY,mBAAmB,CAAE7D,EAAIqG,KAAKsI,MAAMzI,QAAQ,KAAK,MAAQlG,EAAIqG,KAAK9H,KAAM6B,EAAG,OAAO,CAACJ,EAAI8D,GAAG9D,EAAI+D,GAAG/D,EAAIqG,KAAKsI,MAAMzI,QAAQ,KAAM,QAAQlG,EAAIwJ,KAAOxJ,EAAIqG,KAAKE,GAA4CvG,EAAIwJ,KAA5CpJ,EAAG,QAAQ,CAACJ,EAAI8D,GAAG,uBAAiC9D,EAAIqG,KAAS,KAAEjG,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,GAAG,YAAY,IAAI,cAAc,IAAI,QAAS,GAAM4D,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,YAAY8E,GAAG,SAASC,GACh6C,IAAIC,EAAKD,EAAIC,GACb,MAAO,CAAClE,EAAG,QAAQJ,EAAIuE,GAAG,CAACV,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,KAAKgE,GAAI,CAAClE,EAAG,SAAS,CAACJ,EAAI8D,GAAG,6BAA6B,OAAO,MAAK,EAAM,YAAY,CAAC1D,EAAG,MAAM,CAACyD,YAAY,eAAetD,YAAY,CAAC,cAAc,aAAa,CAACP,EAAI8D,GAAG9D,EAAI+D,GAAG/D,EAAIqG,KAAK6J,WAAWlQ,EAAIwJ,KAAKpJ,EAAG,YAAaJ,EAAU,OAAE,CAACI,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,qBAAqB,MAAQ,mBAAmBgE,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAIwN,MAAM,kBAAkB,CAACpN,EAAG,SAAS,CAACJ,EAAI8D,GAAG,uBAAuB,GAAG1D,EAAG,QAAQ,CAACyD,YAAY,YAAYvD,MAAM,CAAC,MAAQ,GAAG,MAAQ,sBAAsB,MAAQ,YAAY,OAAS,MAAMgE,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAImQ,UAAU1J,MAAW,CAACrG,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACN,EAAI8D,GAAG,eAAe9D,EAAI8D,GAAG,gBAAgB,IAAI,CAAE9D,EAAIqL,MAAQ,GAAEjL,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,UAAY,GAAG,MAAQN,EAAIoQ,qBAAuB,0BAA4B,mBAAmB,MAAQ,cAAc,YAAY,KAAK,SAAWpQ,EAAIoQ,sBAAsB9L,GAAG,CAAC,MAAQ,SAASmC,GAAQ,OAAOzG,EAAIwN,MAAM,gBAAgB/G,MAAW,CAACrG,EAAG,SAAS,CAACyD,YAAY,eAAevD,MAAM,CAAC,MAAQ,kBAAkB,CAACN,EAAI8D,GAAG,eAAe1D,EAAG,SAAS,CAACyD,YAAY,UAAUvD,MAAM,CAAC,MAAQ,kBAAkB,CAACN,EAAI8D,GAAG,gBAAgB,GAAG9D,EAAIwJ,KAAMxJ,EAAIqL,MAAQ,GAAEjL,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,sCAAsC,MAAQN,EAAIqC,KAAO,YAAa,WAAWiC,GAAG,CAAC,MAAQ,SAASmC,GAAQ,OAAOzG,EAAIwN,MAAM,cAAc/G,MAAW,CAACrG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,kBAAkB,GAAG9D,EAAIwJ,KAAOxJ,EAAIgQ,SAAShQ,EAAIqL,OAA4NrL,EAAIwJ,KAAxNpJ,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,gBAAgBgE,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAIqQ,YAAY5J,MAAW,CAACrG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,iBAAiB,KAAc,IACr2D,GAAkB,G,0FCSPwM,mBAAOC,QAAYC,SAAWC,OAAO,CAChDlS,KAAM,qBACNmM,MAAO,CACHgG,WAAY,CACRC,QAAS,UAEbC,MAAOC,QACPC,MAAOD,QACPE,WAAYF,QACZG,SAAU,CACNL,QAAS,QAEbM,WAAY,CACR3I,KAAM4I,OACNP,QAAS,+BAIjBxU,KAlBgD,WAmB5C,MAAO,CACHgV,UAAU,IAIlB3B,MAAO,CACH2B,SADG,SACMC,GACDA,GACAnR,KAAKuN,MAAM,QACXoC,WAAW3P,KAAKoR,MAAO,KAEvBpR,KAAKuN,MAAM,WAKvB/E,QAAS,CACLzH,OADK,WAEDf,KAAKkR,UAAW,EAChBlR,KAAKuN,MAAM,WAGf6D,MANK,WAOD,IAAMC,EAAQrR,KAAKsR,MAAMC,QAAQC,cAAc,SAC/CH,GAASA,EAAMD,SAGnBK,UAXK,SAWKtN,EAAIsJ,GACV,OAAOzN,KAAKE,eAAe0I,QAAM,CAC7B6B,MAAO,CACHgD,MAAM,EACNqC,MAAO,UACPtM,OAAO,GAEXa,GAAI,CACAqN,MAAOvN,IAEZsJ,IAGPkE,WAxBK,WAwBQ,WACT,OAAO3R,KAAKE,eAAe,MAAO,CAC9BqM,MAAO,2BACR,CAACvM,KAAKyR,UAAUzR,KAAKe,OAAQf,KAAKyQ,YAAazQ,KAAKyR,WAAU,WAC7D,EAAK5F,KAAK,EAAK+F,aACf,EAAKrE,MAAM,UACZvN,KAAK+Q,aAGZc,WAjCK,WAiCQ,WACT,OAAO7R,KAAKE,eAAe,MAAO,CAC9B0D,YAAa,0BACbS,GAAI,CACAyN,QAAS,SAAAC,GACLA,EAAEC,UAAYC,QAASC,KAAO,EAAKnR,SAE/BgR,EAAEC,UAAYC,QAASE,QACvB,EAAKtG,KAAK,EAAK+F,aACf,EAAKrE,MAAM,WAIvBnJ,IAAK,WACN,CAACpE,KAAKoS,OAAOf,UAKxBgB,OAvFgD,SAuFzCC,GAAG,WACN,OAAOA,EAAEC,QAAO,CACZ3O,YAAa,iBACb2I,MAAOvM,KAAKwS,aACZ/H,MAAO,CACHgI,aAAc,+BACdzB,WAAYhR,KAAKgR,WACjB0B,OAAQ,YACRC,OAAO,EACP5T,MAAOiB,KAAKkR,SACZ0B,cAAe5S,KAAK8Q,WACpB+B,qBAAqB,EACrBhC,MAAO7Q,KAAK6Q,MACZrN,MAAOxD,KAAKwD,MACZsP,KAAM9S,KAAK8S,KACXC,QAAQ,GAEZ1O,GAAI,CACAgN,MAAO,SAAAF,GAAG,OAAI,EAAKD,SAAWC,IAElClN,YAAa,CACT+O,UAAW,YAEO,IADF3O,EACE,EADFA,GAEZ,OAAOiO,EAAE,MAAO,CACZ1O,YAAa,4BACbS,MACD,CAACiO,EAAE,OAAQ,CACV1O,YAAa,sCACd,EAAKwO,OAAO1B,cAGxB,CAAC1Q,KAAK6R,aAAc7R,KAAK2Q,MAAQ3Q,KAAK2R,aAAe,U,aCnChE,IACErT,KAAM,cACNmM,MAAO,CACLW,MAAO,CAAX,yBACIhF,KAAM,CAAV,yBACI0J,MAAO,CAAX,sCACI1N,KAAM,CAAV,yBACI+N,qBAAsB,CAA1B,yBACIlD,SAAU,CAAd,0BAEErC,WAAY,CACVqI,iBAAJ,GACIrD,OAAJ,QACIsD,sBAAJ,SAEE3K,SAAU,OAAZ,OAAY,CAAZ,kBACA,wBACA,SACA,WACA,WACA,WACA,oBANA,IAQI6G,OARJ,WASM,OAAOK,KAAKC,UAAU1P,KAAKoG,QAAUqJ,KAAKC,UAAU1P,KAAKoL,UAG7D5C,QAAS,CACP4H,YADJ,WACA,WACWpQ,KAAKoL,MAAM9E,GAIZoC,QAAQ,wCAA0C1I,KAAKoL,MAAM9M,KAAO,MACtEmK,EAAI1B,KAAK,gBAAiB,CAAlC,sCACA,iBAAU,OAAV,oCACA,mBAAU,OAAV,kBANQ/G,KAAKuN,MAAM,gBAAiBvN,KAAKoL,QASrC8E,UAZJ,WAYA,WACMP,YAAW,WACTlH,EAAI1B,KAAM,EAAlB,kDACA,kBAAU,IAAV,SACU,EAAV,qBACU,EAAV,6BAAY,OAAZ,wCAEA,mBAAU,OAAV,sBACA,OC/IqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAAC6B,OAAA,KAAKO,QAAA,KAAME,UAAA,KAAQC,aAAA,KAAWuG,YAAA,OC3B5D,IAAI,GAAS,WAAa,IAAI9P,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACyD,YAAY,4BAA4B,CAACzD,EAAG,eAAe,CAACyD,YAAY,oBAAoB,CAAE7D,EAAIoT,aAAapT,EAAIqL,OAAQ,CAACjL,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQN,EAAIqL,MAAMrM,MAAM,MAAQgB,EAAIqL,MAAM/H,OAAO,OAAS,GAAG,MAAQ,GAAG,SAAW,GAAG,KAAO,GAAG,MAAQ,GAAG,kBAAkB,GAAG,qBAAqB,YAAY,cAAc,GAAG,eAAe,OAAO,aAAa,QAAQ,YAAY,OAAO,aAAa,CAAC0B,SAAS,GAAM,QAAS,GAAMV,GAAG,CAAC,OAAStE,EAAIqT,cAAcnP,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,YAAY8E,GAAG,SAASC,GACxmB,IAAI/D,EAAQ+D,EAAI/D,MACZgT,EAAQjP,EAAIiP,MACZjN,EAAOhC,EAAIgC,KACXkN,EAAWlP,EAAIkP,SACnB,MAAO,CAACnT,EAAG,SAASJ,EAAIwE,GAAG,CAAClE,MAAM,CAAC,cAAciT,EAAS,aAAa,QAAQ,MAASD,EAAoB,OAAZ,UAAmB,MAASA,EAA4B,mBAApB,kBAAuC,MAAQ,GAAG,MAAQ,IAAIhP,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAIwT,UAAUnN,IAAO,cAAc,SAASI,GAAQ,OAAOzG,EAAIyT,WAAWpN,MAAS,SAAS/F,GAAM,GAAO,CAAE+F,EAAU,MAAEjG,EAAG,SAAS,CAACJ,EAAI8D,GAAG9D,EAAI+D,GAAGsC,EAAKrH,UAAUgB,EAAIwJ,KAAMnD,EAAS,KAAEjG,EAAG,OAAO,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,IAAI9D,EAAI+D,GAAGsC,EAAKqH,MAAM,OAAOtN,EAAG,OAAO,CAACJ,EAAI8D,GAAG9D,EAAI+D,GAAGsC,YAAe,MAAK,EAAM,eAAgBrG,EAAI0T,eAAe1T,EAAIqL,OAAQ,CAACjL,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIqL,MAAMrM,MAAM,MAAQ,mBAAmB,YAAc,oDAAoD,eAAe,GAAG,KAAO,GAAG,MAAQ,IAAIsF,GAAG,CAAC,MAAQtE,EAAIqT,cAAcnP,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,gBAAgB8E,GAAG,WAAW,MAAO,CAAChE,EAAG,MAAM,CAACyD,YAAY,qBAAqB,CAACzD,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAY,CAACN,EAAI8D,GAAG,oBAAoB1D,EAAG,OAAO,CAACG,YAAY,CAAC,SAAW,WAAW,IAAM,QAAQ,CAACP,EAAI8D,GAAG,YAAY,KAAKsI,OAAM,QAAW,CAAChM,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQN,EAAIhB,MAAM,OAASgB,EAAI2T,YAAY,MAAQ3T,EAAI4T,YAAY,QAAS,EAAK,MAAQ,wBAAwB,YAAc,oDAAsD,aAAa,QAAQ,YAAY,OAAO,eAAe,GAAG,KAAO,GAAG,MAAQ,GAAG,UAAY,IAAItP,GAAG,CAAC,MAAQtE,EAAIqT,cAAcnP,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,gBAAgB8E,GAAG,WAAW,MAAO,CAAChE,EAAG,MAAM,CAACyD,YAAY,qBAAqB,CAACzD,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAY,CAACN,EAAI8D,GAAG,kBAAkB1D,EAAG,OAAO,CAACG,YAAY,CAAC,SAAW,WAAW,IAAM,QAAQ,CAACP,EAAI8D,GAAG9D,EAAI+D,GAAG/D,EAAI6T,kBAAkB,KAAKzH,OAAM,GAAM,CAAC9M,IAAI,OAAO8E,GAAG,SAASC,GAC5tD,IAAIgC,EAAOhC,EAAIgC,KACf,MAAO,CAACjG,EAAG,OAAO,CAACJ,EAAI8D,GAAG9D,EAAI+D,GAAGsC,EAAKrH,UAAUoB,EAAG,OAAO,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG9D,EAAI+D,GAAGsC,EAAKqH,SAAUrH,EAAS,KAAEjG,EAAG,QAAQ,CAACyD,YAAY,mBAAmB,CAAC7D,EAAI8D,GAAG,KAAK9D,EAAI+D,GAAGsC,EAAK6J,MAAM,OAAOlQ,EAAIwJ,YAAaxJ,EAAI8T,UAAU9T,EAAIqL,OAAQjL,EAAG,eAAe,CAACyD,YAAY,OAAOtD,YAAY,CAAC,YAAY,SAASD,MAAM,CAAC,MAAQN,EAAIqL,MAAM0I,WAAWC,MAAM,KAAO,SAAS,MAAQ,0DAA0D,IAAM,IAAI,IAAM,KAAK,MAAQ,SAAS,KAAO,GAAG,MAAQ,GAAG,eAAe,IAAI1P,GAAG,CAAC,MAAQtE,EAAIiU,gBAAgB7T,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQN,EAAIkP,WAAa,sCAAuC,mCAAmC,MAAQlP,EAAIkP,WAAa,YAAc,SAAS,YAAY,KAAK,UAAY,KAAK5K,GAAG,CAAC,MAAQtE,EAAImP,aAAa,CAAC/O,EAAG,SAAS,CAACJ,EAAI8D,GAAG,gBAAgB,KAAK,GAAI9D,EAAc,WAAEI,EAAG,UAAU,CAACyD,YAAY,OAAOtD,YAAY,CAAC,SAAW,YAAYD,MAAM,CAAC,UAAY,MAAM,CAAEN,EAAY,SAAEI,EAAG,iBAAiB,CAACE,MAAM,CAAC,QAAUN,EAAIuK,UAAU,YAAc,4CAA4C9F,MAAM,CAACzF,MAAOgB,EAAIqL,MAAa,QAAE3G,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAIqL,MAAO,UAAW1G,IAAME,WAAW,mBAAmB7E,EAAIwJ,KAAKpJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,GAAG,YAAY,IAAI,cAAc,IAAI,QAAS,GAAM4D,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,YAAY8E,GAAG,SAASC,GACj0C,IAAIC,EAAKD,EAAIC,GACb,MAAO,CAAClE,EAAG,QAAQJ,EAAIuE,GAAG,CAAChE,YAAY,CAAC,MAAQ,OAAO,IAAM,QAAQD,MAAM,CAAC,UAAU,GAAG,IAAM,GAAG,KAAO,GAAG,SAAW,KAAKgE,GAAI,CAAClE,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,kBAAkB,CAACN,EAAI8D,GAAG,2BAA2B,OAAO,MAAK,EAAM,YAAY,CAAC1D,EAAG,MAAM,CAACyD,YAAY,eAAetD,YAAY,CAAC,cAAc,aAAa,CAACP,EAAI8D,GAAG,gEAAgE1D,EAAG,MAAMJ,EAAI8D,GAAG,gIAAgI1D,EAAG,MAAMA,EAAG,MAAMJ,EAAI8D,GAAG,iIAAiI1D,EAAG,MAAMJ,EAAI8D,GAAG,+DAA+D1D,EAAG,MAAMA,EAAG,MAAMJ,EAAI8D,GAAG,+CAA+C,GAAG9D,EAAIwJ,MAAM,IACh1B,GAAkB,G,aC0ItB,IACEjL,KAAM,aACNmM,MAAO,CACLW,MAAO,CAAX,0BAEER,WAAY,CACV0E,cAAe,GAAnB,eAEEpT,KAAM,WAAR,OACA,YACA,QACA,WACA,SACA,MACA,cACA,qBACA,WAEA,QACA,eACA,mBAGEqM,SAAU,OAAZ,OAAY,CAAZ,iCACA,8CACA,wBACA,iBACA,eACA,eACA,WACA,SACA,eARA,IAUIxJ,MAVJ,WAWM,MAAN,WAAU,OAAV,OAAU,CAAV,kBACeiB,KAAKoL,MAAMrM,MAEb,CACLA,MAAOiB,KAAKoL,MAAMrM,MAClB0O,KAAMzN,KAAKiU,WAAWjU,KAAKoL,MAAMrM,QAAUiB,KAAKoL,MAAMrM,QAG1D6U,aAnBJ,WAoBM,OAAI5T,KAAKjB,OAASiB,KAAKjB,MAAMA,QAAUiB,KAAKjB,MAAM0O,KACzCzN,KAAKjB,MAAMA,MAEb,QAETkQ,WAzBJ,WA0BM,OAAOjP,KAAKoL,MAAM+D,SAAWnP,KAAKuK,QAGtC/B,QAAS,CACPkL,YADJ,SACA,OACM,OAAOQ,EAASC,oBAAoBtJ,QAAQuJ,EAAUD,sBAAwB,GACpF,2EAEIf,aALJ,SAKA,GACM,IAAN,EAEQrU,EADU,OAARoS,EACM,KAChB,iBACgBA,EAChB,6BACgBA,EAAIpS,MAEJoS,EAEVnR,KAAKuN,MAAM,QAASxO,IAGtBmQ,WAnBJ,WAoBUlP,KAAKoL,MAAM+D,UAGfnP,KAAKuK,MAAQvK,KAAKuK,OAEpBiJ,WAzBJ,SAyBA,GACM,IAAN,oCACMnQ,EAAOzF,OAAOyF,EAAOwH,QAAQzE,EAAKrH,OAAQ,GAC1CiB,KAAKoT,aAAa/P,IAEpBkQ,UA9BJ,SA8BA,GACM,IAAN,oCACMlQ,EAAOzF,OAAOyF,EAAOwH,QAAQzE,EAAKrH,OAAQ,GAC1CsE,EAAOgR,QAAQjO,EAAKrH,OACpBiB,KAAKoT,aAAa/P,IAEpB2Q,aApCJ,SAoCA,GACM,IAAN,wBACMF,EAAWC,MAAQA,EAAQ7N,SAAS6N,GAAS,EAC7C/T,KAAKiF,KAAKjF,KAAKoL,MAAO,aAAc0I,KAGxCnL,QA9FF,WA8FA,WACI3I,KAAKsU,UAAW,EAChBtU,KAAK0L,YAAYrE,MAAK,WAA1B,wBACIrH,KAAKuK,OAASvK,KAAKoL,MAAM+D,UCrPuT,M,yBCQhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACvG,OAAA,KAAKI,WAAA,OAAWuL,SAAA,KAAMlF,aAAA,KAAUlG,QAAA,KAAMC,UAAA,KAAQwG,UAAA,KAAOtG,aAAA,KAAWuG,YAAA,OCyG9F,QACEvR,KAAM,iBACNsM,WAAY,CACV4J,WAAJ,GACIC,YAAJ,GACIC,eAAJ,IAEEjK,MAAO,CACLrE,KAAM,CAAV,2BACIkF,WAAY,CAAhB,yCACIH,OAAQ,CAAZ,yCACI+B,QAAS,CAAb,uBACIH,gBAAiB,CAArB,yCACIC,eAAgB,CAApB,yCACIiB,OAAQ,CAAZ,cACIhB,SAAU,CAAd,aAEE/Q,KAAM,WAAR,OACA,SACA,SACA,YACA,UACA,QACA,QACA,qBAEEqT,MAAO,CACLnJ,KAAM,CACJoJ,WAAW,EACXL,QAAS,SAAf,cACQnP,KAAKoL,MAAQ,OAArB,OAAqB,CAArB,iCACYzO,OAAOkL,KAAKzB,EAAK0N,YAAYpX,SAC/BsD,KAAKoL,MAAM0I,WAAa,OAAlC,OAAkC,CAAlC,kBAEQ9T,KAAK0L,YAAYrE,MAAK,WAA9B,qCAGI8D,OAAQ,CACNqE,WAAW,EACXL,QAAS,SAAf,cACQnP,KAAKmO,SAAWhD,EACxB,oBAAU,OAAV,gCACA,oBAAU,OAAV,iBACQnL,KAAK0L,YAAYrE,MAAK,WAA9B,4EAGIiE,WAAY,CACVkE,WAAW,EACXL,QAAS,SAAf,cACQnP,KAAKK,MAAQiL,EAAWJ,QAAO,SAAvC,+CAIE3C,SAAU,OAAZ,OAAY,CAAZ,kBACA,wBACA,WACA,cACA,aACA,SACA,SACA,WACA,kBARA,IAUIoF,cAVJ,WAUA,WACM,OAAO3N,KAAKgN,eAAe2H,MAAK,SAAtC,qCAEIC,SAbJ,WAcM,OAAO5U,KAAK6U,WAAW7U,KAAKoL,MAAM/C,OAEpCqF,MAhBJ,WAiBM,IAAN,8BAIM,OAHI1N,KAAK4U,WAAa5U,KAAK2N,eACzBD,EAAM1Q,KAAKgD,KAAK4U,UAEXlH,KAGX/E,QA7EF,WA8ES3I,KAAKoL,MAAM9E,KACdtG,KAAKoC,MAAO,IAGhBoG,QAAS,CACPoB,aADJ,SACA,GAEM,GADA5J,KAAKuN,MAAM,gBAAiBnC,GACxBzO,OAAOkL,KAAK7H,KAAK8U,iBAAiBpY,OACpC,IAAK,IAAb,0BACcC,OAAOC,UAAUC,eAAeC,KAAKkD,KAAK8U,gBAAiBxW,IAAS0B,KAAK8U,gBAAgBxW,GAAMyW,UACjG/U,KAAKoN,aAAa,KAAMhC,EAAM9E,GAAIhI,EAAM0B,KAAK8U,gBAAgBxW,GAAM+J,OAK3EmF,YAXJ,SAWA,GACM,IAAN,EACkB,OAAR2D,EACFpS,EAAQ,KAChB,8BACQA,EAAQoS,EAAIpS,MACK,cAAboS,EAAI9I,OACNrI,KAAKoL,MAAM/C,KAAO8I,EAAI9I,KAClB8I,EAAI9N,QACNrD,KAAKoL,MAAM/H,OAAS8N,EAAI9N,OACxBrD,KAAKoL,MAAM0I,WAAWzQ,OAAS8N,EAAI9N,gBAE5BrD,KAAKoL,MAAM/H,cACXrD,KAAKoL,MAAM0I,WAAWzQ,QAE3B8N,EAAI7F,WACNtL,KAAK8U,gBAAkB3D,EAAI7F,WAE3BtL,KAAK8U,gBAAkB,KAI3B/V,EAAQoS,EAEVnR,KAAKoL,MAAM9M,KAAOS,GAEpByP,SArCJ,WAsCMxO,KAAKuN,MAAM,gBAAiB,CAC1BjH,GAAI,KACJhI,KAAM,KACN+J,KAAM,KACNqG,MAAO,aACPjB,KAAM,GACNwC,KAAM,6CACNlR,MAAO,KACPoQ,QAAS,KACT6F,aAAchV,KAAKoL,MAAM4J,aACzB/G,OAAQjO,KAAKoL,MAAM9E,GACnB0J,KAAMrT,OAAOkL,KAAK7H,KAAKmO,UAAUzR,OAAS,EAC1CoX,WAAY,CAApB,cAGIxG,WArDJ,WAsDMtN,KAAKoL,MAAQ,OAAnB,OAAmB,CAAnB,yCACUzO,OAAOkL,KAAK7H,KAAKoG,KAAK0N,YAAYpX,SACpCsD,KAAKoL,MAAM0I,WAAa,OAAhC,OAAgC,CAAhC,2BAGIzG,WA3DJ,SA2DA,GACU4H,GAASjV,KAAKsR,MAAM,QAAUtR,KAAKoL,MAAM9E,KAAOtG,KAAKsR,MAAM,QAAUtR,KAAKoL,MAAM9E,IAAI4K,UACtF+D,EAAM7I,kBAERpM,KAAKoC,MAAQpC,KAAKoC,MAEpBgL,aAjEJ,SAiEA,8QACU6H,GAASjV,KAAKsR,MAAM,QAAUtR,KAAKoL,MAAM9E,KAAOtG,KAAKsR,MAAM,QAAUtR,KAAKoL,MAAM9E,IAAI4K,UACtF+D,EAAM7I,kBAERpM,KAAKuN,MAAM,oBAAqB,CAC9BjH,GAAI,KACJ4O,SAAUA,EACV/F,QAAS,KACTT,MAAOA,EACPpQ,KAAMA,EACNS,MAAO,KACPsJ,KAAMA,EACNyL,WAAY,CACVqB,QAAQ,QCzSsU,M,mDCQpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAehC,IAAkB,GAAW,CAACvM,OAAA,KAAKG,UAAA,OAAU+C,QAAA,KAAKuD,aAAA,KAAU+F,mBAAA,KAAgBC,0BAAA,KAAuBC,oBAAA,KAAiBnM,QAAA,KAAM4C,QAAA,KAAK3C,UAAA,KAAQC,UAAA,OClCvI,IAAI,GAAS,WAAa,IAAItJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACyD,YAAY,2CAA2C,CAAC7D,EAAI6N,GAAI7N,EAAc,YAAE,SAAS0L,GAAW,OAAOtL,EAAG,sBAAsBJ,EAAIuE,GAAG,CAACjF,IAAIoM,EAAUnF,GAAGjG,MAAM,CAAC,KAAOoL,IAAY1L,EAAI6M,gBAAezM,EAAG,MAAM,CAACyD,YAAY,cAAc,CAACzD,EAAG,QAAQ,CAACyD,YAAY,YAAYvD,MAAM,CAAC,MAAQ,GAAG,MAAQ,iBAAiB,WAAaN,EAAIyL,WAAWN,QAAO,SAAU9M,GAAK,OAAQA,EAAEkI,MAAO5J,QAAQ2H,GAAG,CAAC,MAAQtE,EAAIwV,eAAe,CAACpV,EAAG,SAAS,CAACyD,YAAY,UAAUvD,MAAM,CAAC,KAAO,KAAK,CAACN,EAAI8D,GAAG,eAAgB9D,EAAIyL,WAAWN,QAAO,SAAU9M,GAAK,OAAQA,EAAEkI,MAAa,OAAE,CAACvG,EAAI8D,GAAG,8BAA8B,CAAC9D,EAAI8D,GAAG,wBAAwB,IAAI,IAAI,IACzuB,GAAkB,GCDlB,GAAS,WAAa,IAAI9D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACyD,YAAY,wCAAwCvD,MAAM,CAAC,UAAY,MAAM,CAACF,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,aAAa,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQN,EAAIyV,OAAO,OAASzV,EAAI2T,YAAY,MAAQ3T,EAAI4T,YAAY,QAAS,EAAK,MAAQ5T,EAAI0V,YAAY,YAAc,oCAAsC,aAAa,QAAQ,YAAY,OAAO,UAAY1V,EAAIqC,KAAK,eAAe,GAAG,OAAS,GAAG,MAAQ,GAAG,mBAAmB,SAASiC,GAAG,CAAC,MAAQtE,EAAI2V,eAAezR,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,OAAO8E,GAAG,SAASC,GACjrB,IAAIgC,EAAOhC,EAAIgC,KACf,MAAO,CAACjG,EAAG,OAAO,CAACJ,EAAI8D,GAAG9D,EAAI+D,GAAGsC,EAAKrH,UAAUoB,EAAG,OAAO,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG9D,EAAI+D,GAAGsC,EAAKqH,SAAUrH,EAAS,KAAEjG,EAAG,QAAQ,CAACyD,YAAY,mBAAmB,CAAC7D,EAAI8D,GAAG,KAAK9D,EAAI+D,GAAGsC,EAAK6J,MAAM,OAAOlQ,EAAIwJ,aAAa,GAAGpJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,WAAW,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAS,aAAeN,EAAI4V,SAAW5V,EAAI4V,SAASC,KAAO,IAAK,MAAQ7V,EAAI8V,cAAc,MAAQ,GAAG,aAAa,CAAC9Q,SAAS,GAAM,QAAS,EAAK,OAAS,GAAG,mBAAmB,QAAQ,UAAYhF,EAAIqC,KAAK,eAAe,IAAIoC,MAAM,CAACzF,MAAOgB,EAAI0L,UAAkB,SAAEhH,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAI0L,UAAW,WAAY/G,IAAME,WAAW,yBAAyB,GAAGzE,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAAEN,EAAc,WAAEI,EAAG,aAAa,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQN,EAAI0L,UAAU1M,MAAM,OAASgB,EAAI2T,YAAY,MAAQ3T,EAAIsD,OAAO,QAAS,EAAK,MAAQ,WAAW,YAAc,iCAAiC,aAAa,QAAQ,YAAY,OAAO,UAAYtD,EAAIqC,KAAK,eAAe,GAAG,OAAS,GAAG,MAAQ,GAAG,mBAAmB,QAAQ,SAAWrC,EAAI+V,YAAYzR,GAAG,CAAC,MAAQtE,EAAIqT,gBAAkBrT,EAAIgW,UAAkQhW,EAAIwJ,KAA3PpJ,EAAG,eAAe,CAACyD,YAAY,OAAOvD,MAAM,CAAC,MAAQN,EAAI0L,UAAU1M,MAAM,MAAQ,WAAW,YAAc,mBAAmB,UAAYgB,EAAIqC,KAAK,eAAe,GAAG,OAAS,GAAG,MAAQ,GAAG,mBAAmB,SAASiC,GAAG,CAAC,MAAQtE,EAAIqT,iBAA0B,IAAI,GAAGjT,EAAG,MAAM,CAACyD,YAAY,wEAAwE,CAAE7D,EAAU,OAAE,CAACI,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,qBAAqB,MAAQ,mBAAmBgE,GAAG,CAAC,MAAQtE,EAAIuN,aAAa,CAACnN,EAAG,SAAS,CAACJ,EAAI8D,GAAG,uBAAuB,GAAG1D,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,sBAAsB,MAAQ,YAAY,OAAS,MAAMgE,GAAG,CAAC,MAAQtE,EAAI6O,cAAc,CAACzO,EAAG,SAAS,CAACJ,EAAI8D,GAAG,gBAAgB,IAAI,CAAC1D,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,0BAA0B,MAAQN,EAAIqC,KAAO,YAAa,WAAWiC,GAAG,CAAC,MAAQtE,EAAIiW,gBAAgB,CAAC7V,EAAG,SAAS,CAACJ,EAAI8D,GAAG,kBAAkB,GAAG1D,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,mBAAmBgE,GAAG,CAAC,MAAQ,SAASmC,GAAiC,OAAzBA,EAAO4F,kBAAyBrM,EAAIkW,gBAAgBzP,MAAW,CAACrG,EAAG,SAAS,CAACJ,EAAI8D,GAAG,iBAAiB,KAAK,IAAI,IACvsE,GAAkB,GC4GtB,IACEvF,KAAM,qBACNmM,MAAO,CACLrE,KAAM,CAAV,0BAEElK,KAAM,WAAR,OACA,QACA,aACA,YAEEqT,MAAO,CACLnJ,KAAM,CACJoJ,WAAW,EACXL,QAAS,SAAf,GACQnP,KAAKyL,UAAY,OAAzB,OAAyB,CAAzB,uCAGI,mBAAoB,CAClB+D,WAAW,EACXL,QAAS,SAAf,GACYqG,GACFxV,KAAKkW,gBAKb3N,SAAU,OAAZ,OAAY,CAAZ,kBACA,8DADA,IAEI6G,OAFJ,WAGM,OAAOK,KAAKC,UAAU1P,KAAKoG,QAAUqJ,KAAKC,UAAU1P,KAAKyL,YAE3DkK,SALJ,WAKA,WACM,OAAO3V,KAAK6V,cAAclB,MAAK,SAArC,6CAEIwB,WARJ,WASM,SAAUnW,KAAK2V,WAAY3V,KAAK2V,SAASS,SAE3CL,UAXJ,WAYM,SAAU/V,KAAK2V,WAAY3V,KAAK2V,SAASU,YAE3CP,WAdJ,WAeM,SAAU9V,KAAK2V,WAAY3V,KAAK2V,SAASW,WAE3Cd,OAjBJ,WAkBM,MAAN,WAAU,OAAV,OAAU,CAAV,uBACexV,KAAKyL,UAAU+J,OAEjB,CACLzW,MAAOiB,KAAKyL,UAAU+J,OACtB/H,KAAMzN,KAAKiU,WAAWjU,KAAKyL,UAAU+J,SAAWxV,KAAKyL,UAAU+J,SAGnEC,YA1BJ,WA2BM,OAAIzV,KAAKwV,QAAUxV,KAAKwV,OAAOzW,QAAUiB,KAAKwV,OAAO/H,KAC5C,QAAUzN,KAAKwV,OAAOzW,MAExB,UAGXyJ,QAAS,CACPyN,gBADJ,WACA,WACWjW,KAAKyL,UAAUnF,GAIhBoC,QAAQ,iDACVD,EAAI1B,KAAK,oBAAqB,CAAtC,0CACA,iBAAU,OAAV,4CACA,mBAAU,OAAV,kBANQ/G,KAAKuN,MAAM,oBAAqBvN,KAAKyL,YASzCuK,cAZJ,WAaMhW,KAAKoC,MAAQpC,KAAKoC,MAEpBkL,WAfJ,WAgBMtN,KAAKyL,UAAY,OAAvB,OAAuB,CAAvB,8CAEImD,YAlBJ,WAkBA,WACMe,YAAW,WACTlH,EAAI1B,KAAM,EAAlB,kEACA,kBAAU,IAAV,SACU,EAAV,QACU,EAAV,6BAAY,OAAZ,4CAEA,mBAAU,OAAV,sBACA,KAEI2O,cA5BJ,SA4BA,GACM,IAAN,EAEQ3W,EADU,OAARoS,EACM,KAChB,iBACgBA,EAChB,6BACgBA,EAAIpS,MAEJoS,EAEVnR,KAAKyL,UAAU+J,OAASzW,EACxBiB,KAAKyL,UAAU1M,MAAQiB,KAAK8V,WAAa,GAAK,MAEhD1C,aA1CJ,SA0CA,GACM,IAAN,EAEQrU,EADU,OAARoS,EACM,KAChB,iBACgBA,EAChB,6BACgBA,EAAIpS,MAEJoS,EAEVnR,KAAKyL,UAAU1M,MAAQA,GAEzB2U,YAvDJ,SAuDA,OACM,OAAOQ,EAASC,oBAAoBtJ,QAAQuJ,EAAUD,sBAAwB,GACpF,2EAEI+B,WA3DJ,WA2DA,WACMzN,EAAI1B,KAAK,eAAgB,CAA/B,+BACA,kBAAQ,IAAR,SAAQ,OAAR,wBAGE4B,QA3HF,WA4HS3I,KAAKyL,UAAUnF,KAClBtG,KAAKoC,MAAO,KC5O0U,MCQxV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACwG,OAAA,KAAKkD,QAAA,KAAKuD,aAAA,KAAUlG,QAAA,KAAM4C,QAAA,KAAK3C,UAAA,KAAQwG,UAAA,KAAOtG,aAAA,OCJ5E,QACEhL,KAAM,sBACNsM,WAAY,CAAd,uBACEH,MAAO,CACLe,WAAY,CAAhB,aACIxG,UAAW,CAAf,cAEEwD,QAAS,CACP+M,aADJ,WAEMvV,KAAKuN,MAAM,oBAAqB,CAC9BjH,GAAI,KACJ0O,aAAchV,KAAKgF,UAAUsB,GAC7BkP,OAAQ,KACRG,SAAU,KACV5W,MAAO,UCzC8U,MCOzV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAAC6J,OAAA,KAAKO,QAAA,OC8EnC,QACE7K,KAAM,iBACNsM,WAAY,CACV2L,oBAAJ,GACIC,oBAAJ,IAEE/L,MAAO,CACLzF,UAAW,CAAf,0BAEE9I,KAAM,WAAR,OACA,iBACA,SACA,YACA,oBACA,aACA,WACA,eACA,wBACA,oCACA,QACA,mBAGEqT,MAAO,CACL,kBAAmB,CACjBC,WAAW,EACXL,QAAS,SAAf,GACQnP,KAAKyW,MAAQA,IAGjB,kBAAmB,CACjBjH,WAAW,EACXL,QAAS,SAAf,GACQnP,KAAKsM,SAAWvN,EAChBiB,KAAKkM,kBAAmB,KAI9B3D,SAAU,OAAZ,OAAY,CAAZ,iCACA,mDACA,4CAFA,IAGIuE,WAHJ,WAIM,OAAO9M,KAAKgF,UAAUmG,OAAOwJ,MAAK,SAAxC,yBAEI+B,YANJ,WAOM,OAAQ1W,KAAKyW,OAAS,OAASzW,KAAKgF,UAAUyR,OAAS,OAG3DjO,QAAS,CACPmB,WADJ,WAEM3J,KAAKuN,MAAM,cAAe,WAE5Bf,UAJJ,WAKMxM,KAAKuN,MAAM,oBAAqB,CAAtC,uBAEIlB,YAPJ,WAQMrM,KAAKsM,SAAWtM,KAAKgF,UAAUuH,MAC/BvM,KAAKkM,kBAAmB,GAE1BS,UAXJ,WAYM3M,KAAKuN,MAAM,oBAAqB,CAAtC,oCAEId,WAdJ,WAeMzM,KAAKyW,MAAQzW,KAAKgF,UAAUyR,OAAS,KAGzC9N,QAlEF,WAmEI3I,KAAK2J,aACL3J,KAAK6M,aAAe,CAAC,KC1K+T,M,yBCQpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACjE,OAAA,KAAK0M,oBAAA,KAAiBqB,SAAA,KAAMxN,QAAA,KAAM4C,QAAA,KAAK1C,UAAA,KAAQC,aAAA,KAAWuG,YAAA,OC/BxF,IAAI,GAAS,WAAa,IAAI9P,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACyD,YAAY,mCAAmC,CAACzD,EAAG,KAAK,CAACJ,EAAI8D,GAAG,uCAAuC1D,EAAG,IAAI,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,8EAA+E9D,EAAa,UAAEI,EAAG,qBAAqB,CAACd,IAAI,SAASuE,YAAY,OAAOvD,MAAM,CAAC,SAAW,IAAImE,MAAM,CAACzF,MAAOgB,EAAgB,aAAE0E,SAAS,SAAUC,GAAM3E,EAAI8M,aAAanI,GAAKE,WAAW,iBAAiB,CAACzE,EAAG,kBAAkBJ,EAAIuE,GAAG,CAACjE,MAAM,CAAC,KAAON,EAAI6W,UAAU,OAAS7W,EAAIiF,UAAUmG,OAAO,WAAapL,EAAIiF,UAAUsG,WAAW,QAAU,EAAE,mBAAmBvL,EAAIgN,gBAAgB,OAAOhN,EAAIiF,WAAW,kBAAkBjF,EAAIiN,eAAe,OAAOjN,EAAIiF,aAAajF,EAAI6M,cAAc,GAAG7M,EAAIwJ,KAAKpJ,EAAG,IAAI,CAACJ,EAAI8D,GAAG,6FAA6F,IACv5B,GAAkB,GCuBtB,IACEvF,KAAM,gBACNsM,WAAY,CACViM,eAAJ,IAEEpM,MAAO,CACLzF,UAAW,CAAf,0BAEE9I,KAAM,WAAR,OACA,mBAEEqM,SAAU,OAAZ,OAAY,CAAZ,iCACA,mDACA,4CAFA,IAGIqO,UAHJ,WAIM,OAAO5W,KAAKgF,UAAUmG,OAAOwJ,MAAK,SAAxC,2BAGEnM,QAAS,CACPmB,WADJ,WAEM3J,KAAKuN,MAAM,cAAe,UAG9B5E,QAvBF,WAwBI3I,KAAK2J,aACL3J,KAAK6M,aAAe,CAAC,KCjD8T,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACyI,oBAAA,OCvB9B,IAAI,GAAS,WAAa,IAAIvV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACyD,YAAY,qCAAqC,CAACzD,EAAG,KAAK,CAACJ,EAAI8D,GAAG,uEAAuE1D,EAAG,IAAI,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,kFAAkF1D,EAAG,iBAAiBJ,EAAIuE,GAAG,CAACjE,MAAM,CAAC,SAAWN,EAAIuT,SAAS,WAAavT,EAAIgL,WAAW,MAAQ,CAACiK,aAAcjV,EAAIiF,UAAUsB,KAAKjC,GAAG,CAAC,kBAAkB,SAASmC,GAAQzG,EAAIgL,WAAavE,GAAQ,cAAczG,EAAI+W,aAAa/W,EAAI6M,aAAc7M,EAAiB,cAAE,CAACI,EAAG,KAAK,CAACyD,YAAY,aAAa,CAAC7D,EAAI8D,GAAG,wCAAwC1D,EAAG,qBAAqB,CAACd,IAAI,SAASuE,YAAY,OAAOvD,MAAM,CAAC,SAAW,IAAImE,MAAM,CAACzF,MAAOgB,EAAgB,aAAE0E,SAAS,SAAUC,GAAM3E,EAAI8M,aAAanI,GAAKE,WAAW,iBAAiB,CAACzE,EAAG,kBAAkBJ,EAAIuE,GAAG,CAACjE,MAAM,CAAC,KAAON,EAAIgX,cAAc,OAAShX,EAAIiF,UAAUmG,OAAO,WAAapL,EAAIiF,UAAUsG,WAAW,QAAU,EAAE,mBAAmB,GAAG,kBAAkB,KAAKvL,EAAI6M,cAAc,GAAG7M,EAAIiX,GAAG,IAAIjX,EAAIwJ,MAAM,IAC5lC,GAAkB,CAAC,WAAa,IAAIxJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACJ,EAAI8D,GAAG,iFAAiF1D,EAAG,MAAMJ,EAAI8D,GAAG,yDAAyD1D,EAAG,OAAO,CAACJ,EAAI8D,GAAG,0CCDjS,GAAS,WAAa,IAAI9D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,QAAUN,EAAIyC,QAAQ,KAAO,GAAG,KAAO,KAAK,CAACrC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,iBAAiB,MAAQ,GAAG,OAAS,OAAO,CAAGN,EAAIuT,SAAS5W,OAA+DyD,EAAG,OAAO,CAACJ,EAAI8D,GAAG,WAAW9D,EAAI+D,GAAG/D,EAAIgI,WAAWhI,EAAIuT,SAAS5W,OAAQ,CAAC,YAAa,YAAa,kBAA1JyD,EAAG,OAAO,CAACJ,EAAI8D,GAAG,qCAA0J1D,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,0BAA0BgE,GAAG,CAAC,MAAQtE,EAAIkX,aAAa,CAAC9W,EAAG,SAAS,CAACJ,EAAI8D,GAAG,uBAAuB,GAAG1D,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,0BAA0BgE,GAAG,CAAC,MAAQtE,EAAImX,eAAe,CAAC/W,EAAG,SAAS,CAACJ,EAAI8D,GAAG,yBAAyB,GAAG1D,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,GAAG,MAAQ,mBAAmBgE,GAAG,CAAC,MAAQtE,EAAIoX,aAAa,CAAChX,EAAG,SAAS,CAACJ,EAAI8D,GAAG,wBAAwB,IAAI,GAAG1D,EAAG,cAAc,CAACyD,YAAY,kBAAkB,CAACzD,EAAG,aAAa,CAACiE,IAAI,iBAAiBR,YAAY,0BAA0BvD,MAAM,CAAC,MAAQN,EAAIgL,WAAW,gBAAgBhL,EAAIqX,eAAe,YAAYrX,EAAImU,SAAS,WAAWnU,EAAIsX,QAAQ,iBAAiB,cAAc,gBAAgB,WAAW,gBAAgB,GAAG,UAAY,GAAG,MAAQ,IAAIpT,YAAYlE,EAAImE,GAAG,CAAC,CAAC7E,IAAI,UAAU8E,GAAG,SAASC,GAClxC,IAAIgC,EAAOhC,EAAIgC,KACf,MAAO,CAAEA,EAAe,WAAEjG,EAAG,oBAAoB,CAACyD,YAAY,cAAcvD,MAAM,CAAC,MAAQ,oBAAoB,MAAQ,UAAU,OAAqD,IAA7CN,EAAIuT,SAASzI,QAAQzE,EAAKrG,EAAIsX,WAAkBhT,GAAG,CAAC,MAAQ,SAASmC,GAAQA,EAAO4F,mBAAoB,MAAQ,SAAS5F,GAAQ,OAAOzG,EAAIuX,eAAe9Q,EAAQJ,OAAUrG,EAAIwJ,QAAQ,CAAClK,IAAI,QAAQ8E,GAAG,SAASC,GAC3V,IAAIgC,EAAOhC,EAAIgC,KACf,MAAO,CAACjG,EAAG,MAAM,CAACyD,YAAY,4BAA4B,CAACzD,EAAG,MAAM,CAACyD,YAAY,4BAA4B,CAAEwC,EAAY,QAAEjG,EAAG,SAAS,CAACyD,YAAY,+BAA+B,CAAC7D,EAAI8D,GAAG,QAAQ9D,EAAI+D,GAAGsC,EAAKmR,YAAYxX,EAAIwJ,MAAM,GAAGpJ,EAAG,MAAM,CAACyD,YAAY,yBAAyB4T,SAAS,CAAC,UAAYzX,EAAI+D,GAAGsC,EAAKqH,mBAAmB,IAAI,IAC9U,GAAkB,GCqDtB,IACEnP,KAAM,iBACNmM,MAAO,CACL6I,SAAU,CACRjL,KAAMoP,MACN/G,QAAS,WAAf,WAEI3F,WAAY,CACV1C,KAAMoP,MACN/G,QAAS,WAAf,WAEI+F,MAAO,CACLpO,KAAM1L,OACNoY,UAAU,IAGd7Y,KAAM,WAAR,OACA,aACA,gBACA,WACA,UACA,UACA,mBAEEsM,QAAS,CACPT,WADJ,SACA,sEACM,OAAO,EAAb,QAEIuP,eAJJ,SAIA,KACUvY,EACFiB,KAAKuN,MAAM,iBAAkBmK,EAAS1X,KAAKqX,UAE3CrX,KAAKuN,MAAM,mBAAoBmK,EAAS1X,KAAKqX,WAGjDD,eAXJ,SAWA,cAKM,OAJApX,KAAKwC,SAAU,EACXxC,KAAK2X,cAAcvR,EAAKpG,KAAKqX,kBACxBrX,KAAK2X,cAAcvR,EAAKpG,KAAKqX,UAE/B5O,EAAI1B,KAAK,qBAAsB,OAA5C,OAA4C,CAA5C,6CACA,kBAAQ,IAAR,SACQ,EAAR,WACQ,EAAR,qBACA,YACY,EAAZ,wCAEA,gBACY,EAAZ,gCAEA,YACY,YAAZ,WACc,EAAd,mDAEA,UAIA,mBAAQ,OAAR,oBACA,iBAAQ,OAAR,iBAEI6Q,aArCJ,WAqCA,WACM5X,KAAKwC,SAAU,EACfiG,EAAI1B,KAAK,qBAAsB,OAArC,OAAqC,CAArC,+CACA,kBAAQ,IAAR,SAAQ,OAAR,gCACA,mBAAQ,OAAR,oBACA,iBACQ,EAAR,WAEQ,EAAR,6BAAU,OAAV,4CAGIoQ,WAhDJ,WAiDMnX,KAAKuN,MAAM,eACXvN,KAAK4X,gBAEPX,WApDJ,WAoDA,WACMjX,KAAKsR,MAAMuG,eAAeC,WAAU,GACpCnI,YAAW,WACLhT,OAAOkL,KAAK,EAAxB,yBACU,EAAV,eAEA,MAEIqP,aA5DJ,WA6DMlX,KAAKsR,MAAMuG,eAAeC,WAAU,KAGxCnP,QAxFF,WAyFI3I,KAAK4X,iBCnJ+U,M,mDCQpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAAChP,OAAA,KAAKC,QAAA,KAAME,UAAA,OAAUI,QAAA,KAAM4O,mBAAA,KAAgB1O,UAAA,KAAQ2O,YAAA,KAASC,aAAA,OCS1F,QACE3Z,KAAM,sBACNmM,MAAO,CACLzF,UAAW,CAAf,0BAEE4F,WAAY,CACVsN,eAAJ,GACIrB,eAAJ,IAEE3a,KAAM,WAAR,OACA,iBACA,YACA,gBAEEqT,MAAO,CACL,uBAAwB,CACtBC,WAAW,EACXL,QAAS,SAAf,GACQnP,KAAKsT,SAAWvI,GAAc,MAIpCxC,SAAU,CACRwO,cADJ,WAEM,OAAO/W,KAAKgF,UAAUmG,OAAOwJ,MAAK,SAAxC,0BAGEnM,QAAS,CACPmB,WADJ,WAEM3J,KAAKuN,MAAM,cAAe,eAE5BuJ,WAJJ,WAMM9W,KAAK+K,WAAa,KAItBpC,QArCF,WAsCI3I,KAAK2J,eC9EoV,MCOzV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAAC2L,oBAAA,OCvB9B,IAAI,GAAS,WAAa,IAAIvV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACyD,YAAY,mCAAmC,CAACzD,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,KAAK,CAACJ,EAAI8D,GAAG,6CAA6C1D,EAAG,IAAI,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,uCAAuC1D,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,0CAA0C,MAAQ,GAAG,SAAW,GAAG,MAAQN,EAAI8E,cAAcL,MAAM,CAACzF,MAAOgB,EAAI7D,KAAS,KAAEuI,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAI7D,KAAM,OAAQwI,IAAME,WAAW,eAAezE,EAAG,eAAe,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,uBAAuB,MAAQ,IAAImE,MAAM,CAACzF,MAAOgB,EAAI7D,KAAS,KAAEuI,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAI7D,KAAM,OAAQwI,IAAME,WAAW,eAAezE,EAAG,eAAe,CAACyD,YAAY,OAAOvD,MAAM,CAAC,OAAS,GAAG,MAAQ,GAAG,MAAQ,oDAAoD,KAAQ,oCAAuCN,EAAIiF,UAAc,MAAIR,MAAM,CAACzF,MAAOgB,EAAI7D,KAAS,KAAEuI,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAI7D,KAAM,OAAQwI,IAAME,WAAW,eAAezE,EAAG,WAAW,CAACyD,YAAY,OAAOvD,MAAM,CAAC,OAAS,GAAG,MAAQ,GAAG,MAAQ,2BAA2B,MAAQN,EAAIoY,MAAM,KAAOpY,EAAIqY,SAAS,oBAAoBrY,EAAIqY,SAAS,aAAa,CAACrT,SAAS,GAAM,QAAS,GAAMP,MAAM,CAACzF,MAAOgB,EAAI7D,KAAkB,cAAEuI,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAI7D,KAAM,gBAAiBwI,IAAME,WAAW,wBAAyB7E,EAAI7D,KAAkB,cAAEiE,EAAG,eAAe,CAACE,MAAM,CAAC,OAAS,GAAG,IAAM,EAAE,MAAQ,GAAG,MAAQ,6DAA6D,KAAO,mFAAmF,KAAO,UAAUmE,MAAM,CAACzF,MAAOgB,EAAI7D,KAAsB,kBAAEuI,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAI7D,KAAM,oBAAqBwI,IAAME,WAAW,4BAA4B7E,EAAIwJ,KAAKpJ,EAAG,aAAa,CAACyD,YAAY,YAAYvD,MAAM,CAAC,MAAQ,yDAAyD,eAAe,GAAG,MAAQ,IAAImE,MAAM,CAACzF,MAAOgB,EAAI7D,KAAW,OAAEuI,SAAS,SAAUC,GAAM3E,EAAIkF,KAAKlF,EAAI7D,KAAM,SAAUwI,IAAME,WAAW,iBAAiBzE,EAAG,iBAAiB,CAACyD,YAAY,QAAQ,CAAE7D,EAAc,WAAEI,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,0BAA0BgE,GAAG,CAAC,MAAQtE,EAAI4O,gBAAgB,CAACxO,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACN,EAAI8D,GAAG,eAAe9D,EAAI8D,GAAG,yBAAyB,GAAG9D,EAAIwJ,KAAKpJ,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,UAAYN,EAAIsY,WAAW,MAAQ,YAAY,MAAQ,IAAIhU,GAAG,CAAC,MAAQtE,EAAI6O,cAAc,CAACzO,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,KAAK,CAACN,EAAI8D,GAAG,eAAe9D,EAAI8D,GAAG,gBAAgB,IAAI,GAAI9D,EAAa,UAAE,CAACI,EAAG,KAAK,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,wCAAwC1D,EAAG,qBAAqB,CAACd,IAAI,SAASuE,YAAY,OAAOvD,MAAM,CAAC,SAAW,IAAImE,MAAM,CAACzF,MAAOgB,EAAgB,aAAE0E,SAAS,SAAUC,GAAM3E,EAAI8M,aAAanI,GAAKE,WAAW,iBAAiB,CAACzE,EAAG,kBAAkBJ,EAAIuE,GAAG,CAACjE,MAAM,CAAC,UAAW,EAAM,KAAON,EAAIuY,UAAU,OAASvY,EAAIiF,UAAUmG,OAAO,WAAapL,EAAIiF,UAAUsG,WAAW,QAAU,EAAE,mBAAmB,GAAG,kBAAkB,GAAG,OAAS,SAASvL,EAAI6M,cAAc,IAAI7M,EAAIwJ,MAAM,GAAGpJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAAEN,EAAIiF,UAAuB,cAAE7E,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,KAAK,CAACN,EAAI8D,GAAG,uDAAuD9D,EAAIwJ,KAAMxJ,EAAIiF,UAAsB,aAAE7E,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,SAAS,MAAQ,KAAK,CAACN,EAAI8D,GAAG,sCAAsC9D,EAAI+D,GAAG/D,EAAIwY,aAAa,OAAOxY,EAAIwJ,KAAMxJ,EAAIiF,UAAsB,aAAE7E,EAAG,IAAI,CAACJ,EAAI8D,GAAG,oBAAoB1D,EAAG,IAAI,CAACE,MAAM,CAAC,KAAON,EAAIiF,UAAUwT,QAAQ,MAAQ,8BAA8B,OAAS,WAAW,CAACzY,EAAI8D,GAAG9D,EAAI+D,GAAG/D,EAAIiF,UAAUwT,cAAcrY,EAAG,KAAK,CAACyD,YAAY,QAAQ,CAAC7D,EAAI8D,GAAG,+CAA+C1D,EAAG,QAAQ,CAACyD,YAAY,OAAOvD,MAAM,CAAC,SAAWN,EAAIyC,QAAQ,MAAQ,YAAY,MAAQ,uCAAuC6B,GAAG,CAAC,MAAQtE,EAAI0Y,eAAe,CAAC1Y,EAAI8D,GAAG,+BAA+B1D,EAAG,aAAa,CAACyD,YAAY,iCAAiCvD,MAAM,CAAC,YAAY,GAAG,SAAW,GAAG,MAAQ,eAAe,MAAQN,EAAI2Y,IAAI,YAAc,uCAAuC,SAAW,OAAO,IAAI,IAC3mI,GAAkB,GCgHtB,IACEpa,KAAM,oBACNmM,MAAO,CACLzF,UAAW,CAAf,0BAEE4F,WAAY,CACViM,eAAJ,IAEE3a,KAAM,WAAR,OACA,gBACA,QACA,WACA,yCACA,OACA,CACQ6C,MAAO,EACP0O,KAAM,iDACNkL,KAAM,4CAEd,CACQ5Z,MAAO,EACP0O,KAAM,uDACNkL,KAAM,2EAEd,CACQ5Z,MAAO,EACP0O,KAAM,gDACNkL,KAAM,kFAIZpJ,MAAO,CACLvK,UAAW,CACTwK,WAAW,EAEXL,QAAS,SAAf,6HACQnP,KAAK9D,KAAO,OAApB,OAAoB,CAApB,mCAIEqM,SAAU,OAAZ,OAAY,CAAZ,kBACA,gDADA,IAEI+P,UAFJ,WAGM,OAAOtY,KAAKgF,UAAUmG,OAAOwJ,MAAK,SAAxC,yBAEI4D,YALJ,WAMM,OAAOvY,KAAKgF,UAAU4T,aAAa5S,KAAKC,QAAQ,UAAW,KAE7DmS,SARJ,WAQA,WACA,kFACM,OAAInZ,EACKA,EAAK0Z,KAEP,IAETN,WAfJ,WAeA,MAEA,kBAFA,EAEA,OAFA,EAEA,WAFA,EAEA,WAFA,EAEA,WAFA,qEAGM,OAAO5I,KAAKC,UAAU1P,KAAK9D,QAAUuT,KAAKC,UAAUxT,MAGxDsM,QAAS,CACPmG,cADJ,WACA,MAEA,kBAFA,EAEA,OAFA,EAEA,WAFA,EAEA,WAFA,EAEA,WAFA,qEAGM3O,KAAK9D,KAAO,OAAlB,OAAkB,CAAlB,iCAEI0S,YANJ,WAOM5O,KAAKuN,MAAM,oBAAqB,OAAtC,OAAsC,CAAtC,gBAEIkL,aATJ,WASA,WACWzY,KAAKgF,UAAU4T,eAAgBlQ,QAAQ,kFAC1C1I,KAAKwC,SAAU,EACfiG,EAAI1B,KAAK,eAAgB,CAAjC,uBACA,kBAAU,IAAV,SACU,EAAV,cACU,EAAV,6DAEA,mBAAU,OAAV,oBACA,iBAAU,OAAV,oBChM2V,M,mDCQvV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAgBhC,IAAkB,GAAW,CAAC8R,UAAA,KAAOjQ,OAAA,KAAKE,aAAA,OAAagQ,aAAA,KAAUhN,QAAA,KAAKwJ,oBAAA,KAAiBnM,QAAA,KAAM4C,QAAA,KAAK3C,UAAA,KAAQC,UAAA,KAAQC,aAAA,KAAWyP,aAAA,OCnC7H,IAAI,GAAS,WAAa,IAAIhZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,oBAAoBA,EAAG,MAAM,CAACyD,YAAY,0BAA0B,CAACzD,EAAG,gBAAgB,IAAI,IACxM,GAAkB,GCDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACyD,YAAY,yCAAyC,CAAC7D,EAAI8D,GAAG,kBAAmB9D,EAAIiZ,YAAYtc,OAAS,EAAGyD,EAAG,gBAAgB,CAACyD,YAAY,2BAA2BvD,MAAM,CAAC,MAAQN,EAAIiZ,eAAe7Y,EAAG,OAAO,CAACyD,YAAY,cAAc,CAAC7D,EAAI8D,GAAG,kEAAkE,IAC7Z,GAAkB,GCQtB,IACEvF,KAAM,kBACNpC,KAAM,WAAR,OACA,WAEEqM,SAAU,CACRyQ,YADJ,WACA,WACM,OAAOhZ,KAAK8K,OAAOmO,QACzB,oBAAQ,OAAR,6CACA,iBACQ,MAAR,CACU,KAAV,aACU,GAAV,CAAY,KAAZ,kBAAY,OAAZ,qBACU,OAAV,EACU,UAAV,SCvByV,M,yBCQrV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACC,gBAAA,OCb9B,QACE5a,KAAM,OACNsM,WAAY,CAAd,qBCb8U,M,yBCQ1U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACuO,SAAA,OCd9BpW,OAAIC,IAAIoW,QAER,IAAMC,GAAS,CACX,CACIC,KAAM,IACN3Y,UAAW4Y,GACXC,KAAM,CAACC,MAAO,cAAeC,GAAI,cACjCvL,SAAU,CAAC,CACPmL,KAAM,GACN3Y,UAAWgZ,EACXrb,KAAM,cACP,CACCgb,KAAM,MACN3Y,UAAWiZ,GACXJ,KAAM,CAACC,MAAO,qBAAsBC,GAAI,YAAaG,aAAa,GAClE1L,SAAU,CAAC,CACPmL,KAAM,GACN3Y,UAAWmZ,GACXxb,KAAM,aACP,CACCgb,KAAM,aACN3Y,UAAWoZ,GACXzb,KAAM,uBACNkb,KAAM,CAACC,MAAO,cACf,CACCH,KAAM,SACN3Y,UAAWqZ,GACX1b,KAAM,mBACNkb,KAAM,CAACC,MAAO,gBACf,CACCH,KAAM,WACN3Y,UAAWsZ,GACX3b,KAAM,qBACNkb,KAAM,CAACC,MAAO,eAEnB,CACCH,KAAM,IAAKY,SAAU,QAKlB,OAAId,OAAO,CACtBC,YClDW,IACXc,YAAY,EACZC,MAAO,CACH1M,MAAO,IAEX2M,QAAS,CACLxF,WAAY,SAAAuF,GAAK,OAAI,SAAA/R,GAAI,OAAI+R,EAAM1M,MAAMiH,MAAK,SAAA3V,GAAC,OAAIA,EAAED,QAAUsJ,OAC/DiS,SAAU,SAAAF,GAAK,OAAI,YAAY,IAAV/R,EAAU,EAAVA,KACbkS,EAAQH,EAAM1M,MAAMiH,MAAK,SAAC3V,GAAD,OAAOA,EAAED,QAAUsJ,KAChD,OAAOkS,EAAQA,EAAM9M,KAAO,OAEhC+M,gBAAiB,SAAAJ,GAAK,OAAIA,EAAM1M,MAAMxC,QAAO,SAAA7C,GAAI,OAAKA,EAAKoS,WAC3D1K,SAAU,SAAAqK,GAAK,OAAI,gBAAE/R,EAAF,EAAEA,KAAF,QAAc+R,EAAM1M,MAAMiH,MAAK,SAAA3V,GAAC,OAAIA,EAAE0b,QAAU1b,EAAED,QAAUsJ,OAC/E6F,SAAU,SAAAkM,GAAK,OAAI,gBAAE/R,EAAF,EAAEA,KAAF,QAAc+R,EAAM1M,MAAMiH,MAAK,SAAA3V,GAAC,OAAIA,EAAED,QAAUsJ,GAAQrJ,EAAEiP,YAC7E0M,SAAU,SAAAP,GAAK,OAAI,gBAAE/R,EAAF,EAAEA,KAAF,QAAc+R,EAAM1M,MAAMiH,MAAK,SAAA3V,GAAC,OAAIA,EAAE4b,QAAU5b,EAAED,QAAUsJ,OAC/EoL,eAAgB,kBAAM,gBAAEpL,EAAF,EAAEA,KAAF,OAA+B,IAAnBnC,SAASmC,KAC3CoG,YAAa,kBAAM,gBAAEpG,EAAF,EAAEA,KAAF,OAA+B,KAAnBnC,SAASmC,KACxCiG,OAAQ,kBAAM,gBAAEjG,EAAF,EAAEA,KAAF,OAA+B,IAAnBnC,SAASmC,KACnCyF,aAAc,kBAAM,gBAAEzF,EAAF,EAAEA,KAAF,OAA+B,IAAnBnC,SAASmC,KACzC8K,aAAc,kBAAM,gBAAE9K,EAAF,EAAEA,KAAF,OAA+B,IAAnBnC,SAASmC,KACzC0F,SAAU,kBAAM,gBAAE1F,EAAF,EAAEA,KAAF,OAA+B,IAAnBnC,SAASmC,KACrC2F,OAAQ,kBAAM,gBAAE3F,EAAF,EAAEA,KAAF,OAA+B,IAAnBnC,SAASmC,KACnCwL,UAAW,kBAAM,gBAAExL,EAAF,EAAEA,KAAF,OAA+B,KAAnBnC,SAASmC,KACtC2E,eAAgB,SAACoN,EAAOC,GAAR,OAAoB,SAACQ,EAAO7V,GACxC,OAAOqV,EAAQG,gBAAgBtP,QAAO,SAAA7C,GAClC,IAAIyS,EAAYzS,EAAKwS,OAAS,GAI9B,OAHKpD,MAAMsD,QAAQD,KACfA,EAAY,CAACA,MAEb9V,IAAaA,EAAUmG,OAAOwJ,MAAK,SAAAvJ,GAAK,OAAI/C,EAAKuS,QAAUxP,EAAM/C,OAASA,EAAKtJ,YAG9C,IAA9B+b,EAAUjQ,QAAQgQ,SAIrCG,UAAW,CACPC,cADO,SACOb,EAAOc,GACjBd,EAAM1M,MAAQwN,EAAQC,UAG9BC,QAAS,CACLC,cADK,YACmB,IAATC,EAAS,EAATA,OACX7S,EAAI1B,KAAK,gBACJM,MAAK,gBAAEnL,EAAF,EAAEA,KAAF,OAAYof,EAAO,gBAAiBpf,SC9C3C,MCEA,IACXie,YAAY,EACZC,MAAO,CACHvV,aAAc,CACV,CAAC4I,KAAM,gBAAiB1O,MAAO,mBAGvCsb,QAAS,CACLlU,gBAAiB,SAAAiU,GAAK,OAAI,SAAArb,GACtB,IAAIwb,EAAQH,EAAMvV,aAAa8P,MAAK,SAAAxW,GAAC,OAAIA,EAAEY,QAAUA,KACrD,OAAOwb,EAAQA,EAAM9M,KAAO,OAEhCV,gBAAiB,SAAAqN,GAAK,OAAI,SAACS,EAAO7V,GAC9B,IAAIuW,EAAcnB,EAAMvV,aAAa8P,MAAK,SAAAxW,GAAC,OAAIA,EAAEY,QAAUiG,EAAUqD,QACjE8C,EAAS,GACToQ,GAAeA,EAAYV,EAAQ,aACnC1P,EAASoQ,EAAYV,EAAQ,YAEjC,IAAI5M,EAASjJ,EAAUmG,OAAOwJ,MAAK,SAAAjV,GAAC,OAAIA,EAAE2I,QAAoB,UAAVwS,EAAoB,EAAI,MAC5E,OAAO1P,EAAOD,QAAO,SAAAE,GAAK,OAAIA,EAAMkL,WAC/BtR,EAAUmG,OAAOwJ,MAAK,SAAA6G,GAAE,OAAIA,EAAGld,OAAS8M,EAAMrM,OAASyc,EAAGvN,SAAWA,EAAO3H,YAIzF0U,UAAW,CACPS,gBADO,SACSrB,EAAOc,GACnBd,EAAMvV,aAAeqW,EAAQC,UAIrCC,QAAS,CACLM,SADK,YACc,IAATJ,EAAS,EAATA,OACN7S,EAAI1B,KAAK,sBACJM,MAAK,gBAAEnL,EAAF,EAAEA,KAAF,OAAYof,EAAO,kBAAmBpf,SC5B5D6G,OAAIC,IAAI2Y,QAEO,WAAIA,OAAKC,MAAM,CAC1B3e,QAAS,CACLmO,SACAmQ,eACAvW,cAEJoV,MAAO,CACHyB,UAAW,GACXC,UAAW,CACP,CAACrO,KAAM,QAASmI,KAAM,IAAK7W,MAAO,SAAUqX,QAAQ,GACpD,CAAC3I,KAAM,WAAYmI,KAAM,KAAM7W,MAAO,aAAcqX,QAAQ,GAC5D,CAAC3I,KAAM,aAAcmI,KAAM,IAAK7W,MAAO,gBACvC,CAAC0O,KAAM,aAAcmI,KAAM,IAAK7W,MAAO,aACvC,CAAC0O,KAAM,mBAAoBmI,KAAM,KAAM7W,MAAO,4BAC9C,CAAC0O,KAAM,mBAAoBmI,KAAM,KAAM7W,MAAO,yBAC9C,CAAC0O,KAAM,WAAYmI,KAAM,OAAQ7W,MAAO,QACxC,CAAC0O,KAAM,cAAemI,KAAM,WAAY7W,MAAO,YAC/C,CAAC0O,KAAM,WAAYmI,KAAM,KAAM7W,MAAO,YAAauX,UAAU,EAAMF,QAAQ,GAC3E,CAAC3I,KAAM,cAAemI,KAAM,SAAU7W,MAAO,gBAAiBuX,UAAU,EAAMF,QAAQ,GACtF,CAAC3I,KAAM,gBAAiBmI,KAAM,UAAW7W,MAAO,UAAWsX,WAAW,GACtE,CAAC5I,KAAM,UAAWmI,KAAM,cAAe7W,MAAO,cAAesX,WAAW,KAGhFgE,QAAS,CACL1G,YAAa,SAAAyG,GAAK,OAAIA,EAAMyB,UAAU3Q,QAAO,SAAA6Q,GAAE,OAAKA,EAAGC,YACvDnG,cAAe,SAAAuE,GAAK,OAAIA,EAAM0B,WAC9B7H,WAAY,SAAAmG,GAAK,OAAI,SAAArb,GACjB,IAAIwb,EAAQH,EAAMyB,UAAUlH,MAAK,SAAArI,GAAQ,OAAIA,EAASvN,QAAUA,KAChE,OAAOwb,EAAQA,EAAM9M,KAAO,QAGpCuN,UAAW,CACPiB,aADO,SACM7B,EAAOc,GAChBd,EAAMyB,UAAYX,EAAQC,UAGlCC,QAAS,CACLc,cADK,YACmB,IAATZ,EAAS,EAATA,OACX7S,EAAI1B,KAAK,mBACJM,MAAK,gBAAEnL,EAAF,EAAEA,KAAF,OAAYof,EAAO,eAAgBpf,UCzCnDigB,GAAQ,mBAERC,GAAY,WACd,IAAIC,EAAezc,OAAO0c,YACtBC,EAASC,SAASC,eAAe,eACjCF,IACAF,GAAgBE,EAAOG,cAG3B,IAAMC,EAAMH,SAASC,eAAeN,IAChCQ,IACAA,EAAIC,MAAMC,QAAV,iBAA8BR,EAA9B,8CAIRzc,OAAOkd,OAAS,WACZ/Z,OAAIga,MAAM,CACNpU,QAAS,WACLyT,KACAxc,OAAOod,iBAAiB,SAAUZ,KAEtCa,UALM,WAMFrd,OAAOsd,oBAAoB,SAAUd,OAI7C,IAAIe,EAAYvd,OAAOud,WAInB,GAEJlW,IAAMmW,SAASC,QAAUF,EAAUG,QAAU,iDAC7CrW,IAAMmW,SAAS/X,QAAQkY,OAAO,WAAaJ,EAAUK,QAKrDza,OAAInG,UAAU6gB,GAAK,SAACpe,GAAD,OAAS8d,EAAUO,MAAQP,EAAUO,KAAKre,IAAQA,GAErE,IAAI0D,OAAI,CACJ4a,UACAC,UACAC,SACAxL,OAAQ,SAAAC,GAAC,OAAIA,EAAEwL,MAChBC,OALH,WAKc5B,O,oCCpDlB,W,yDCAA,W,oCCAA,W,6DCAA,W,uGCAA,W,uGCAA,W,kCCAA,W,kCCAA,W","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/YandexMarket2/assets/components/yandexmarket2/mgr/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=3b38d39c&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistCondition.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListGenerate.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldAttribute.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"yandexmarket-app\",\"data-vuetify\":\"\"}},[_c('v-app',{staticStyle:{\"background\":\"transparent\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"yandexmarket-app\" data-vuetify>\n    <v-app style=\"background: transparent;\">\n      <router-view></router-view>\n    </v-app>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'yandexmarket-app',\n  created() {\n    this.$store.dispatch('marketplace/loadList');\n    this.$store.dispatch('loadClassKeys');\n    this.$store.dispatch('field/loadListTypes');\n  }\n};\n</script>\n\n<!--suppress CssUnusedSymbol -->\n<style scoped>\n#yandexmarket-app {\n  padding: 0 15px;\n}\n\n#yandexmarket-app >>> .v-application--wrap {\n  min-height: auto;\n}\n\n#yandexmarket-app >>> .v-icon.icon {\n  /*noinspection CssNoGenericFontName*/\n  font-family: FontAwesome;\n  font-size: 16px;\n  line-height: 1.5;\n}\n\n#yandexmarket-app >>> .icon.icon-xs {\n  font-size: 12px;\n}\n\n#yandexmarket-app >>> .icon.icon-sm {\n  font-size: 14px;\n}\n\n#yandexmarket-app >>> .icon.icon-md {\n  font-size: 20px;\n}\n\n#yandexmarket-app >>> .icon.icon-lg {\n  font-size: 24px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3b38d39c&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=3b38d39c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b38d39c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","export const MODX_ICONS = {\r\n    complete: 'icon icon-check',\r\n    cancel: 'icon icon-times-circle',\r\n    close: 'icon icon-times',\r\n    delete: 'icon icon-times-circle', // delete (e.g. v-chip close)\r\n    clear: 'icon icon-times-circle', // delete (e.g. v-chip close)\r\n    success: 'icon icon-check-circle',\r\n    info: 'icon icon-info-circle',\r\n    warning: 'icon icon-exclamation',\r\n    error: 'icon icon-exclamation-triangle',\r\n    prev: 'icon icon-chevron-left',\r\n    next: 'icon icon-chevron-right',\r\n    checkboxOn: 'icon icon-check-square',\r\n    checkboxOff: 'icon icon-square-o',\r\n    checkboxIndeterminate: 'icon icon-minus-square',\r\n    delimiter: 'icon icon-circle', // for carousel\r\n    sort: 'icon icon-sort-up',\r\n    expand: 'icon icon-chevron-down',\r\n    menu: 'icon icon-bars',\r\n    subgroup: 'icon icon-caret-down',\r\n    dropdown: 'icon icon-caret-down',\r\n    radioOn: 'icon icon-dot-circle-o',\r\n    radioOff: 'icon icon-circle-o',\r\n    edit: 'icon icon-pencil',\r\n    ratingEmpty: 'icon icon-star-o',\r\n    ratingFull: 'icon icon-star',\r\n    ratingHalf: 'icon icon-star-half-o',\r\n    loading: 'icon icon-refresh',\r\n    first: 'icon icon-step-backward',\r\n    last: 'icon icon-step-forward',\r\n    unfold: 'icon icon-angle-double-down',\r\n    file: 'icon icon-paperclip',\r\n    plus: 'icon icon-plus',\r\n    minus: 'icon icon-minus',\r\n}","// import '@mdi/font/css/materialdesignicons.css'\nimport 'font-awesome/css/font-awesome.min.css'\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\nimport 'vuetify/src/styles/styles.sass'\nimport {MODX_ICONS} from \"@/icons\";\nimport {Ripple} from 'vuetify/lib/directives'\n\nVue.use(Vuetify, {\n    directives: {\n        Ripple\n    }\n});\n\nexport default new Vuetify({\n    icons: {\n        values: MODX_ICONS\n    },\n    theme: {\n        themes: {\n            light: {\n                primary: '#3697cd', //default modx class .primary changes color of buttons\n                accent: '#3697cd',\n                secondary: '#32AB9A'\n            }\n        }\n    },\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"ym2-main-wrapper\",attrs:{\"loading\":_vm.loading}},[_c('v-card-title',[(_vm.total)?[_vm._v(\"У вас \"+_vm._s(_vm.decl(_vm.total, ['прайс-лист', 'прайс-листа', 'прайс-листов'])))]:[_vm._v(\"Добавьте свой первый прайс-лист\")],_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"400px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"secondary\",\"disabled\":_vm.loading,\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{staticClass:\"icon-sm\",attrs:{\"left\":\"\"}},[_vm._v(\"icon icon-plus\")]),_vm._v(\" Добавить прайс-лист \")],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"loading\":_vm.loading}},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Добавление прайс-листа\")])]),_c('v-card-text',{staticClass:\"pb-1\"},[_c('v-select',{staticClass:\"mb-5\",attrs:{\"hint\":\"Вы можете добавить новые, см. документацию\",\"persistent-hint\":\"\",\"items\":_vm.marketplaces,\"error\":!!_vm.errors['type'],\"error-messages\":_vm.errors['type'],\"label\":\"Маркетплейс\",\"menu-props\":{offsetY: true},\"attach\":true},model:{value:(_vm.pricelist.type),callback:function ($$v) {_vm.$set(_vm.pricelist, \"type\", $$v)},expression:\"pricelist.type\"}}),_c('v-text-field',{attrs:{\"error\":!!_vm.errors['name'],\"error-messages\":_vm.errors['name'],\"label\":\"Название прайс-листа\"},model:{value:(_vm.pricelist.name),callback:function ($$v) {_vm.$set(_vm.pricelist, \"name\", $$v)},expression:\"pricelist.name\"}}),_c('v-text-field',{attrs:{\"error\":!!_vm.errors['file'],\"error-messages\":_vm.errors['file'],\"label\":\"Имя файла\"},model:{value:(_vm.pricelist.file),callback:function ($$v) {_vm.$set(_vm.pricelist, \"file\", $$v)},expression:\"pricelist.file\"}})],1),_c('v-card-actions',{staticClass:\"pb-4\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Отмена \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.createPricelist}},[_vm._v(\" Добавить \")])],1)],1)],1)],2),(_vm.total)?_c('v-data-table',{attrs:{\"items\":_vm.lists,\"headers\":_vm.headers,\"items-per-page\":_vm.pagination.limit,\"footer-props\":{\n        itemsPerPageText: 'Показывать по',\n        itemsPerPageOptions:[_vm.pagination.limit],\n        showCurrentPage: true,\n        showFirstLastPage: true,\n      }},scopedSlots:_vm._u([{key:\"footer.page-text\",fn:function(ref){\n      var pageStart = ref.pageStart;\n      var pageStop = ref.pageStop;\n      var itemsLength = ref.itemsLength;\nreturn [_c('span',[_vm._v(\"Показано \"+_vm._s(pageStart)+\"-\"+_vm._s(pageStop)+\" из \"+_vm._s(itemsLength))]),_c('v-btn',{staticClass:\"ml-6 mr-n5\",attrs:{\"icon\":\"\",\"title\":\"Обновить\"},on:{\"click\":_vm.loadLists}},[_c('v-icon',[_vm._v(\"icon icon-refresh\")])],1)]}},{key:\"item.active\",fn:function(ref){\n      var value = ref.value;\nreturn [_vm._v(\" \"+_vm._s(value ? 'Да' : 'Нет')+\" \")]}},{key:\"item.generated_on\",fn:function(ref){\n      var value = ref.value;\nreturn [_vm._v(\" \"+_vm._s(value ? value.date.replace('.000000', '') : 'Файл ещё не сгенерирован')+\" \")]}},{key:\"item.generate_mode\",fn:function(ref){\n      var value = ref.value;\nreturn [(parseInt(value) === 2)?[_vm._v(\" Только cron \")]:(parseInt(value) === 1)?[_vm._v(\" На лету \")]:[_vm._v(\" Вручную \")]]}},{key:\"item.type\",fn:function(ref){\n      var value = ref.value;\nreturn [_vm._v(\" \"+_vm._s(_vm.marketplaceText(value) || value)+\" \")]}},{key:\"item.actions\",fn:function(ref){\n      var item = ref.item;\nreturn [_c('v-spacer'),_c('v-btn',{attrs:{\"to\":{name:'pricelist.generate', params: {id: item.id}},\"title\":item.need_generate ? 'Нужно сгенерировать файл!' : 'Генерация файла',\"icon\":\"\",\"color\":item.need_generate ? 'warning' : 'inherit'}},[_c('v-icon',[_vm._v(\"icon icon-print\")])],1),_c('v-btn',{attrs:{\"to\":{name:'pricelist', params: {id: item.id}},\"title\":\"Редактировать прайс-лист\",\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"icon icon-pencil\")])],1),_c('v-btn',{attrs:{\"title\":\"Удалить прайс-лист\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.removePricelist(item)}}},[_c('v-icon',[_vm._v(\"icon icon-trash\")])],1)]}}],null,false,191145872)}):_c('v-card-text',[_vm._v(\" Пока ещё нет прайс-листов \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\r\n\r\nexport class ErrorException extends Error {\r\n    constructor(response) {\r\n        super((response && response.message) || 'Ошибка');\r\n        this.response = response;\r\n    }\r\n\r\n    getMessage() {\r\n        return this.message;\r\n    }\r\n}\r\n\r\n\r\nexport class ValidationError extends ErrorException {\r\n    getErrors() {\r\n        return (this.response && this.response.data) || [];\r\n    }\r\n}\r\n\r\nexport default {\r\n    post(action, params = {}) {\r\n        return axios.request({\r\n            method: 'POST',\r\n            data: this.prepareData(params, action)\r\n        })\r\n            .then(response => {\r\n                if (Object.prototype.hasOwnProperty.call(response.data, 'success') && !response.data.success) {\r\n                    if (response.data.data && response.data.data.length) {\r\n                        throw new ValidationError(response.data);\r\n                    } else {\r\n                        throw new ErrorException(response.data);\r\n                    }\r\n                }\r\n                return response;\r\n            })\r\n    },\r\n    prepareData(params, action) {\r\n        let data;\r\n        if ((typeof params === 'object') && !(params instanceof FormData)) {\r\n            data = new FormData();\r\n            this.buildFormData(data, params);\r\n        } else if (params instanceof FormData) {\r\n            data = params;\r\n        }\r\n\r\n        data.append('action', action);\r\n        return data;\r\n    },\r\n    buildFormData(formData, data, parentKey) {\r\n        if (data && typeof data === 'object' && !(data instanceof Date) && !(data instanceof File)) {\r\n            Object.keys(data).forEach(key => {\r\n                this.buildFormData(formData, data[key], parentKey ? `${parentKey}[${key}]` : key);\r\n            });\r\n        } else {\r\n            const value = data == null ? '' : data;\r\n\r\n            formData.append(parentKey, value);\r\n        }\r\n    }\r\n}","export function declension(number, titles, withNum = false) {\r\n    let cases = [2, 0, 1, 1, 1, 2];\r\n    let decl = titles[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n    if (withNum) {\r\n        return number + ' ' + decl;\r\n    }\r\n    return decl;\r\n}","<template>\n  <v-card class=\"ym2-main-wrapper\" :loading=\"loading\">\n    <v-card-title>\n      <template v-if=\"total\">У вас {{ decl(total, ['прайс-лист', 'прайс-листа', 'прайс-листов']) }}</template>\n      <template v-else>Добавьте свой первый прайс-лист</template>\n      <v-spacer></v-spacer>\n      <v-dialog\n          v-model=\"dialog\"\n          max-width=\"400px\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn color=\"secondary\" :disabled=\"loading\" small v-on=\"on\" v-bind=\"attrs\">\n            <v-icon left class=\"icon-sm\">icon icon-plus</v-icon>\n            Добавить прайс-лист\n          </v-btn>\n        </template>\n        <v-card :loading=\"loading\">\n          <v-card-title>\n            <span class=\"headline\">Добавление прайс-листа</span>\n          </v-card-title>\n          <v-card-text class=\"pb-1\">\n            <v-select\n                v-model=\"pricelist.type\"\n                hint=\"Вы можете добавить новые, см. документацию\"\n                persistent-hint\n                class=\"mb-5\"\n                :items=\"marketplaces\"\n                :error=\"!!errors['type']\"\n                :error-messages=\"errors['type']\"\n                label=\"Маркетплейс\"\n                :menu-props=\"{offsetY: true}\"\n                :attach=\"true\"\n            ></v-select>\n            <v-text-field\n                v-model=\"pricelist.name\"\n                :error=\"!!errors['name']\"\n                :error-messages=\"errors['name']\"\n                label=\"Название прайс-листа\"\n            ></v-text-field>\n            <v-text-field\n                v-model=\"pricelist.file\"\n                :error=\"!!errors['file']\"\n                :error-messages=\"errors['file']\"\n                label=\"Имя файла\"\n            ></v-text-field>\n          </v-card-text>\n          <v-card-actions class=\"pb-4\">\n            <v-btn text @click=\"closeDialog\">\n              Отмена\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn color=\"secondary\" @click=\"createPricelist\">\n              Добавить\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-card-title>\n    <v-data-table\n        v-if=\"total\"\n        :items=\"lists\"\n        :headers=\"headers\"\n        :items-per-page=\"pagination.limit\"\n        :footer-props=\"{\n          itemsPerPageText: 'Показывать по',\n          itemsPerPageOptions:[pagination.limit],\n          showCurrentPage: true,\n          showFirstLastPage: true,\n        }\"\n    >\n      <template v-slot:footer.page-text=\"{pageStart, pageStop, itemsLength}\">\n        <span>Показано {{ pageStart }}-{{ pageStop }} из {{ itemsLength }}</span>\n        <v-btn icon class=\"ml-6 mr-n5\" title=\"Обновить\" @click=\"loadLists\">\n          <v-icon>icon icon-refresh</v-icon>\n        </v-btn>\n      </template>\n      <template v-slot:item.active=\"{ value }\">\n        {{ value ? 'Да' : 'Нет' }}\n      </template>\n      <template v-slot:item.generated_on=\"{ value }\">\n        {{ value ? value.date.replace('.000000', '') : 'Файл ещё не сгенерирован' }}\n      </template>\n      <template v-slot:item.generate_mode=\"{ value }\">\n        <template v-if=\"parseInt(value) === 2\">\n          Только cron\n        </template>\n        <template v-else-if=\"parseInt(value) === 1\">\n          На лету\n        </template>\n        <template v-else>\n          Вручную\n        </template>\n      </template>\n      <template v-slot:item.type=\"{ value }\">\n        {{ marketplaceText(value) || value }}\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-spacer/>\n        <v-btn\n            :to=\"{name:'pricelist.generate', params: {id: item.id}}\"\n            :title=\"item.need_generate ? 'Нужно сгенерировать файл!' : 'Генерация файла'\"\n            icon\n            :color=\"item.need_generate ? 'warning' : 'inherit'\"\n        >\n          <v-icon>icon icon-print</v-icon>\n        </v-btn>\n        <v-btn\n            :to=\"{name:'pricelist', params: {id: item.id}}\"\n            title=\"Редактировать прайс-лист\"\n            icon\n        >\n          <v-icon>icon icon-pencil</v-icon>\n        </v-btn>\n        <v-btn\n            @click=\"removePricelist(item)\"\n            title=\"Удалить прайс-лист\"\n            icon\n        >\n          <v-icon>icon icon-trash</v-icon>\n        </v-btn>\n      </template>\n    </v-data-table>\n    <v-card-text v-else>\n      Пока ещё нет прайс-листов\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport api, {ValidationError} from \"./../api\";\nimport {declension} from \"@/helpers\";\nimport {mapGetters, mapState} from 'vuex';\n\nexport default {\n  name: 'PriceLists',\n  data() {\n    return {\n      defaultItem: {\n        file: 'goods.xml',\n        name: 'Все товары',\n        type: 'yandex.market'\n      },\n      pricelist: {\n        file: '',\n        name: '',\n        type: '',\n      },\n      dialog: false,\n      loading: false,\n      lists: [],\n      headers: [\n        {text: 'ID', value: 'id', sortable: false},\n        {text: 'Название', value: 'name', sortable: false},\n        {text: 'Тип прайс-листа', value: 'type', sortable: false},\n        {text: 'Файл', value: 'file', sortable: false},\n        {text: 'Генерация', value: 'generate_mode', sortable: false},\n        {text: 'Сформирован', value: 'generated_on', sortable: false},\n        {text: 'Активен', value: 'active', sortable: false},\n        {text: 'Действия', value: 'actions', sortable: false, align: 'end'}\n      ],\n      errors: {},\n      total: 0,\n      pagination: {\n        start: 0,\n        limit: 20\n      },\n    }\n  },\n  computed: {\n    ...mapState('marketplace', ['marketplaces']),\n    ...mapGetters('marketplace', ['marketplaceText'])\n  },\n  methods: {\n    decl(number, titles, withNum = true) {\n      return declension(number, titles, withNum);\n    },\n    loadLists() {\n      this.loading = true;\n      api.post('pricelists/getlist', this.pagination)\n          .then(({data}) => {\n            this.lists = data.results;\n            this.total = data.total;\n          })\n          .catch(error => console.error(error))\n          .then(() => this.loading = false);\n    },\n    closeDialog() {\n      this.errors = {};\n      this.dialog = false;\n      this.pricelist = {...this.defaultItem};\n    },\n    createPricelist() {\n      this.errors = {};\n      this.loading = true;\n      api.post('pricelists/create', {...this.pricelist, active: false})\n          .then(({data}) => {\n            this.$router.push({name: 'pricelist', params: {id: data.object.id}});\n            this.pricelist = {...this.defaultItem};\n          })\n          .catch(error => {\n            if (error instanceof ValidationError) {\n              let errors = new Map(error.getErrors().map(err => {\n                return Object.entries(err).slice(0, 2).map(errArr => errArr[1] || '');\n              }));\n              this.errors = Object.fromEntries(errors);\n            } else {\n              console.error(error.toString())\n            }\n          })\n          .then(() => {\n            this.loading = false;\n          });\n    },\n    removePricelist(pricelist) {\n      if (confirm(`Вы действительно хотите удалить прайс-лист ${pricelist.id} ? Это действие безвозвратное`)) {\n        this.loading = true;\n        api.post('pricelists/remove', {ids: JSON.stringify([pricelist.id])})\n            .then(() => this.loadLists())\n            .catch(error => console.error(error))\n            .then(() => this.loading = false);\n      }\n    }\n  },\n  mounted() {\n    this.loadLists();\n    this.pricelist = {...this.defaultItem};\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceLists.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceLists.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriceLists.vue?vue&type=template&id=1c9ad220&\"\nimport script from \"./PriceLists.vue?vue&type=script&lang=js&\"\nexport * from \"./PriceLists.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDataTable,VDialog,VIcon,VSelect,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yandexmarket-pricelist\"},[(_vm.id)?_c('v-tabs',{staticClass:\"yandexmarket-pricelist-tabs pr-15\",attrs:{\"background-color\":\"transparent\",\"height\":40}},[_c('v-tab',{attrs:{\"to\":{name: 'pricelist', params: {id: _vm.id}},\"ripple\":false,\"exact\":\"\"}},[_vm._v(\"Настройки магазина\")]),_c('v-tab',{attrs:{\"to\":{name: 'pricelist.categories', params: {id: _vm.id}},\"ripple\":false,\"exact\":\"\"}},[_vm._v(\"Настройки категорий\")]),_c('v-tab',{attrs:{\"to\":{name: 'pricelist.offers', params: {id: _vm.id}},\"ripple\":false,\"exact\":\"\"}},[_vm._v(\"Настройки предложений\")]),_c('v-tab',{attrs:{\"to\":{name: 'pricelist.generate', params: {id: _vm.id}},\"ripple\":false,\"exact\":\"\"}},[_vm._v(\"Выгрузка и параметры\")])],1):_vm._e(),_c('v-card',{staticClass:\"yandexmarket-pricelist-card\",attrs:{\"loading\":!_vm.pricelist}},[_c('v-card-text',{staticStyle:{\"min-height\":\"300px\"}},[(_vm.showPreview)?_c('v-btn',{attrs:{\"fab\":\"\",\"absolute\":\"\",\"top\":\"\",\"right\":\"\",\"small\":\"\",\"elevation\":\"1\",\"color\":\"white\",\"title\":_vm.preview ? 'Отключить предпросмотр' : 'Включить предпросмотр'},on:{\"click\":_vm.togglePreview}},[_c('v-icon',{attrs:{\"color\":_vm.preview ? 'primary' : 'default'}},[_vm._v(\"icon-file-code-o\")])],1):_vm._e(),_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"md\":_vm.showPreview && _vm.preview ? 7 : 12}},[(_vm.pricelist)?_c('router-view',_vm._b({on:{\"preview:xml\":_vm.previewXml,\"field:created\":function($event){return _vm.fieldUpdated($event, true)},\"field:updated\":_vm.fieldUpdated,\"field:deleted\":_vm.fieldDeleted,\"attribute:created\":function($event){return _vm.attributeUpdated($event, true)},\"attribute:updated\":_vm.attributeUpdated,\"attribute:deleted\":_vm.attributeDeleted,\"condition:created\":function($event){return _vm.conditionUpdated($event, true)},\"condition:updated\":_vm.conditionUpdated,\"condition:deleted\":_vm.conditionDeleted,\"category:added\":_vm.categoryAdded,\"category:removed\":_vm.categoryRemoved,\"pricelist:updated\":_vm.pricelistUpdated}},'router-view',{pricelist:_vm.pricelist},false)):_vm._e(),(false)?_c('v-card-actions',{staticClass:\"px-0\"},[(!_vm.hasChanges)?_c('v-btn',{attrs:{\"to\":{name: 'pricelists'},\"exact\":\"\",\"title\":\"Ко всем прайс-листам\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"icon-arrow-left\")]),_vm._v(\" Вернуться \")],1):_c('v-btn',{attrs:{\"title\":\"Отменить все изменения\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"icon-undo\")]),_vm._v(\" Отменить \")],1),_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":!_vm.hasChanges,\"color\":\"secondary\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"icon-save\")]),_vm._v(\" Сохранить \")],1)],1):_vm._e()],1),(_vm.showPreview && _vm.preview)?_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('div',{staticClass:\"yandexmarket-xml-preview\"},[_c('h4',[_c('label',{attrs:{\"for\":\"yandexmarket-preview\"}},[_vm._v(\"Предпросмотр XML элемента <\"+_vm._s(_vm.previewType)+\">\")])]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Автоматически обновляется при любом изменении\")]),_c('codemirror',{attrs:{\"id\":\"yandexmarket-preview\",\"options\":_vm.cmOptions},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),(_vm.debug && Object.keys(_vm.debug).length)?_c('pre',[_vm._v(_vm._s(_vm.debug))]):_vm._e()]):_vm._e()],1),_c('loader',{attrs:{\"status\":!_vm.pricelist}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.status)?_c('div',{staticClass:\"yandexmarket-loader-overlay\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"yandexmarket-loader-overlay\" v-if=\"status\">\r\n    <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    status: {type: Boolean}\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.yandexmarket-loader-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  min-height: 300px;\r\n  background-color: rgba(255, 255, 255, .7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=989c3164&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VProgressCircular})\n","<template>\r\n  <div class=\"yandexmarket-pricelist\">\r\n    <v-tabs v-if=\"id\" class=\"yandexmarket-pricelist-tabs pr-15\" background-color=\"transparent\" :height=\"40\">\r\n      <v-tab :to=\"{name: 'pricelist', params: {id: id}}\" :ripple=\"false\" exact>Настройки магазина</v-tab>\r\n      <v-tab :to=\"{name: 'pricelist.categories', params: {id: id}}\" :ripple=\"false\" exact>Настройки категорий</v-tab>\r\n      <v-tab :to=\"{name: 'pricelist.offers', params: {id: id}}\" :ripple=\"false\" exact>Настройки предложений</v-tab>\r\n      <v-tab :to=\"{name: 'pricelist.generate', params: {id: id}}\" :ripple=\"false\" exact>Выгрузка и параметры</v-tab>\r\n    </v-tabs>\r\n    <v-card class=\"yandexmarket-pricelist-card\" :loading=\"!pricelist\">\r\n      <v-card-text style=\"min-height: 300px;\">\r\n        <v-btn v-if=\"showPreview\"\r\n               @click=\"togglePreview\" fab absolute top right small elevation=\"1\" color=\"white\"\r\n               :title=\"preview ? 'Отключить предпросмотр' : 'Включить предпросмотр'\">\r\n          <v-icon :color=\"preview ? 'primary' : 'default'\">icon-file-code-o</v-icon>\r\n        </v-btn>\r\n        <v-row dense>\r\n          <v-col :md=\"showPreview && preview ? 7 : 12\">\r\n            <router-view\r\n                v-if=\"pricelist\"\r\n                v-bind=\"{pricelist:pricelist}\"\r\n                @preview:xml=\"previewXml\"\r\n                @field:created=\"fieldUpdated($event, true)\"\r\n                @field:updated=\"fieldUpdated\"\r\n                @field:deleted=\"fieldDeleted\"\r\n                @attribute:created=\"attributeUpdated($event, true)\"\r\n                @attribute:updated=\"attributeUpdated\"\r\n                @attribute:deleted=\"attributeDeleted\"\r\n                @condition:created=\"conditionUpdated($event, true)\"\r\n                @condition:updated=\"conditionUpdated\"\r\n                @condition:deleted=\"conditionDeleted\"\r\n                @category:added=\"categoryAdded\"\r\n                @category:removed=\"categoryRemoved\"\r\n                @pricelist:updated=\"pricelistUpdated\"\r\n            ></router-view>\r\n            <v-card-actions class=\"px-0\" v-if=\"false\">\r\n              <v-btn v-if=\"!hasChanges\" :to=\"{name: 'pricelists'}\" exact title=\"Ко всем прайс-листам\">\r\n                <v-icon left>icon-arrow-left</v-icon>\r\n                Вернуться\r\n              </v-btn>\r\n              <v-btn v-else title=\"Отменить все изменения\">\r\n                <v-icon left>icon-undo</v-icon>\r\n                Отменить\r\n              </v-btn>\r\n              <v-spacer/>\r\n              <v-btn :disabled=\"!hasChanges\" color=\"secondary\">\r\n                <v-icon left>icon-save</v-icon>\r\n                Сохранить\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"5\" v-if=\"showPreview && preview\">\r\n            <div class=\"yandexmarket-xml-preview\">\r\n              <h4><label for=\"yandexmarket-preview\">Предпросмотр XML элемента &lt;{{ previewType }}&gt;</label></h4>\r\n              <p class=\"mb-2\">Автоматически обновляется при любом изменении</p>\r\n              <codemirror id=\"yandexmarket-preview\" v-model=\"code\" :options=\"cmOptions\"></codemirror>\r\n            </div>\r\n            <pre v-if=\"debug && Object.keys(debug).length\">{{ debug }}</pre>\r\n          </v-col>\r\n        </v-row>\r\n        <loader :status=\"!pricelist\"></loader>\r\n      </v-card-text>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loader from \"@/components/Loader\";\r\nimport api from \"@/api\";\r\nimport {codemirror} from 'vue-codemirror';\r\n\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/mode/xml/xml';\r\nimport 'codemirror/mode/javascript/javascript';\r\nimport 'codemirror/mode/smarty/smarty';\r\nimport 'codemirror/addon/display/placeholder';\r\n\r\nexport default {\r\n  name: 'PriceList',\r\n  components: {Loader, codemirror},\r\n  data: () => ({\r\n    id: null,\r\n    pricelist: null,\r\n    type: 'yandexmarket',\r\n    preview: true,\r\n    previewType: null,\r\n    hasChanges: true,\r\n    debug: null,\r\n    code: null,\r\n    cmOptions: {\r\n      lineNumbers: true,\r\n      mode: 'xml',\r\n      cursorBlinkRate: -1,\r\n      readOnly: true,\r\n    }\r\n  }),\r\n  computed: {\r\n    showPreview() {\r\n      return ['pricelist', 'pricelist.categories', 'pricelist.offers'].indexOf(this.$route.name) !== -1;\r\n    }\r\n  },\r\n  methods: {\r\n    categoryAdded(resourceId, send = true) {\r\n      if (this.pricelist.categories.indexOf(resourceId) === -1) {\r\n        this.pricelist.categories.push(resourceId);\r\n      }\r\n      if (send) {\r\n        api.post('categories/create', {pricelist_id: this.pricelist.id, resource_id: resourceId})\r\n            .then(() => this.getXmlPreview())\r\n            .catch(error => {\r\n              console.error(error);\r\n              this.categoryRemoved(resourceId, false)\r\n            })\r\n      }\r\n    },\r\n    categoryRemoved(resourceId, send = true) {\r\n      this.pricelist.categories = this.pricelist.categories.filter(selected => selected !== resourceId);\r\n      if (send) {\r\n        api.post('categories/remove', {pricelist_id: this.pricelist.id, resource_id: resourceId})\r\n            .then(() => this.getXmlPreview())\r\n            .catch(error => console.error(error)) // можно добавлять назад, если по какой-то причине не удалился\r\n      }\r\n    },\r\n    fieldUpdated(field, created = false) {\r\n      let fields = this.pricelist.fields.slice();\r\n      if (created) {\r\n        fields.push(field);\r\n      } else {\r\n        fields.splice(fields.findIndex(item => item.id ? item.id === field.id : item.parent === field.parent), 1, field);\r\n      }\r\n      this.pricelistUpdated({fields}, false);\r\n    },\r\n    fieldDeleted(field) {\r\n      let fields = this.pricelist.fields.slice();\r\n      fields.splice(fields.findIndex(item => item.id === field.id), 1);\r\n      this.pricelistUpdated({fields: fields}, false);\r\n    },\r\n    attributeUpdated(attr, created = false) {\r\n      let attributes = this.pricelist.attributes.slice();\r\n      if (created) {\r\n        attributes.push(attr);\r\n      } else {\r\n        attributes.splice(attributes.findIndex(item => item.id ? item.id === attr.id : item.field_id === attr.field_id), 1, attr);\r\n      }\r\n      this.pricelistUpdated({attributes}, false);\r\n    },\r\n    attributeDeleted(attribute) {\r\n      let attributes = this.pricelist.attributes.slice();\r\n      attributes.splice(attributes.findIndex(item => item.id === attribute.id), 1);\r\n      this.pricelistUpdated({attributes}, false);\r\n    },\r\n    conditionUpdated(condition, created = false) {\r\n      let conditions = this.pricelist.conditions.slice();\r\n      if (created) {\r\n        conditions.push(condition);\r\n      } else {\r\n        conditions.splice(conditions.findIndex(item => item.id ? item.id === condition.id : !item.id), 1, condition);\r\n      }\r\n      this.pricelistUpdated({conditions}, false);\r\n    },\r\n    conditionDeleted(condition) {\r\n      let conditions = this.pricelist.conditions.slice();\r\n      conditions.splice(conditions.findIndex(item => item.id === condition.id), 1);\r\n      this.pricelistUpdated({conditions}, false);\r\n    },\r\n    togglePreview() {\r\n      this.preview = !this.preview;\r\n      if (this.preview) {\r\n        this.$nextTick().then(() => {\r\n          // this.initializeCodeMirror();\r\n          this.getXmlPreview();\r\n        });\r\n      }\r\n    },\r\n    previewXml(method) {\r\n      this.previewType = method;\r\n      if (this.preview) {\r\n        this.getXmlPreview();\r\n      }\r\n    },\r\n    getXmlPreview() {\r\n      this.code = '<!-- Загружается XML элемент ' + this.previewType + ' -->';\r\n      api.post('xml/preview', {id: this.pricelist.id, method: this.previewType})\r\n          .then(({data}) => {\r\n            this.code = data.message;\r\n            this.debug = data.object;\r\n          })\r\n          .catch(error => console.log(error));\r\n    },\r\n    loadPricelist() {\r\n      api.post('pricelists/get', {id: this.id})\r\n          .then(({data}) => {\r\n            this.pricelist = data.object;\r\n            let route = this.$route.matched.find(r => r.meta && r.meta.replaceable);\r\n            if (route) {\r\n              this.$set(route, 'meta', {...route.meta, title: `${data.object.name} (${data.object.id})`});\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n            setTimeout(() => this.$router.push({name: 'pricelists'}), 3000);\r\n          })\r\n    },\r\n    pricelistUpdated(pricelist, save = true) {\r\n      this.pricelist = {...this.pricelist, ...pricelist};\r\n      if (save) {\r\n        this.code = '<!-- Загружается XML элемент ' + this.previewType + ' -->';\r\n        // eslint-disable-next-line no-unused-vars\r\n        let {fields, categories, attributes, conditions, ...pricelist} = this.pricelist;\r\n        api.post('pricelists/update', {...pricelist})\r\n            .then(({data}) => {\r\n              this.pricelist = {...this.pricelist, ...data.object};\r\n              this.getXmlPreview()\r\n            })\r\n            .catch(error => console.error(error));\r\n      } else if (this.showPreview) {\r\n        this.getXmlPreview()\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.id = parseInt(this.$route.params.id);\r\n    this.loadPricelist();\r\n  }\r\n}\r\n</script>\r\n\r\n<!--suppress CssUnusedSymbol -->\r\n<style scoped>\r\n.yandexmarket-pricelist-tabs {\r\n  position: relative;\r\n  margin-bottom: 0;\r\n  z-index: 1;\r\n}\r\n\r\n.yandexmarket-pricelist-tabs >>> .v-tab {\r\n  text-transform: none !important;\r\n}\r\n\r\n.yandexmarket-pricelist-tabs >>> .v-tab.v-tab--active {\r\n  background-color: #fff;\r\n  box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.yandexmarket-pricelist-tabs >>> .v-tab.v-tab--active::after {\r\n  content: '';\r\n  display: block;\r\n  background: #fff;\r\n  position: absolute;\r\n  bottom: -5px;\r\n  left: 0;\r\n  right: 0;\r\n  height: 5px;\r\n}\r\n\r\n.yandexmarket-pricelist-tabs >>> .v-slide-group__wrapper {\r\n  overflow: visible;\r\n  contain: none;\r\n}\r\n\r\n.yandexmarket-pricelist-tabs >>> .v-tabs-slider-wrapper {\r\n  bottom: unset;\r\n  top: 0;\r\n}\r\n\r\n.yandexmarket-pricelist-card {\r\n  border-top-left-radius: 0;\r\n}\r\n\r\n.yandexmarket-xml-preview >>> .CodeMirror {\r\n  height: auto;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriceList.vue?vue&type=template&id=00319fd4&scoped=true&\"\nimport script from \"./PriceList.vue?vue&type=script&lang=js&\"\nexport * from \"./PriceList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PriceList.vue?vue&type=style&index=0&id=00319fd4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00319fd4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VIcon,VRow,VSpacer,VTab,VTabs})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yandexmarket-pricelist-offers-fields\"},[_c('v-row',{staticClass:\"ma-0\"},[_c('v-flex',[_c('h4',[_vm._v(\"Основные критерии для формирования запроса\")]),_c('p',{staticClass:\"mb-1\"},[_vm._v(\"При изменениях обновляется предпросмотр предложения\")])]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"title\":\"Поменять предложение в предпросмотре\"},on:{\"click\":_vm.previewXml}},[_c('v-icon',[_vm._v(\"icon-refresh\")])],1)],1),_c('div',{staticClass:\"yandexmarket-pricelist-class\"},[_c('v-text-field',{attrs:{\"readonly\":_vm.classKeyDisabled,\"placeholder\":\"Класс для выборки предложений (class_key из таблицы ресурсов)\",\"hint\":\"Аккуратнее с настройкой. Для простых ресурсов укажите modDocument\",\"dense\":\"\",\"background-color\":_vm.classKeyDisabled ? 'grey lighten-3' : 'grey lighten-5',\"solo\":\"\"},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('div',{staticClass:\"text-no-wrap mr-1 ml-n1\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"color\":\"inherit\",\"title\":\"Атрибут\"}},[_vm._v(\"icon-tags\")]),_c('code',{staticClass:\"py-1 d-inline-block\"},[_vm._v(\"Класс ресурса\")])],1)]},proxy:true},{key:\"append\",fn:function(){return [(_vm.classKeyDisabled)?_c('v-btn',{staticClass:\"mt-0 mr-n2\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Включить редактирование class_key\"},on:{\"click\":function($event){$event.stopPropagation();_vm.classKeyDisabled = !_vm.classKeyDisabled}}},[_c('v-icon',[_vm._v(\"icon-pencil\")])],1):[_c('v-btn',{staticClass:\"mt-0 mr-2\",attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"orange\",\"title\":\"Отменить изменения\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.cancelClass($event)}}},[_c('v-icon',[_vm._v(\"icon-rotate-left\")])],1),_c('v-btn',{staticClass:\"mt-0 mr-n2\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Сохранить изменения\",\"disabled\":_vm.classKey === _vm.pricelist.class,\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.saveClass($event)}}},[_c('v-icon',[_vm._v(\"icon-save\")])],1)]]},proxy:true}]),model:{value:(_vm.classKey),callback:function ($$v) {_vm.classKey=$$v},expression:\"classKey\"}})],1),_c('div',{staticClass:\"yandexmarket-pricelist-where mb-5 mt-0\"},[_c('v-row',{staticClass:\"ma-0 align-center\"},[_c('h4',[_vm._v(\"Условия по товарам\")]),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":400,\"close-delay\":200,\"attach\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\" icon-question-circle \")])],1)]}}])},[_c('div',{staticClass:\"text-caption\",staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\"Доступны все поля товаров, включая ТВ-поля, опции ms2. Компонент автоматически присоединит указанные столбцы. Если нужно присоединить сторонние компоненты - обратитесь в поддержку \")])]),_c('v-spacer'),(_vm.editedWhere)?[_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Отменить изменения\",\"color\":\"orange darken-1\"},on:{\"click\":_vm.resetWhere}},[_c('v-icon',[_vm._v(\"icon-rotate-left\")])],1),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"disabled\":_vm.hasErrors,\"small\":\"\",\"title\":\"Сохранить изменения\",\"color\":\"secondary\",\"height\":\"24\"},on:{\"click\":_vm.saveWhere}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"icon-save\")]),_vm._v(\" Сохранить \")],1)]:_vm._e()],2),_c('pricelist-conditions',_vm._g({attrs:{\"conditions\":_vm.pricelist.conditions,\"pricelist\":_vm.pricelist}},_vm.$listeners))],1),_c('v-row',{staticClass:\"ma-0\"},[_c('v-flex',[_c('h4',[_vm._v(\"Настройка полей предложений\")]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Интерактивный режим добавления и редактирования полей\")])]),_c('v-spacer')],1),_c('v-expansion-panels',{key:\"offers\",staticClass:\"pb-2\",attrs:{\"multiple\":\"\"},model:{value:(_vm.openedFields),callback:function ($$v) {_vm.openedFields=$$v},expression:\"openedFields\"}},[_c('pricelist-offer-field',_vm._g({attrs:{\"item\":_vm.offerField,\"fields\":_vm.pricelist.fields,\"attributes\":_vm.pricelist.attributes,\"lighten\":3,\"available-fields\":_vm.availableFields('offer',_vm.pricelist),\"available-types\":_vm.availableTypes('offer',_vm.pricelist)}},_vm.$listeners))],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panel',{ref:'panel'+_vm.field.id,staticClass:\"yandexmarket-field\",attrs:{\"readonly\":_vm.readonly}},[_c('field-header',{attrs:{\"readonly\":_vm.readonly,\"field\":_vm.field,\"item\":_vm.item,\"color\":(\"grey lighten-\" + _vm.lighten),\"edit\":_vm.edit,\"disabledAddAttribute\":!!_vm.attrs.filter(function (a) { return !a.id; }).length},on:{\"attribute:add\":_vm.addAttribute,\"edit:toggle\":_vm.toggleEdit,\"edit:cancel\":_vm.cancelEdit,\"field:deleted\":function($event){return _vm.$emit('field:deleted',$event)},\"field:updated\":_vm.fieldUpdated}}),_c('v-expansion-panel-content',{attrs:{\"color\":(\"grey lighten-\" + _vm.lighten),\"eager\":\"\"}},[(_vm.edit)?_c('v-row',{staticClass:\"px-0 pb-1 mb-0\",attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-combobox',{staticClass:\"yandexmarket-field-tag mr-2\",attrs:{\"value\":_vm.field.name,\"items\":_vm.availableFields,\"placeholder\":\"Введите или выберите из списка\",\"attach\":true,\"item-value\":\"value\",\"item-text\":\"value\",\"hide-details\":\"\",\"solo\":\"\",\"dense\":\"\"},on:{\"input\":_vm.changedName},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('div',{staticClass:\"text-no-wrap\"},[_c('code',{staticClass:\"mr-2 mt-1 d-inline-block\"},[_vm._v(\"Элемент:\")]),_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"icon-angle-left\")])],1)]},proxy:true},{key:\"append\",fn:function(){return [_c('v-icon',[_vm._v(\"icon-angle-right\")])]},proxy:true},{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('code',[_vm._v(_vm._s(item.value))]),(item.value !== item.text)?_c('small',{staticClass:\"pl-1 grey--text\"},[_vm._v(_vm._s(item.text))]):_vm._e()]}}],null,false,1073683775)})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-select',{staticClass:\"yandexmarket-field-type\",attrs:{\"items\":_vm.types,\"full-width\":false,\"label\":\"Тип элемента\",\"placeholder\":\"Выберите тип\",\"menu-props\":{offsetY: true},\"attach\":true,\"disabled\":!!(_vm.field.type && !_vm.availableType),\"hide-details\":\"\",\"solo\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('div',{staticClass:\"text-no-wrap mr-2\"},[_c('code',[_vm._v(\"Тип:\")])])]},proxy:true}],null,false,931772273),model:{value:(_vm.field.type),callback:function ($$v) {_vm.$set(_vm.field, \"type\", $$v)},expression:\"field.type\"}})],1)],1):_vm._e(),(_vm.attrs.length)?[_c('v-row',{staticClass:\"mb-1 mt-0\",attrs:{\"dense\":\"\"}},_vm._l((_vm.attrs),function(attribute){return _c('field-attribute',_vm._g({key:attribute.id,attrs:{\"attribute\":attribute}},_vm.$listeners))}),1)]:_vm._e(),(_vm.isCategories(_vm.field))?[_c('div',{staticClass:\"text-body-2\"},[_vm._v(\"Список категорий выбирается на вкладке \"),_c('router-link',{attrs:{\"to\":{name:'pricelist.categories', params:this.$route.params}}},[_vm._v(\"Категории и условия\")])],1)]:(_vm.isOffers(_vm.field))?[_c('div',{staticClass:\"text-body-2\"},[_vm._v(\"Поля товаров настраиваются на вкладке \"),_c('router-link',{attrs:{\"to\":{name:'pricelist.offers', params:this.$route.params}}},[_vm._v(\"Поля предложений\")])],1)]:(_vm.isShop(_vm.field) && _vm.parent === 1)?[_c('div',{staticClass:\"text-body-2\"},[_vm._v(\"Поля магазина настраиваются на вкладке \"),_c('router-link',{attrs:{\"to\":{name:'pricelist', params:this.$route.params}}},[_vm._v(\"Настройки магазина\")])],1)]:(_vm.isParent(_vm.field))?_c('v-card-text',{staticClass:\"pa-0\"},[(_vm.children.length)?[_c('div',{staticClass:\"grey--text\",staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Дочерние элементы:\")]),_c('v-expansion-panels',{key:_vm.field.name,attrs:{\"value\":_vm.opened,\"multiple\":\"\",\"accordion\":\"\"}},_vm._l((_vm.children),function(child){return _c('pricelist-field',_vm._g({key:child.id,attrs:{\"item\":child,\"fields\":_vm.fields,\"attributes\":_vm.attributes,\"lighten\":_vm.lighten+1,\"available-fields\":_vm.availableFields,\"available-types\":_vm.availableTypes,\"parent\":_vm.field.type}},_vm.$listeners))}),1)]:_vm._e(),(!_vm.isRoot(_vm.field))?_c('v-row',{staticClass:\"ma-0 align-center\"},[(!_vm.children.length)?_c('div',{staticClass:\"grey--text\"},[_vm._v(\"Ещё нет дочерних полей\")]):_vm._e(),_c('v-spacer'),_c('v-btn',{staticClass:\"mt-4\",attrs:{\"small\":\"\",\"color\":\"white\",\"disabled\":!!_vm.children.filter(function (f) { return !f.id; }).length},on:{\"click\":_vm.addField}},[_c('v-icon',{staticClass:\"icon-sm\",attrs:{\"left\":\"\"}},[_vm._v(\"icon-plus\")]),(_vm.children.filter(function (f) { return !f.id; }).length)?[_vm._v(\" Сохраните новое поле \")]:[_vm._v(\" Добавить элемент в <\"+_vm._s(_vm.field.name)+\"> \")]],2)],1):_vm._e()],2):(!_vm.isEmptyType(_vm.field))?_c('field-value',{attrs:{\"field\":_vm.field},on:{\"input\":function($event){_vm.field.value = $event}}}):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-col',{staticClass:\"yandexmarket-field-attribute pt-0\",attrs:{\"sm\":_vm.edit ? 12 : 6,\"cols\":\"12\"}},[(_vm.label)?_c('div',{staticClass:\"grey--text\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.label))]):_vm._e(),(!_vm.edit)?_c(_vm.item.values ? 'v-select' : 'v-text-field',{tag:\"component\",staticClass:\"yandexmarket-field-attribute-input\",attrs:{\"items\":_vm.item.values,\"placeholder\":_vm.item.values ? 'Выберите из списка' : 'Введите значение',\"hint\":_vm.item.handler ? '</> '+_vm.item.handler : null,\"persistent-hint\":!!_vm.item.handler,\"hide-details\":!_vm.item.handler,\"attach\":true,\"menu-props\":{offsetY: true},\"dense\":\"\",\"solo\":\"\"},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('div',{staticClass:\"text-no-wrap mr-1 ml-n1\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"color\":\"inherit\",\"title\":\"Атрибут\"}},[_vm._v(\"icon-font\")]),_c('code',{staticStyle:{\"position\":\"relative\",\"top\":\"1px\"}},[_vm._v(_vm._s(_vm.item.name))])],1)]},proxy:true},{key:\"append\",fn:function(){return [(!_vm.edited)?_c('v-btn',{staticClass:\"mt-n1 mr-n2\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":'Отредактировать свойства атрибута '+_vm.item.name},on:{\"click\":function($event){$event.stopPropagation();return _vm.editAttr($event)}}},[_c('v-icon',[_vm._v(\"icon-pencil\")])],1):_c('v-btn',{staticClass:\"mt-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Сохранить изменения\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.saveChanges($event)}}},[_c('v-icon',[_vm._v(\"icon-save\")])],1)]},proxy:true},(_vm.edited)?{key:\"append-outer\",fn:function(){return [_c('v-btn',{staticStyle:{\"top\":\"-5px\",\"right\":\"0\"},attrs:{\"fab\":\"\",\"x-small\":\"\",\"absolute\":\"\",\"depressed\":\"\",\"width\":\"24\",\"height\":\"24\",\"color\":\"grey lighten-4\"}},[_c('v-icon',{attrs:{\"size\":\"14\",\"title\":\"Отменить изменения\",\"color\":\"orange\"},on:{\"click\":_vm.cancelChanges}},[_vm._v(\"icon-rotate-left\")])],1)]},proxy:true}:null],null,true),model:{value:(_vm.item.value),callback:function ($$v) {_vm.$set(_vm.item, \"value\", $$v)},expression:\"item.value\"}}):_c('v-sheet',{staticClass:\"pt-1 px-2\",attrs:{\"elevation\":\"1\",\"color\":\"grey lighten-5\"}},[_c('v-row',{staticClass:\"ma-0\"},[(_vm.attribute.id)?_c('div',[_vm._v(\"Редактирование атрибута \"+_vm._s(_vm.attribute.name))]):_c('div',[_vm._v(\"Добавление нового атрибута \"),_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":400,\"close-delay\":200,\"attach\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mt-n1\",attrs:{\"small\":\"\",\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"icon-question-circle\")])],1)]}}])},[_c('div',{staticClass:\"text-caption\",staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\"Описание атрибута можно задать через лексиконы \")])])],1),_c('v-spacer'),(_vm.edited)?[_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Отменить изменения\",\"color\":\"orange darken-1\"},on:{\"click\":_vm.cancelChanges}},[_c('v-icon',[_vm._v(\"icon-rotate-left\")])],1),_c('v-btn',{staticClass:\"ml-2 mb-1\",attrs:{\"small\":\"\",\"title\":\"Сохранить изменения\",\"color\":\"secondary\",\"height\":\"26\"},on:{\"click\":_vm.saveChanges}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"icon-save\")]),_vm._v(\" Сохранить \")],1)]:[(_vm.item.id)?_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Отменить редактирование\",\"color\":\"secondary\"},on:{\"click\":_vm.editAttr}},[_c('v-icon',[_vm._v(\"icon-pencil\")])],1):_vm._e(),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Удалить поле\"},on:{\"click\":_vm.deleteAttribute}},[_c('v-icon',[_vm._v(\"icon-trash\")])],1)]],2),_c('v-row',{staticClass:\"mt-1\",attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Параметр *\",\"placeholder\":\"латиницей\",\"dense\":\"\",\"required\":\"\"},model:{value:(_vm.item.name),callback:function ($$v) {_vm.$set(_vm.item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('v-col',{attrs:{\"md\":\"4\"}},[_c('v-select',{attrs:{\"label\":\"Тип значения\",\"items\":_vm.items,\"dense\":\"\",\"menu-props\":{offsetY: true},\"attach\":true},model:{value:(_vm.item.type),callback:function ($$v) {_vm.$set(_vm.item, \"type\", $$v)},expression:\"item.type\"}})],1),_c('v-col',{attrs:{\"md\":\"4\"}},[_c(_vm.item.values ? 'v-select' : 'v-text-field',{tag:\"component\",attrs:{\"value\":_vm.item.value,\"items\":_vm.item.values,\"label\":_vm.item.values ? 'Выберите из списка' : 'Введите значение',\"placeholder\":\"Поле товара\",\"hide-details\":\"\",\"attach\":true,\"menu-props\":{offsetY: true},\"dense\":\"\"},on:{\"input\":function($event){_vm.item.value = $event}},scopedSlots:_vm._u([(_vm.item.type !== 0)?{key:\"append-outer\",fn:function(){return [_c('v-btn',{staticClass:\"px-2 text-center mt-n1\",attrs:{\"title\":_vm.openedCode ? 'Для закрытия очистите введённый код' :'Добавить код-обработчик значения',\"color\":_vm.openedCode ? 'secondary' : 'accent',\"small\":\"\",\"min-width\":\"30\"},on:{\"click\":_vm.toggleCode}},[_c('v-icon',[_vm._v(\"icon-code\")])],1)]},proxy:true}:null],null,true)})],1)],1),(_vm.openedCode)?_c('vue-codemirror',{staticClass:\"pb-2 mt-n2\",attrs:{\"options\":_vm.cmOptions,\"placeholder\":\"Пример: {$input === 'Да' ? true : false}\"},model:{value:(_vm.item.handler),callback:function ($$v) {_vm.$set(_vm.item, \"handler\", $$v)},expression:\"item.handler\"}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-col :sm=\"edit ? 12 : 6\" cols=\"12\" class=\"yandexmarket-field-attribute pt-0\">\r\n    <div class=\"grey--text\" style=\"font-size: 12px;\" v-if=\"label\">{{ label }}</div>\r\n    <component\r\n        v-if=\"!edit\"\r\n        :is=\"item.values ? 'v-select' : 'v-text-field'\"\r\n        v-model=\"item.value\"\r\n        :items=\"item.values\"\r\n        :placeholder=\"item.values ? 'Выберите из списка' : 'Введите значение'\"\r\n        :hint=\"item.handler ? '</> '+item.handler : null\"\r\n        :persistent-hint=\"!!item.handler\"\r\n        :hide-details=\"!item.handler\"\r\n        :attach=\"true\"\r\n        :menu-props=\"{offsetY: true}\"\r\n        class=\"yandexmarket-field-attribute-input\"\r\n        dense\r\n        solo\r\n    >\r\n      <template v-slot:prepend-inner>\r\n        <div class=\"text-no-wrap mr-1 ml-n1\">\r\n          <v-icon color=\"inherit\" class=\"mr-1\" title=\"Атрибут\">icon-font</v-icon>\r\n          <code style=\"position:relative; top:1px;\">{{ item.name }}</code>\r\n        </div>\r\n      </template>\r\n      <template v-slot:append>\r\n        <v-btn small v-if=\"!edited\" icon :title=\"'Отредактировать свойства атрибута '+item.name\" @click.stop=\"editAttr\"\r\n               class=\"mt-n1 mr-n2\">\r\n          <v-icon>icon-pencil</v-icon>\r\n        </v-btn>\r\n        <v-btn v-else small icon @click.stop=\"saveChanges\" title=\"Сохранить изменения\" class=\"mt-1\"\r\n               color=\"secondary\">\r\n          <v-icon>icon-save</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <template v-slot:append-outer v-if=\"edited\">\r\n        <v-btn fab x-small absolute depressed width=\"24\" height=\"24\" style=\"top:-5px;right:0\" color=\"grey lighten-4\">\r\n          <v-icon size=\"14\" @click=\"cancelChanges\" title=\"Отменить изменения\" color=\"orange\">icon-rotate-left</v-icon>\r\n        </v-btn>\r\n      </template>\r\n    </component>\r\n    <v-sheet v-else elevation=\"1\" class=\"pt-1 px-2\" color=\"grey lighten-5\">\r\n      <v-row class=\"ma-0\">\r\n        <div v-if=\"attribute.id\">Редактирование атрибута {{ attribute.name }}</div>\r\n        <div v-else>Добавление нового атрибута\r\n          <v-tooltip bottom :max-width=\"400\" :close-delay=\"200\" :attach=\"true\">\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn small icon v-on=\"on\" class=\"mt-n1\">\r\n                <v-icon>icon-question-circle</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <div class=\"text-caption\" style=\"white-space: pre-line;\">Описание атрибута можно задать через лексиконы\r\n            </div>\r\n          </v-tooltip>\r\n        </div>\r\n        <v-spacer/>\r\n        <template v-if=\"edited\">\r\n          <v-btn @click=\"cancelChanges\" small icon title=\"Отменить изменения\" class=\"ml-1\" color=\"orange darken-1\">\r\n            <v-icon>icon-rotate-left</v-icon>\r\n          </v-btn>\r\n          <v-btn @click=\"saveChanges\" small title=\"Сохранить изменения\" class=\"ml-2 mb-1\" color=\"secondary\" height=\"26\">\r\n            <v-icon left>icon-save</v-icon>\r\n            Сохранить\r\n          </v-btn>\r\n        </template>\r\n        <template v-else>\r\n          <v-btn v-if=\"item.id\" small icon title=\"Отменить редактирование\" @click=\"editAttr\" class=\"ml-1\"\r\n                 color=\"secondary\">\r\n            <v-icon>icon-pencil</v-icon>\r\n          </v-btn>\r\n          <v-btn small icon title=\"Удалить поле\" @click=\"deleteAttribute\" class=\"ml-1\">\r\n            <v-icon>icon-trash</v-icon>\r\n          </v-btn>\r\n        </template>\r\n      </v-row>\r\n      <v-row dense class=\"mt-1\">\r\n        <v-col md=\"4\">\r\n          <v-text-field\r\n              v-model=\"item.name\"\r\n              label=\"Параметр *\"\r\n              placeholder=\"латиницей\"\r\n              dense\r\n              required\r\n          ></v-text-field>\r\n        </v-col>\r\n        <v-col md=\"4\">\r\n          <v-select\r\n              v-model=\"item.type\"\r\n              label=\"Тип значения\"\r\n              :items=\"items\"\r\n              dense\r\n              :menu-props=\"{offsetY: true}\"\r\n              :attach=\"true\"\r\n          ></v-select>\r\n        </v-col>\r\n        <v-col md=\"4\">\r\n          <component\r\n              :is=\"item.values ? 'v-select' : 'v-text-field'\"\r\n              :value=\"item.value\"\r\n              @input=\"item.value = $event\"\r\n              :items=\"item.values\"\r\n              :label=\"item.values ? 'Выберите из списка' : 'Введите значение'\"\r\n              placeholder=\"Поле товара\"\r\n              hide-details\r\n              :attach=\"true\"\r\n              :menu-props=\"{offsetY: true}\"\r\n              dense\r\n          >\r\n            <template v-slot:append-outer v-if=\"item.type !== 0\">\r\n              <v-btn\r\n                  :title=\"openedCode ? 'Для закрытия очистите введённый код' :'Добавить код-обработчик значения'\"\r\n                  :color=\"openedCode ? 'secondary' : 'accent'\"\r\n                  @click=\"toggleCode\"\r\n                  small\r\n                  class=\"px-2 text-center mt-n1\"\r\n                  min-width=\"30\"\r\n              >\r\n                <v-icon>icon-code</v-icon>\r\n              </v-btn>\r\n            </template>\r\n          </component>\r\n        </v-col>\r\n      </v-row>\r\n      <vue-codemirror\r\n          v-if=\"openedCode\"\r\n          class=\"pb-2 mt-n2\"\r\n          v-model=\"item.handler\"\r\n          :options=\"cmOptions\"\r\n          placeholder=\"Пример: {$input === 'Да' ? true : false}\"\r\n      ></vue-codemirror>\r\n    </v-sheet>\r\n  </v-col>\r\n</template>\r\n\r\n<script>\r\nimport VTextField from \"vuetify/lib/components/VTextField/VTextField\";\r\nimport VSelect from \"vuetify/lib/components/VSelect/VSelect\";\r\nimport VCombobox from \"vuetify/lib/components/VCombobox/VCombobox\";\r\nimport {codemirror} from 'vue-codemirror';\r\nimport api from \"@/api\";\r\n\r\nexport default {\r\n  name: 'FieldAttribute',\r\n  components: {\r\n    VSelect,\r\n    VCombobox,\r\n    VTextField,\r\n    VueCodemirror: codemirror\r\n  },\r\n  props: {\r\n    attribute: {required: true, type: [Object]}\r\n  },\r\n  data: () => ({\r\n    code: false,\r\n    item: {},\r\n    edit: false,\r\n    items: [\r\n      {value: 0, text: 'текст (без обработки)'},\r\n      {value: 1, text: 'значение из столбца'},\r\n    ],\r\n    cmOptions: {\r\n      taSize: 4,\r\n      mode: {\r\n        name: 'smarty',\r\n        baseMode: 'text/html',\r\n        version: 3,\r\n      },\r\n      line: true,\r\n      lineNumbers: true,\r\n      lineWrapping: true\r\n    },\r\n  }),\r\n  watch: {\r\n    attribute: {\r\n      immediate: true,\r\n      handler: function (attribute) {\r\n        this.item = {...this.item, ...attribute};\r\n        this.$nextTick().then(() => this.code = !!this.item.handler)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    edited() {\r\n      return JSON.stringify(this.item) !== JSON.stringify(this.attribute);\r\n    },\r\n    label() {\r\n      let label = '';\r\n      if (this.item.label && this.item.label.replace(' *', '') !== this.item.name) {\r\n        label = this.item.label;\r\n      }\r\n      return label;\r\n    },\r\n    openedCode() {\r\n      return !!this.item.handler || this.code;\r\n    },\r\n  },\r\n  methods: {\r\n    editAttr() {\r\n      this.edit = !this.edit;\r\n    },\r\n    saveChanges() {\r\n      setTimeout(() => {\r\n        api.post(!this.item.id ? 'attributes/create' : 'attributes/update', this.item)\r\n            .then(({data}) => {\r\n              this.edit = false;\r\n              this.$nextTick().then(() => this.$emit('attribute:updated', data.object));\r\n            })\r\n            .catch(error => console.error(error))\r\n      }, 10);\r\n    },\r\n    cancelChanges() {\r\n      this.item = {...this.item, ...this.attribute};\r\n    },\r\n    deleteAttribute() {\r\n      if (!this.item.id) {\r\n        this.$emit('attribute:deleted', this.item);\r\n        return;\r\n      }\r\n      if (confirm('Вы действительно хотите удалить атрибут ' + this.item.name + '?')) {\r\n        api.post('attributes/remove', {ids: JSON.stringify([this.item.id])})\r\n            .then(() => this.$emit('attribute:deleted', this.item))\r\n            .catch(error => console.log(error));\r\n      }\r\n    },\r\n    toggleCode() {\r\n      if (this.item.handler) {\r\n        return;\r\n      }\r\n      this.code = !this.code;\r\n    },\r\n  },\r\n  mounted() {\r\n    if (!this.attribute.id) {\r\n      this.edit = true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!--suppress CssUnusedSymbol -->\r\n<style>\r\n.yandexmarket-field-attribute, .yandexmarket-field-attribute-input {\r\n  position: relative;\r\n}\r\n\r\n.yandexmarket-field-attribute .CodeMirror {\r\n  height: auto;\r\n  min-height: 30px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldAttribute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldAttribute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldAttribute.vue?vue&type=template&id=1bcc4b98&\"\nimport script from \"./FieldAttribute.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldAttribute.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FieldAttribute.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCol,VIcon,VRow,VSelect,VSheet,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.readonly ? 'v-sheet' : 'v-expansion-panel-header',{tag:\"component\",staticClass:\"pr-2 pb-1 v-expansion-panel-header\",attrs:{\"color\":_vm.color},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('v-icon',{staticClass:\"ml-3 mr-1 mt-n1\"},[_vm._v(\"icon-chevron-down\")])]},proxy:true}])},[(!_vm.isSingle(_vm.field))?_c('inline-edit-dialog',{scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('v-text-field',{attrs:{\"value\":_vm.field.rank,\"label\":\"Приоритет\",\"single-line\":\"\",\"type\":\"number\",\"prepend-icon\":\"icon-sort\",\"min\":\"0\"},on:{\"input\":function($event){_vm.field.rank = parseInt($event || '0')}}})]},proxy:true}],null,false,147680412)},[_c('v-btn',{staticClass:\"ml-n2\",attrs:{\"icon\":\"\",\"small\":\"\",\"title\":\"Порядковый номер (нажмите, чтобы изменить)\"}},[_vm._v(\" #\"+_vm._s(_vm.field.rank)+\" \")])],1):_vm._e(),_c('span',{staticStyle:{\"padding-left\":\"1px\",\"padding-right\":\"4px\"}},[_vm._v(\" <\"+_vm._s(_vm.item.name || 'введите элемент')+\"> \")]),_c('span',{staticClass:\"pl-1 grey--text\"},[(_vm.item.label.replace(' *','') !== _vm.item.name)?_c('span',[_vm._v(_vm._s(_vm.item.label.replace(' *', '')))]):_vm._e(),(!_vm.item.id)?_c('small',[_vm._v(\" (выберите тип)\")]):_vm._e()]),(_vm.item.help)?_c('v-tooltip',{attrs:{\"bottom\":\"\",\"max-width\":400,\"close-delay\":200,\"attach\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\" icon-question-circle \")])],1)]}}],null,false,939607689)},[_c('div',{staticClass:\"text-caption\",staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(_vm._s(_vm.item.help))])]):_vm._e(),_c('v-spacer'),(_vm.edited)?[_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Отменить изменения\",\"color\":\"orange darken-1\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('edit:cancel')}}},[_c('v-icon',[_vm._v(\"icon-rotate-left\")])],1),_c('v-btn',{staticClass:\"ml-2 mb-1\",attrs:{\"small\":\"\",\"title\":\"Сохранить изменения\",\"color\":\"secondary\",\"height\":\"26\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.saveField($event)}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"icon-save\")]),_vm._v(\" Сохранить \")],1)]:[(_vm.field.id)?_c('v-btn',{staticClass:\"px-0\",attrs:{\"small\":\"\",\"depressed\":\"\",\"title\":_vm.disabledAddAttribute ? 'Сначала сохраните новый' : 'Добавить атрибут',\"color\":\"transparent\",\"min-width\":\"40\",\"disabled\":_vm.disabledAddAttribute},on:{\"click\":function($event){return _vm.$emit('attribute:add',$event)}}},[_c('v-icon',{staticClass:\"icon-xs mr-1\",attrs:{\"color\":\"grey darken-1\"}},[_vm._v(\"icon-plus\")]),_c('v-icon',{staticClass:\"icon-xs\",attrs:{\"color\":\"grey darken-1\"}},[_vm._v(\"icon-font\")])],1):_vm._e(),(_vm.field.id)?_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Отредактировать название и тип поля\",\"color\":_vm.edit ? 'secondary': 'default'},on:{\"click\":function($event){return _vm.$emit('edit:toggle',$event)}}},[_c('v-icon',[_vm._v(\"icon-pencil\")])],1):_vm._e(),(!_vm.isSingle(_vm.field))?_c('v-btn',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Удалить поле\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteField($event)}}},[_c('v-icon',[_vm._v(\"icon-trash\")])],1):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Styles\r\nimport \"vuetify/src/components/VDataTable/VEditDialog.sass\"; // Mixins\r\n\r\nimport Returnable from 'vuetify/lib/mixins/returnable';\r\nimport Themeable from 'vuetify/lib/mixins/themeable'; // Utils\r\n\r\nimport { keyCodes } from 'vuetify/lib/util/helpers'; // Component\r\n\r\nimport VBtn from 'vuetify/lib/components/VBtn';\r\nimport VMenu from 'vuetify/lib/components/VMenu';\r\nimport mixins from 'vuetify/lib/util/mixins';\r\n\r\nexport default mixins(Returnable, Themeable).extend({\r\n    name: 'inline-edit-dialog',\r\n    props: {\r\n        cancelText: {\r\n            default: 'Cancel'\r\n        },\r\n        large: Boolean,\r\n        eager: Boolean,\r\n        persistent: Boolean,\r\n        saveText: {\r\n            default: 'Save'\r\n        },\r\n        transition: {\r\n            type: String,\r\n            default: 'slide-x-reverse-transition'\r\n        }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            isActive: false\r\n        };\r\n    },\r\n\r\n    watch: {\r\n        isActive(val) {\r\n            if (val) {\r\n                this.$emit('open');\r\n                setTimeout(this.focus, 50); // Give DOM time to paint\r\n            } else {\r\n                this.$emit('close');\r\n            }\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        cancel() {\r\n            this.isActive = false;\r\n            this.$emit('cancel');\r\n        },\r\n\r\n        focus() {\r\n            const input = this.$refs.content.querySelector('input');\r\n            input && input.focus();\r\n        },\r\n\r\n        genButton(fn, text) {\r\n            return this.$createElement(VBtn, {\r\n                props: {\r\n                    text: true,\r\n                    color: 'primary',\r\n                    light: true\r\n                },\r\n                on: {\r\n                    click: fn\r\n                }\r\n            }, text);\r\n        },\r\n\r\n        genActions() {\r\n            return this.$createElement('div', {\r\n                class: 'v-small-dialog__actions'\r\n            }, [this.genButton(this.cancel, this.cancelText), this.genButton(() => {\r\n                this.save(this.returnValue);\r\n                this.$emit('save');\r\n            }, this.saveText)]);\r\n        },\r\n\r\n        genContent() {\r\n            return this.$createElement('div', {\r\n                staticClass: 'v-small-dialog__content',\r\n                on: {\r\n                    keydown: e => {\r\n                        e.keyCode === keyCodes.esc && this.cancel();\r\n\r\n                        if (e.keyCode === keyCodes.enter) {\r\n                            this.save(this.returnValue);\r\n                            this.$emit('save');\r\n                        }\r\n                    }\r\n                },\r\n                ref: 'content'\r\n            }, [this.$slots.input]);\r\n        }\r\n\r\n    },\r\n\r\n    render(h) {\r\n        return h(VMenu, {\r\n            staticClass: 'v-small-dialog',\r\n            class: this.themeClasses,\r\n            props: {\r\n                contentClass: 'v-small-dialog__menu-content',\r\n                transition: this.transition,\r\n                origin: 'top right',\r\n                right: true,\r\n                value: this.isActive,\r\n                closeOnClick: !this.persistent,\r\n                closeOnContentClick: false,\r\n                eager: this.eager,\r\n                light: this.light,\r\n                dark: this.dark,\r\n                attach: true\r\n            },\r\n            on: {\r\n                input: val => this.isActive = val\r\n            },\r\n            scopedSlots: {\r\n                activator: ({\r\n                                on\r\n                            }) => {\r\n                    return h('div', {\r\n                        staticClass: 'v-small-dialog__activator',\r\n                        on\r\n                    }, [h('span', {\r\n                        staticClass: 'v-small-dialog__activator__content'\r\n                    }, this.$slots.default)]);\r\n                }\r\n            }\r\n        }, [this.genContent(), this.large ? this.genActions() : null]);\r\n    }\r\n\r\n});","<template>\r\n  <component :is=\"readonly ? 'v-sheet' : 'v-expansion-panel-header'\"\r\n             class=\"pr-2 pb-1 v-expansion-panel-header\"\r\n             :color=\"color\">\r\n    <template v-slot:actions>\r\n      <v-icon class=\"ml-3 mr-1 mt-n1\">icon-chevron-down</v-icon>\r\n    </template>\r\n    <!--  <v-sheet :color=\"color\" class=\"v-expansion-panel-header pr-2 pb-1\">-->\r\n    <!--    <v-expansion-panel-header :color=\"color\" hide-actions class=\"pr-2 pb-1\">-->\r\n    <inline-edit-dialog v-if=\"!isSingle(field)\">\r\n      <v-btn icon small title=\"Порядковый номер (нажмите, чтобы изменить)\" class=\"ml-n2\">\r\n        #{{ field.rank }}\r\n      </v-btn>\r\n      <template v-slot:input>\r\n        <v-text-field\r\n            :value=\"field.rank\"\r\n            @input=\"field.rank = parseInt($event || '0')\"\r\n            label=\"Приоритет\"\r\n            single-line\r\n            type=\"number\"\r\n            prepend-icon=\"icon-sort\"\r\n            min=\"0\"\r\n        />\r\n      </template>\r\n    </inline-edit-dialog>\r\n    <span style=\"padding-left: 1px; padding-right: 4px;\">\r\n         &lt;{{ item.name || 'введите элемент' }}&gt;\r\n    </span>\r\n    <span class=\"pl-1 grey--text\">\r\n      <span v-if=\"item.label.replace(' *','') !== item.name\">{{ item.label.replace(' *', '') }}</span>\r\n      <small v-if=\"!item.id\"> (выберите тип)</small>\r\n    </span>\r\n    <v-tooltip v-if=\"item.help\" bottom :max-width=\"400\" :close-delay=\"200\" :attach=\"true\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-btn small icon v-on=\"on\" class=\"ml-1\">\r\n          <v-icon>\r\n            icon-question-circle\r\n          </v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <div class=\"text-caption\" style=\"white-space: pre-line;\">{{ item.help }}</div>\r\n    </v-tooltip>\r\n    <v-spacer/>\r\n    <template v-if=\"edited\">\r\n      <v-btn @click.stop=\"$emit('edit:cancel')\" small icon title=\"Отменить изменения\" class=\"ml-1\" color=\"orange darken-1\">\r\n        <v-icon>icon-rotate-left</v-icon>\r\n      </v-btn>\r\n      <v-btn @click.stop=\"saveField\" small title=\"Сохранить изменения\" class=\"ml-2 mb-1\" color=\"secondary\" height=\"26\">\r\n        <v-icon left>icon-save</v-icon>\r\n        Сохранить\r\n      </v-btn>\r\n    </template>\r\n    <template v-else>\r\n      <v-btn\r\n          v-if=\"field.id\"\r\n          small depressed\r\n          @click=\"$emit('attribute:add',$event)\"\r\n          :title=\"disabledAddAttribute ? 'Сначала сохраните новый' : 'Добавить атрибут'\"\r\n          color=\"transparent\"\r\n          min-width=\"40\"\r\n          class=\"px-0\"\r\n          :disabled=\"disabledAddAttribute\"\r\n      >\r\n        <v-icon class=\"icon-xs mr-1\" color=\"grey darken-1\">icon-plus</v-icon>\r\n        <v-icon class=\"icon-xs\" color=\"grey darken-1\">icon-font</v-icon>\r\n      </v-btn>\r\n      <v-btn v-if=\"field.id\"\r\n             small icon\r\n             title=\"Отредактировать название и тип поля\"\r\n             @click=\"$emit('edit:toggle',$event)\"\r\n             :color=\"edit ? 'secondary': 'default'\"\r\n             class=\"ml-1\"\r\n      >\r\n        <v-icon>icon-pencil</v-icon>\r\n      </v-btn>\r\n      <v-btn small icon\r\n             title=\"Удалить поле\"\r\n             @click.stop=\"deleteField\"\r\n             v-if=\"!isSingle(field)\"\r\n             class=\"ml-1\">\r\n        <v-icon>icon-trash</v-icon>\r\n      </v-btn>\r\n    </template>\r\n    <!--    </v-expansion-panel-header>-->\r\n    <!--  &lt;!&ndash;  </v-sheet>-->\r\n  </component>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from 'vuex';\r\nimport InlineEditDialog from \"@/components/InlineEditDialog\";\r\nimport api from '@/api';\r\n\r\nimport VSheet from \"vuetify/lib/components/VSheet/VSheet\";\r\nimport VExpansionPanelHeader from \"vuetify/lib/components/VExpansionPanel/VExpansionPanelHeader\";\r\n\r\nexport default {\r\n  name: 'FieldHeader',\r\n  props: {\r\n    field: {required: true, type: Object},\r\n    item: {required: true, type: Object},\r\n    color: {type: String, default: `grey lighten-3`},\r\n    edit: {type: Boolean, default: false},\r\n    disabledAddAttribute: {type: Boolean, default: false},\r\n    readonly: {type: Boolean, default: true}\r\n  },\r\n  components: {\r\n    InlineEditDialog,\r\n    VSheet,\r\n    VExpansionPanelHeader\r\n  },\r\n  computed: {\r\n    ...mapGetters('field', [\r\n      'isRoot',\r\n      'isSingle',\r\n      'typeText',\r\n      'isUnique',\r\n      'isSimpleString'\r\n    ]),\r\n    edited() {\r\n      return JSON.stringify(this.item) !== JSON.stringify(this.field);\r\n    },\r\n  },\r\n  methods: {\r\n    deleteField() {\r\n      if (!this.field.id) {\r\n        this.$emit('field:deleted', this.field);\r\n        return;\r\n      }\r\n      if (confirm('Вы действительно хотите удалить поле ' + this.field.name + '?')) {\r\n        api.post('fields/remove', {ids: JSON.stringify([this.field.id])})\r\n            .then(() => this.$emit('field:deleted', this.field))\r\n            .catch(error => console.log(error));\r\n      }\r\n    },\r\n    saveField() {\r\n      setTimeout(() => {\r\n        api.post(!this.field.id ? 'fields/create' : 'fields/update', this.field)\r\n            .then(({data}) => {\r\n              this.$emit('edit:toggle');\r\n              this.$nextTick().then(() => this.$emit('field:updated', data.object));\r\n            })\r\n            .catch(error => console.error(error));\r\n      }, 10);\r\n    },\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldHeader.vue?vue&type=template&id=08feb92e&\"\nimport script from \"./FieldHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yandexmarket-field-value\"},[_c('v-card-title',{staticClass:\"pa-0 flex-nowrap\"},[(_vm.isCurrencies(_vm.field))?[_c('v-select',{attrs:{\"value\":_vm.field.value,\"items\":_vm.field.values,\"filled\":\"\",\"dense\":\"\",\"multiple\":\"\",\"solo\":\"\",\"chips\":\"\",\"deletable-chips\":\"\",\"prepend-inner-icon\":\"icon-tags\",\"small-chips\":\"\",\"hide-details\":\"auto\",\"item-value\":\"value\",\"item-text\":\"text\",\"menu-props\":{offsetY: true},\"attach\":true},on:{\"change\":_vm.changedValue},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar attrs = ref.attrs;\nvar index = ref.index;\nvar item = ref.item;\nvar selected = ref.selected;\nreturn [_c('v-chip',_vm._b({attrs:{\"input-value\":selected,\"text-color\":\"white\",\"color\":!index ? 'primary' : 'grey',\"title\":!index ? 'Основная валюта' : 'Выбрать основной',\"close\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.makeFirst(item)},\"click:close\":function($event){return _vm.removeChip(item)}}},'v-chip',attrs,false),[(item.value)?_c('strong',[_vm._v(_vm._s(item.value))]):_vm._e(),(item.text)?_c('span',{staticClass:\"pl-1\"},[_vm._v(\"(\"+_vm._s(item.text)+\")\")]):_c('span',[_vm._v(_vm._s(item))])])]}}],null,false,2245947491)})]:(_vm.isSimpleString(_vm.field))?[_c('v-text-field',{attrs:{\"value\":_vm.field.value,\"label\":\"Введите значение\",\"placeholder\":\"Попадёт в XML без обработки и замен плейсхолдеров\",\"hide-details\":\"\",\"solo\":\"\",\"dense\":\"\"},on:{\"input\":_vm.changedValue},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('div',{staticClass:\"text-no-wrap mr-2\"},[_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"inherit\"}},[_vm._v(\"icon-paragraph\")]),_c('code',{staticStyle:{\"position\":\"relative\",\"top\":\"1px\"}},[_vm._v(\"Текст\")])],1)]},proxy:true}])})]:[_c('v-combobox',{attrs:{\"value\":_vm.value,\"filter\":_vm.valueSearch,\"items\":_vm.dataColumns,\"attach\":true,\"label\":\"Выберите поле объекта\",\"placeholder\":\"или введите в формате \\\"Class.key\\\" и нажмите Enter\",\"item-value\":\"value\",\"item-text\":\"text\",\"hide-details\":\"\",\"solo\":\"\",\"dense\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.changedValue},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('div',{staticClass:\"text-no-wrap mr-2\"},[_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"inherit\"}},[_vm._v(\"icon-list-ul\")]),_c('code',{staticStyle:{\"position\":\"relative\",\"top\":\"1px\"}},[_vm._v(_vm._s(_vm.valuePrepend))])],1)]},proxy:true},{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('code',[_vm._v(_vm._s(item.value))]),_c('span',{staticClass:\"pl-1\"},[_vm._v(_vm._s(item.text))]),(item.help)?_c('small',{staticClass:\"pl-1 grey--text\"},[_vm._v(\" (\"+_vm._s(item.help)+\")\")]):_vm._e()]}}])}),(_vm.isPicture(_vm.field))?_c('v-text-field',{staticClass:\"ml-2\",staticStyle:{\"max-width\":\"100px\"},attrs:{\"value\":_vm.field.properties.count,\"type\":\"number\",\"title\":\"Количество изображений для каждого товара (10 максимум)\",\"min\":\"0\",\"max\":\"10\",\"label\":\"Кол-во\",\"solo\":\"\",\"dense\":\"\",\"hide-details\":\"\"},on:{\"input\":_vm.countChanged}}):_c('v-btn',{staticClass:\"ml-3\",attrs:{\"title\":_vm.openedCode ? 'Для закрытия очистите введённый код' :'Добавить код-обработчик значения',\"color\":_vm.openedCode ? 'secondary' : 'accent',\"min-width\":\"30\",\"elevation\":\"0\"},on:{\"click\":_vm.toggleCode}},[_c('v-icon',[_vm._v(\"icon-code\")])],1)]],2),(_vm.openedCode)?_c('v-sheet',{staticClass:\"mt-2\",staticStyle:{\"position\":\"relative\"},attrs:{\"elevation\":\"1\"}},[(_vm.rerender)?_c('vue-codemirror',{attrs:{\"options\":_vm.cmOptions,\"placeholder\":\"Пример: {$input === 'Да' ? true : false}\"},model:{value:(_vm.field.handler),callback:function ($$v) {_vm.$set(_vm.field, \"handler\", $$v)},expression:\"field.handler\"}}):_vm._e(),_c('v-tooltip',{attrs:{\"left\":\"\",\"max-width\":450,\"close-delay\":200,\"attach\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticStyle:{\"right\":\"-4px\",\"top\":\"-4px\"},attrs:{\"x-small\":\"\",\"fab\":\"\",\"icon\":\"\",\"absolute\":\"\"}},on),[_c('v-icon',{attrs:{\"color\":\"grey darken-1\"}},[_vm._v(\"icon-question-circle\")])],1)]}}],null,false,403900664)},[_c('div',{staticClass:\"text-caption\",staticStyle:{\"white-space\":\"pre-line\"}},[_vm._v(\" INLINE обработка поля на Fenom (значение попадает в $input)\"),_c('br'),_vm._v(\" Нужно для приведения к boolean, вырезанию лишних тегов/текстов, обработки массивов, ТВ-полей или для независимых значений. \"),_c('br'),_c('br'),_vm._v(\" Доступны поля ресурса {$resource.pagetitle}, товаров miniShop2 {$data.price}, опций ms2 {$option.color}, тв полей {$tv.tag}.\"),_c('br'),_vm._v(\" Все нужные ТВ-поля, опции будут приджойнены автоматически.\"),_c('br'),_c('br'),_vm._v(\" Писать @INLINE перед кодом НЕ нужно. \")])])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"yandexmarket-field-value\">\r\n    <v-card-title class=\"pa-0 flex-nowrap\">\r\n      <template v-if=\"isCurrencies(field)\">\r\n        <v-select\r\n            :value=\"field.value\"\r\n            :items=\"field.values\"\r\n            filled\r\n            dense\r\n            multiple\r\n            solo\r\n            chips\r\n            deletable-chips\r\n            prepend-inner-icon=\"icon-tags\"\r\n            small-chips\r\n            hide-details=\"auto\"\r\n            item-value=\"value\"\r\n            item-text=\"text\"\r\n            @change=\"changedValue\"\r\n            :menu-props=\"{offsetY: true}\"\r\n            :attach=\"true\"\r\n        >\r\n          <template v-slot:selection=\"{ attrs, index, item, selected }\">\r\n            <v-chip\r\n                v-bind=\"attrs\"\r\n                :input-value=\"selected\"\r\n                text-color=\"white\"\r\n                :color=\"!index ? 'primary' : 'grey'\"\r\n                :title=\"!index ? 'Основная валюта' : 'Выбрать основной'\"\r\n                @click.stop=\"makeFirst(item)\"\r\n                @click:close=\"removeChip(item)\"\r\n                close\r\n                small\r\n            >\r\n              <strong v-if=\"item.value\">{{ item.value }}</strong>\r\n              <span class=\"pl-1\" v-if=\"item.text\">({{ item.text }})</span>\r\n              <span v-else>{{ item }}</span>\r\n            </v-chip>\r\n          </template>\r\n        </v-select>\r\n      </template>\r\n      <template v-else-if=\"isSimpleString(field)\">\r\n        <v-text-field\r\n            :value=\"field.value\"\r\n            @input=\"changedValue\"\r\n            label=\"Введите значение\"\r\n            placeholder=\"Попадёт в XML без обработки и замен плейсхолдеров\"\r\n            hide-details\r\n            solo\r\n            dense\r\n        >\r\n          <template v-slot:prepend-inner>\r\n            <div class=\"text-no-wrap mr-2\">\r\n              <v-icon left color=\"inherit\">icon-paragraph</v-icon>\r\n              <code style=\"position:relative; top:1px;\">Текст</code>\r\n            </div>\r\n          </template>\r\n        </v-text-field>\r\n      </template>\r\n      <template v-else>\r\n        <v-combobox\r\n            :value=\"value\"\r\n            @input=\"changedValue\"\r\n            :filter=\"valueSearch\"\r\n            :items=\"dataColumns\"\r\n            :attach=\"true\"\r\n            label=\"Выберите поле объекта\"\r\n            placeholder='или введите в формате \"Class.key\" и нажмите Enter'\r\n            item-value=\"value\"\r\n            item-text=\"text\"\r\n            hide-details\r\n            solo\r\n            dense\r\n            clearable\r\n        >\r\n          <template v-slot:prepend-inner>\r\n            <div class=\"text-no-wrap mr-2\">\r\n              <v-icon left color=\"inherit\">icon-list-ul</v-icon>\r\n              <code style=\"position:relative; top:1px;\">{{ valuePrepend }}</code>\r\n            </div>\r\n          </template>\r\n          <template v-slot:item=\"{item}\">\r\n            <code>{{ item.value }}</code>\r\n            <span class=\"pl-1\">{{ item.text }}</span>\r\n            <small v-if=\"item.help\" class=\"pl-1 grey--text\">&nbsp;({{ item.help }})</small>\r\n          </template>\r\n        </v-combobox>\r\n        <v-text-field\r\n            v-if=\"isPicture(field)\"\r\n            :value=\"field.properties.count\"\r\n            @input=\"countChanged\"\r\n            type=\"number\"\r\n            class=\"ml-2\"\r\n            title=\"Количество изображений для каждого товара (10 максимум)\"\r\n            min=\"0\"\r\n            max=\"10\"\r\n            label=\"Кол-во\"\r\n            style=\"max-width: 100px\"\r\n            solo\r\n            dense\r\n            hide-details\r\n        >\r\n        </v-text-field>\r\n        <v-btn v-else\r\n               :title=\"openedCode ? 'Для закрытия очистите введённый код' :'Добавить код-обработчик значения'\"\r\n               :color=\"openedCode ? 'secondary' : 'accent'\"\r\n               @click=\"toggleCode\"\r\n               class=\"ml-3\"\r\n               min-width=\"30\"\r\n               elevation=\"0\">\r\n          <v-icon>icon-code</v-icon>\r\n        </v-btn>\r\n      </template>\r\n    </v-card-title>\r\n    <v-sheet elevation=\"1\" v-if=\"openedCode\" class=\"mt-2\" style=\"position: relative;\">\r\n      <vue-codemirror\r\n          v-if=\"rerender\"\r\n          v-model=\"field.handler\"\r\n          :options=\"cmOptions\"\r\n          placeholder=\"Пример: {$input === 'Да' ? true : false}\"\r\n      ></vue-codemirror>\r\n      <v-tooltip left :max-width=\"450\" :close-delay=\"200\" :attach=\"true\">\r\n        <template v-slot:activator=\"{on}\">\r\n          <v-btn v-on=\"on\" x-small fab icon absolute style=\"right: -4px; top: -4px;\">\r\n            <v-icon color=\"grey darken-1\">icon-question-circle</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <div class=\"text-caption\" style=\"white-space: pre-line;\">\r\n          INLINE обработка поля на Fenom (значение попадает в $input)<br>\r\n          Нужно для приведения к boolean, вырезанию лишних тегов/текстов, обработки массивов, ТВ-полей или для\r\n          независимых значений.\r\n          <br><br>\r\n          Доступны поля ресурса {$resource.pagetitle}, товаров miniShop2 {$data.price}, опций ms2 {$option.color},\r\n          тв\r\n          полей {$tv.tag}.<br>\r\n          Все нужные ТВ-поля, опции будут приджойнены автоматически.<br>\r\n          <br>\r\n          Писать @INLINE перед кодом НЕ нужно.\r\n        </div>\r\n      </v-tooltip>\r\n    </v-sheet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {codemirror} from 'vue-codemirror';\r\nimport {mapGetters} from 'vuex';\r\n\r\nexport default {\r\n  name: 'FieldValue',\r\n  props: {\r\n    field: {type: Object, required: true},\r\n  },\r\n  components: {\r\n    VueCodemirror: codemirror\r\n  },\r\n  data: () => ({\r\n    rerender: true,\r\n    code: false,\r\n    cmOptions: {\r\n      taSize: 4,\r\n      mode: {\r\n        name: 'smarty',\r\n        baseMode: 'text/html',\r\n        version: 3,\r\n      },\r\n      line: true,\r\n      lineNumbers: true,\r\n      lineWrapping: true\r\n    },\r\n  }),\r\n  computed: {\r\n    ...mapGetters(['dataColumns', 'columnText']),\r\n    ...mapGetters('field', [\r\n      'isSimpleString',\r\n      'isCurrencies',\r\n      'isCategories',\r\n      'isOffers',\r\n      'isShop',\r\n      'isPicture'\r\n    ]),\r\n    value() {\r\n      if (typeof this.field.value === 'object') {\r\n        return this.field.value;\r\n      }\r\n      return {\r\n        value: this.field.value,\r\n        text: this.columnText(this.field.value) || this.field.value\r\n      };\r\n    },\r\n    valuePrepend() {\r\n      if (this.value && this.value.value !== this.value.text) {\r\n        return this.value.value;\r\n      }\r\n      return 'Поле';\r\n    },\r\n    openedCode() {\r\n      return this.field.handler || this.code;\r\n    },\r\n  },\r\n  methods: {\r\n    valueSearch(item, queryText, itemText) {\r\n      return itemText.toLocaleLowerCase().indexOf(queryText.toLocaleLowerCase()) > -1\r\n          || (item && item.value && item.value.toLocaleLowerCase().indexOf(queryText.toLocaleLowerCase()) > -1);\r\n    },\r\n    changedValue(val) {\r\n      let value;\r\n      if (val === null) {\r\n        value = null;\r\n      } else if (Array.isArray(val)) {\r\n        value = val;\r\n      } else if (typeof val === 'object') {\r\n        value = val.value;\r\n      } else { //новое значение текстом\r\n        value = val;\r\n      }\r\n      this.$emit('input', value);\r\n      // if it will be wrong, see https://github.com/vuetifyjs/vuetify/issues/5479#issuecomment-672300135\r\n    },\r\n    toggleCode() {\r\n      if (this.field.handler) {\r\n        return;\r\n      }\r\n      this.code = !this.code;\r\n    },\r\n    removeChip(item) {\r\n      let values = [...this.field.value];\r\n      values.splice(values.indexOf(item.value), 1)\r\n      this.changedValue(values);\r\n    },\r\n    makeFirst(item) {\r\n      let values = [...this.field.value];\r\n      values.splice(values.indexOf(item.value), 1);\r\n      values.unshift(item.value);\r\n      this.changedValue(values);\r\n    },\r\n    countChanged(count) {\r\n      let properties = this.field.properties;\r\n      properties.count = count ? parseInt(count) : 0;\r\n      this.$set(this.field, 'properties', properties)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.rerender = false;\r\n    this.$nextTick().then(() => this.rerender = true);\r\n    this.code = !!this.field.handler;\r\n  }\r\n}\r\n</script>\r\n\r\n<!--suppress CssUnusedSymbol -->\r\n<style>\r\n.yandexmarket-field-value .CodeMirror {\r\n  height: auto;\r\n  min-height: 30px;\r\n}\r\n\r\n.yandexmarket-field-value .CodeMirror pre.CodeMirror-placeholder {\r\n  color: #999;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldValue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldValue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldValue.vue?vue&type=template&id=66448a04&\"\nimport script from \"./FieldValue.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldValue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FieldValue.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCardTitle,VChip,VCombobox,VIcon,VSelect,VSheet,VTextField,VTooltip})\n","<template>\r\n  <v-expansion-panel class=\"yandexmarket-field\" :ref=\"'panel'+field.id\" :readonly=\"readonly\">\r\n    <field-header\r\n        :readonly=\"readonly\"\r\n        :field=\"field\"\r\n        :item=\"item\"\r\n        :color=\"`grey lighten-${lighten}`\"\r\n        :edit=\"edit\"\r\n        :disabledAddAttribute=\"!!attrs.filter(a => !a.id).length\"\r\n        @attribute:add=\"addAttribute\"\r\n        @edit:toggle=\"toggleEdit\"\r\n        @edit:cancel=\"cancelEdit\"\r\n        @field:deleted=\"$emit('field:deleted',$event)\"\r\n        @field:updated=\"fieldUpdated\"\r\n    />\r\n    <v-expansion-panel-content :color=\"`grey lighten-${lighten}`\" eager>\r\n      <v-row class=\"px-0 pb-1 mb-0\" v-if=\"edit\" dense>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-combobox\r\n              :value=\"field.name\"\r\n              @input=\"changedName\"\r\n              :items=\"availableFields\"\r\n              class=\"yandexmarket-field-tag mr-2\"\r\n              placeholder=\"Введите или выберите из списка\"\r\n              :attach=\"true\"\r\n              item-value=\"value\"\r\n              item-text=\"value\"\r\n              hide-details\r\n              solo\r\n              dense\r\n          >\r\n            <template v-slot:prepend-inner>\r\n              <div class=\"text-no-wrap\">\r\n                <code class=\"mr-2 mt-1 d-inline-block\">Элемент:</code>\r\n                <v-icon class=\"mr-1\">icon-angle-left</v-icon>\r\n              </div>\r\n            </template>\r\n            <template v-slot:append>\r\n              <v-icon>icon-angle-right</v-icon>\r\n            </template>\r\n            <template v-slot:item=\"{item}\">\r\n              <code>{{ item.value }}</code>\r\n              <small class=\"pl-1 grey--text\" v-if=\"item.value !== item.text\">{{ item.text }}</small>\r\n            </template>\r\n          </v-combobox>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-select\r\n              v-model=\"field.type\"\r\n              :items=\"types\"\r\n              class=\"yandexmarket-field-type\"\r\n              :full-width=\"false\"\r\n              label=\"Тип элемента\"\r\n              placeholder=\"Выберите тип\"\r\n              :menu-props=\"{offsetY: true}\"\r\n              :attach=\"true\"\r\n              :disabled=\"!!(field.type && !availableType)\"\r\n              hide-details\r\n              solo\r\n              dense\r\n          >\r\n            <template v-slot:prepend-inner>\r\n              <div class=\"text-no-wrap mr-2\">\r\n                <code>Тип:</code>\r\n              </div>\r\n            </template>\r\n          </v-select>\r\n        </v-col>\r\n      </v-row>\r\n      <template v-if=\"attrs.length\">\r\n        <!--        <div class=\"grey&#45;&#45;text mb-1\" style=\"font-size: 13px;\">Атрибуты:</div>-->\r\n        <v-row dense class=\"mb-1 mt-0\">\r\n          <field-attribute v-for=\"attribute in attrs\" :key=\"attribute.id\" :attribute=\"attribute\" v-on=\"$listeners\"/>\r\n        </v-row>\r\n      </template>\r\n      <template v-if=\"isCategories(field)\">\r\n        <div class=\"text-body-2\">Список категорий выбирается на вкладке&nbsp;\r\n          <router-link :to=\"{name:'pricelist.categories', params:this.$route.params}\">Категории и условия</router-link>\r\n        </div>\r\n      </template>\r\n      <template v-else-if=\"isOffers(field)\">\r\n        <div class=\"text-body-2\">Поля товаров настраиваются на вкладке &nbsp;\r\n          <router-link :to=\"{name:'pricelist.offers', params:this.$route.params}\">Поля предложений</router-link>\r\n        </div>\r\n      </template>\r\n      <template v-else-if=\"isShop(field) && parent === 1\">\r\n        <div class=\"text-body-2\">Поля магазина настраиваются на вкладке &nbsp;\r\n          <router-link :to=\"{name:'pricelist', params:this.$route.params}\">Настройки магазина</router-link>\r\n        </div>\r\n      </template>\r\n      <v-card-text class=\"pa-0\" v-else-if=\"isParent(field)\">\r\n        <template v-if=\"children.length\">\r\n          <div class=\"grey--text\" style=\"font-size: 13px;\">Дочерние элементы:</div>\r\n          <v-expansion-panels :value=\"opened\" multiple accordion :key=\"field.name\">\r\n            <pricelist-field\r\n                v-for=\"child in children\"\r\n                :key=\"child.id\"\r\n                :item=\"child\"\r\n                :fields=\"fields\"\r\n                :attributes=\"attributes\"\r\n                :lighten=\"lighten+1\"\r\n                :available-fields=\"availableFields\"\r\n                :available-types=\"availableTypes\"\r\n                v-on=\"$listeners\"\r\n                :parent=\"field.type\"\r\n            />\r\n          </v-expansion-panels>\r\n        </template>\r\n        <v-row class=\"ma-0 align-center\" v-if=\"!isRoot(field)\">\r\n          <div v-if=\"!children.length\" class=\"grey--text\">Ещё нет дочерних полей</div>\r\n          <v-spacer/>\r\n          <v-btn small class=\"mt-4\" color=\"white\" @click=\"addField\" :disabled=\"!!children.filter(f => !f.id).length\">\r\n            <v-icon class=\"icon-sm\" left>icon-plus</v-icon>\r\n            <template v-if=\"children.filter(f => !f.id).length\">\r\n              Сохраните новое поле\r\n            </template>\r\n            <template v-else>\r\n              Добавить элемент в &lt;{{ field.name }}&gt;\r\n            </template>\r\n          </v-btn>\r\n        </v-row>\r\n      </v-card-text>\r\n      <field-value\r\n          v-else-if=\"!isEmptyType(field)\"\r\n          :field=\"field\"\r\n          @input=\"field.value = $event\"\r\n      />\r\n    </v-expansion-panel-content>\r\n  </v-expansion-panel>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from 'vuex';\r\nimport FieldAttribute from \"@/components/FieldAttribute\";\r\nimport FieldHeader from \"@/components/FieldHeader\";\r\nimport FieldValue from \"@/components/FieldValue\";\r\n\r\nexport default {\r\n  name: 'PricelistField',\r\n  components: {\r\n    FieldValue,\r\n    FieldHeader,\r\n    FieldAttribute,\r\n  },\r\n  props: {\r\n    item: {required: true, type: [Object]},\r\n    attributes: {type: Array, default: () => ([])},\r\n    fields: {type: Array, default: () => ([])},\r\n    lighten: {type: Number, default: 2},\r\n    availableFields: {type: Array, default: () => ([])},\r\n    availableTypes: {type: Array, default: () => ([])},\r\n    parent: {default: null},\r\n    readonly: {default: true},\r\n  },\r\n  data: () => ({\r\n    field: {},\r\n    attrs: [],\r\n    children: [],\r\n    opened: [],\r\n    edit: false,\r\n    code: false,\r\n    attributesToAdd: []\r\n  }),\r\n  watch: {\r\n    item: {\r\n      immediate: true,\r\n      handler: function (item) {\r\n        this.field = {...this.field, ...item};\r\n        if (Object.keys(item.properties).length) {\r\n          this.field.properties = {...item.properties};\r\n        }\r\n        this.$nextTick().then(() => this.code = !!this.field.handler)\r\n      }\r\n    },\r\n    fields: {\r\n      immediate: true,\r\n      handler: function (fields) {\r\n        this.children = fields\r\n            .filter(field => field.parent === this.item.id).slice()\r\n            .sort((a, b) => a.rank - b.rank);\r\n        this.$nextTick().then(() => this.opened = Object.keys(this.children).map((field, index) => index));\r\n      }\r\n    },\r\n    attributes: {\r\n      immediate: true,\r\n      handler: function (attributes) {\r\n        this.attrs = attributes.filter(attribute => attribute.field_id === this.item.id).slice();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('field', [\r\n      'isParent',\r\n      'isEmptyType',\r\n      'findByType',\r\n      'isRoot',\r\n      'isShop',\r\n      'isOffers',\r\n      'isCategories'\r\n    ]),\r\n    availableType() {\r\n      return this.availableTypes.find(type => type.value === this.field.type);\r\n    },\r\n    realType() {\r\n      return this.findByType(this.field.type);\r\n    },\r\n    types() {\r\n      let types = this.availableTypes.slice();\r\n      if (this.realType && !this.availableType) {\r\n        types.push(this.realType);\r\n      }\r\n      return types;\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.field.id) {\r\n      this.edit = true;\r\n    }\r\n  },\r\n  methods: {\r\n    fieldUpdated(field) {\r\n      this.$emit('field:updated', field);\r\n      if (Object.keys(this.attributesToAdd).length) {\r\n        for (let name in this.attributesToAdd) {\r\n          if (Object.prototype.hasOwnProperty.call(this.attributesToAdd, name) && this.attributesToAdd[name].required) {\r\n            this.addAttribute(null, field.id, name, this.attributesToAdd[name].type);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    changedName(val) {\r\n      let value;\r\n      if (val === null) {\r\n        value = null;\r\n      } else if (typeof val === 'object') {\r\n        value = val.value;\r\n        if (val.type !== 'undefined') {\r\n          this.field.type = val.type;\r\n          if (val.values) {\r\n            this.field.values = val.values;\r\n            this.field.properties.values = val.values;\r\n          } else {\r\n            delete this.field.values;\r\n            delete this.field.properties.values;\r\n          }\r\n          if (val.attributes) {\r\n            this.attributesToAdd = val.attributes;\r\n          } else {\r\n            this.attributesToAdd = [];\r\n          }\r\n        }\r\n      } else { //новое значение текстом\r\n        value = val;\r\n      }\r\n      this.field.name = value;\r\n    },\r\n    addField() {\r\n      this.$emit('field:created', {\r\n        id: null,\r\n        name: null,\r\n        type: null,\r\n        label: 'Новое поле',\r\n        text: '',\r\n        help: 'Описание поля можно задать через лексиконы',\r\n        value: null,\r\n        handler: null,\r\n        pricelist_id: this.field.pricelist_id,\r\n        parent: this.field.id,\r\n        rank: Object.keys(this.children).length + 1,\r\n        properties: {custom: true}\r\n      });\r\n    },\r\n    cancelEdit() {\r\n      this.field = {...this.field, ...this.item};\r\n      if (Object.keys(this.item.properties).length) {\r\n        this.field.properties = {...this.item.properties};\r\n      }\r\n    },\r\n    toggleEdit(event) {\r\n      if (event && this.$refs['panel' + this.field.id] && this.$refs['panel' + this.field.id].isActive) {\r\n        event.stopPropagation();\r\n      }\r\n      this.edit = !this.edit;\r\n    },\r\n    addAttribute(event, field_id = this.field.id, name = '', type = 0, label = 'Новый атрибут') {\r\n      if (event && this.$refs['panel' + this.field.id] && this.$refs['panel' + this.field.id].isActive) {\r\n        event.stopPropagation();\r\n      }\r\n      this.$emit('attribute:created', {\r\n        id: null,\r\n        field_id: field_id,\r\n        handler: null,\r\n        label: label,\r\n        name: name,\r\n        value: null,\r\n        type: type,\r\n        properties: {\r\n          custom: true\r\n        },\r\n      });\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<!--suppress CssUnusedSymbol -->\r\n<style>\r\n.yandexmarket-field {\r\n  position: relative;\r\n  margin-right: -1px;\r\n  margin-top: -1px;\r\n}\r\n\r\n.yandexmarket-field-fieldset {\r\n  border-width: 1px;\r\n  border-color: #ddd;\r\n  border-style: solid;\r\n  padding-left: 10px;\r\n  margin-bottom: 10px;\r\n  position: relative;\r\n}\r\n\r\n.yandexmarket-field-fieldset legend {\r\n  font-size: 16px;\r\n}\r\n\r\n.yandexmarket-fieldset-actions {\r\n  position: absolute;\r\n  top: -24px;\r\n  right: 10px;\r\n  background: #fff;\r\n  padding: 0 4px;\r\n}\r\n\r\n.yandexmarket-fieldset-legend-bottom {\r\n  position: absolute;\r\n  font-size: 14px !important;\r\n  bottom: 0;\r\n  background: #fff;\r\n  right: 10px;\r\n  transform: translateY(50%);\r\n  padding: 0 5px;\r\n  line-height: 1;\r\n}\r\n\r\n.v-select.v-select--is-menu-active .v-input__append-inner .icon {\r\n  transform: rotate(0deg);\r\n}\r\n\r\n.yandexmarket-field-tag .v-select__slot input {\r\n  text-align: center;\r\n}\r\n\r\n.yandexmarket-field .v-expansion-panel-header > *:not(.v-expansion-panel-header__icon) {\r\n  flex-grow: 0;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PricelistField.vue?vue&type=template&id=1b050e08&\"\nimport script from \"./PricelistField.vue?vue&type=script&lang=js&\"\nexport * from \"./PricelistField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PricelistField.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCardText,VCol,VCombobox,VExpansionPanel,VExpansionPanelContent,VExpansionPanels,VIcon,VRow,VSelect,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yandexmarket-pricelist-conditions mb-n5\"},[_vm._l((_vm.conditions),function(condition){return _c('pricelist-condition',_vm._g({key:condition.id,attrs:{\"item\":condition}},_vm.$listeners))}),_c('div',{staticClass:\"text-right\"},[_c('v-btn',{staticClass:\"mt-3 mb-0\",attrs:{\"small\":\"\",\"color\":\"grey lighten-4\",\"disabled\":!!_vm.conditions.filter(function (c) { return !c.id; }).length},on:{\"click\":_vm.addCondition}},[_c('v-icon',{staticClass:\"icon-sm\",attrs:{\"left\":\"\"}},[_vm._v(\"icon-plus\")]),(_vm.conditions.filter(function (c) { return !c.id; }).length)?[_vm._v(\" Сохраните новое условие \")]:[_vm._v(\" Добавить условие \")]],2)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{staticClass:\"pa-2 yandexmarket-pricelist-condition\",attrs:{\"elevation\":\"1\"}},[_c('v-row',{staticClass:\"mr-6\",attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-combobox',{staticClass:\"mb-0\",attrs:{\"value\":_vm.column,\"filter\":_vm.valueSearch,\"items\":_vm.dataColumns,\"attach\":true,\"label\":_vm.columnLabel,\"placeholder\":\"Или введите в формате \\\"Class.key\\\"\",\"item-value\":\"value\",\"item-text\":\"text\",\"disabled\":!_vm.edit,\"hide-details\":\"\",\"filled\":\"\",\"dense\":\"\",\"background-color\":\"white\"},on:{\"input\":_vm.changedColumn},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('code',[_vm._v(_vm._s(item.value))]),_c('span',{staticClass:\"pl-1\"},[_vm._v(_vm._s(item.text))]),(item.help)?_c('small',{staticClass:\"pl-1 grey--text\"},[_vm._v(\" (\"+_vm._s(item.help)+\")\")]):_vm._e()]}}])})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-select',{staticClass:\"mb-0\",attrs:{\"label\":(\"Оператор \" + (_vm.operator ? _vm.operator.sign : '')),\"items\":_vm.operatorsList,\"dense\":\"\",\"menu-props\":{offsetY: true},\"attach\":true,\"filled\":\"\",\"background-color\":\"white\",\"disabled\":!_vm.edit,\"hide-details\":\"\"},model:{value:(_vm.condition.operator),callback:function ($$v) {_vm.$set(_vm.condition, \"operator\", $$v)},expression:\"condition.operator\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[(_vm.selectable)?_c('v-combobox',{staticClass:\"mb-0\",attrs:{\"value\":_vm.condition.value,\"filter\":_vm.valueSearch,\"items\":_vm.values,\"attach\":true,\"label\":\"Значение\",\"placeholder\":\"Введите или выберите из списка\",\"item-value\":\"value\",\"item-text\":\"text\",\"disabled\":!_vm.edit,\"hide-details\":\"\",\"filled\":\"\",\"dense\":\"\",\"background-color\":\"white\",\"multiple\":_vm.arrayValue},on:{\"input\":_vm.changedValue}}):(!_vm.nullValue)?_c('v-text-field',{staticClass:\"mb-0\",attrs:{\"value\":_vm.condition.value,\"label\":\"Значение\",\"placeholder\":\"Введите значение\",\"disabled\":!_vm.edit,\"hide-details\":\"\",\"filled\":\"\",\"dense\":\"\",\"background-color\":\"white\"},on:{\"input\":_vm.changedValue}}):_vm._e()],1)],1),_c('div',{staticClass:\"yandexmarket-pricelist-condition-actions align-center justify-center\"},[(_vm.edited)?[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Отменить изменения\",\"color\":\"orange darken-1\"},on:{\"click\":_vm.cancelEdit}},[_c('v-icon',[_vm._v(\"icon-rotate-left\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Сохранить изменения\",\"color\":\"secondary\",\"height\":\"26\"},on:{\"click\":_vm.saveChanges}},[_c('v-icon',[_vm._v(\"icon-save\")])],1)]:[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Отредактировать условие\",\"color\":_vm.edit ? 'secondary': 'default'},on:{\"click\":_vm.editCondition}},[_c('v-icon',[_vm._v(\"icon-pencil\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Удалить условие\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteCondition($event)}}},[_c('v-icon',[_vm._v(\"icon-trash\")])],1)]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-sheet class=\"pa-2 yandexmarket-pricelist-condition\" elevation=\"1\">\r\n    <v-row dense class=\"mr-6\">\r\n      <v-col cols=\"12\" sm=\"4\">\r\n        <v-combobox\r\n            :value=\"column\"\r\n            @input=\"changedColumn\"\r\n            :filter=\"valueSearch\"\r\n            :items=\"dataColumns\"\r\n            :attach=\"true\"\r\n            :label=\"columnLabel\"\r\n            placeholder='Или введите в формате \"Class.key\"'\r\n            item-value=\"value\"\r\n            item-text=\"text\"\r\n            class=\"mb-0\"\r\n            :disabled=\"!edit\"\r\n            hide-details\r\n            filled\r\n            dense\r\n            background-color=\"white\"\r\n        >\r\n          <template v-slot:item=\"{item}\">\r\n            <code>{{ item.value }}</code>\r\n            <span class=\"pl-1\">{{ item.text }}</span>\r\n            <small v-if=\"item.help\" class=\"pl-1 grey--text\">&nbsp;({{ item.help }})</small>\r\n          </template>\r\n        </v-combobox>\r\n      </v-col>\r\n      <v-col cols=\"12\" sm=\"4\">\r\n        <v-select\r\n            v-model=\"condition.operator\"\r\n            :label=\"`Оператор ${operator ? operator.sign : ''}`\"\r\n            :items=\"operatorsList\"\r\n            dense\r\n            :menu-props=\"{offsetY: true}\"\r\n            :attach=\"true\"\r\n            filled\r\n            background-color=\"white\"\r\n            class=\"mb-0\"\r\n            :disabled=\"!edit\"\r\n            hide-details\r\n        ></v-select>\r\n      </v-col>\r\n      <v-col cols=\"12\" sm=\"4\">\r\n        <v-combobox\r\n            v-if=\"selectable\"\r\n            :value=\"condition.value\"\r\n            @input=\"changedValue\"\r\n            :filter=\"valueSearch\"\r\n            :items=\"values\"\r\n            :attach=\"true\"\r\n            label=\"Значение\"\r\n            placeholder=\"Введите или выберите из списка\"\r\n            item-value=\"value\"\r\n            item-text=\"text\"\r\n            class=\"mb-0\"\r\n            :disabled=\"!edit\"\r\n            hide-details\r\n            filled\r\n            dense\r\n            background-color=\"white\"\r\n            :multiple=\"arrayValue\"\r\n        ></v-combobox>\r\n        <v-text-field\r\n            v-else-if=\"!nullValue\"\r\n            :value=\"condition.value\"\r\n            @input=\"changedValue\"\r\n            label=\"Значение\"\r\n            placeholder=\"Введите значение\"\r\n            class=\"mb-0\"\r\n            :disabled=\"!edit\"\r\n            hide-details\r\n            filled\r\n            dense\r\n            background-color=\"white\"\r\n        ></v-text-field>\r\n      </v-col>\r\n    </v-row>\r\n    <div class=\"yandexmarket-pricelist-condition-actions align-center justify-center\">\r\n      <template v-if=\"edited\">\r\n        <v-btn @click=\"cancelEdit\" small icon title=\"Отменить изменения\" color=\"orange darken-1\">\r\n          <v-icon>icon-rotate-left</v-icon>\r\n        </v-btn>\r\n        <v-btn @click=\"saveChanges\" small icon title=\"Сохранить изменения\" color=\"secondary\" height=\"26\">\r\n          <v-icon>icon-save</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <template v-else>\r\n        <v-btn small icon\r\n               title=\"Отредактировать условие\"\r\n               @click=\"editCondition\"\r\n               :color=\"edit ? 'secondary': 'default'\"\r\n        >\r\n          <v-icon>icon-pencil</v-icon>\r\n        </v-btn>\r\n        <v-btn\r\n            small icon\r\n            title=\"Удалить условие\"\r\n            @click.stop=\"deleteCondition\"\r\n        >\r\n          <v-icon>icon-trash</v-icon>\r\n        </v-btn>\r\n      </template>\r\n    </div>\r\n  </v-sheet>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\nimport api from \"@/api\";\r\n\r\nexport default {\r\n  name: 'PricelistCondition',\r\n  props: {\r\n    item: {required: true, type: Object}\r\n  },\r\n  data: () => ({\r\n    edit: false,\r\n    condition: {},\r\n    values: [],\r\n  }),\r\n  watch: {\r\n    item: {\r\n      immediate: true,\r\n      handler: function (condition) {\r\n        this.condition = {...this.condition, ...condition};\r\n      }\r\n    },\r\n    'condition.column': {\r\n      immediate: true,\r\n      handler: function (column) {\r\n        if (column) {\r\n          this.loadValues();\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['operatorsList', 'dataColumns', 'columnText']),\r\n    edited() {\r\n      return JSON.stringify(this.item) !== JSON.stringify(this.condition);\r\n    },\r\n    operator() {\r\n      return this.operatorsList.find(op => op.value === this.condition.operator);\r\n    },\r\n    selectable() {\r\n      return !!(this.operator && this.operator.select);\r\n    },\r\n    nullValue() {\r\n      return !!(this.operator && this.operator.valueless);\r\n    },\r\n    arrayValue() {\r\n      return !!(this.operator && this.operator.multiple);\r\n    },\r\n    column() {\r\n      if (typeof this.condition.column === 'object') {\r\n        return this.condition.column;\r\n      }\r\n      return {\r\n        value: this.condition.column,\r\n        text: this.columnText(this.condition.column) || this.condition.column\r\n      };\r\n    },\r\n    columnLabel() {\r\n      if (this.column && this.column.value !== this.column.text) {\r\n        return 'Поле ' + this.column.value;\r\n      }\r\n      return 'Поле';\r\n    },\r\n  },\r\n  methods: {\r\n    deleteCondition() {\r\n      if (!this.condition.id) {\r\n        this.$emit('condition:deleted', this.condition);\r\n        return;\r\n      }\r\n      if (confirm('Вы действительно хотите удалить это условие?')) {\r\n        api.post('conditions/remove', {ids: JSON.stringify([this.condition.id])})\r\n            .then(() => this.$emit('condition:deleted', this.condition))\r\n            .catch(error => console.log(error));\r\n      }\r\n    },\r\n    editCondition() {\r\n      this.edit = !this.edit;\r\n    },\r\n    cancelEdit() {\r\n      this.condition = {...this.condition, ...this.item};\r\n    },\r\n    saveChanges() {\r\n      setTimeout(() => {\r\n        api.post(!this.condition.id ? 'conditions/create' : 'conditions/update', this.condition)\r\n            .then(({data}) => {\r\n              this.edit = false;\r\n              this.$nextTick().then(() => this.$emit('condition:updated', data.object));\r\n            })\r\n            .catch(error => console.error(error))\r\n      }, 10);\r\n    },\r\n    changedColumn(val) {\r\n      let value;\r\n      if (val === null) {\r\n        value = null;\r\n      } else if (Array.isArray(val)) {\r\n        value = val;\r\n      } else if (typeof val === 'object') {\r\n        value = val.value;\r\n      } else { //новое значение текстом\r\n        value = val;\r\n      }\r\n      this.condition.column = value;\r\n      this.condition.value = this.arrayValue ? [] : null;\r\n    },\r\n    changedValue(val) {\r\n      let value;\r\n      if (val === null) {\r\n        value = null;\r\n      } else if (Array.isArray(val)) {\r\n        value = val;\r\n      } else if (typeof val === 'object') {\r\n        value = val.value;\r\n      } else { //новое значение текстом\r\n        value = val;\r\n      }\r\n      this.condition.value = value;\r\n    },\r\n    valueSearch(item, queryText, itemText) {\r\n      return itemText.toLocaleLowerCase().indexOf(queryText.toLocaleLowerCase()) > -1\r\n          || (item && item.value && item.value.toLocaleLowerCase().indexOf(queryText.toLocaleLowerCase()) > -1);\r\n    },\r\n    loadValues() {\r\n      api.post('lists/values', {column: this.condition.column})\r\n          .then(({data}) => this.values = data.results);\r\n    }\r\n  },\r\n  mounted() {\r\n    if (!this.condition.id) {\r\n      this.edit = true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.yandexmarket-pricelist-condition {\r\n  position: relative;\r\n  border-bottom: 1px solid #dddddd !important;\r\n  background-color: #f5f5f5 !important;\r\n}\r\n\r\n.yandexmarket-pricelist-condition-actions {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 28px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistCondition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistCondition.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PricelistCondition.vue?vue&type=template&id=305010aa&\"\nimport script from \"./PricelistCondition.vue?vue&type=script&lang=js&\"\nexport * from \"./PricelistCondition.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PricelistCondition.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VCombobox,VIcon,VRow,VSelect,VSheet,VTextField})\n","<template>\r\n  <div class=\"yandexmarket-pricelist-conditions mb-n5\">\r\n    <pricelist-condition\r\n        v-for=\"condition in conditions\"\r\n        :key=\"condition.id\"\r\n        :item=\"condition\"\r\n        v-on=\"$listeners\"\r\n    />\r\n    <div class=\"text-right\">\r\n      <v-btn small class=\"mt-3 mb-0\" color=\"grey lighten-4\" @click=\"addCondition\"\r\n             :disabled=\"!!conditions.filter(c => !c.id).length\">\r\n        <v-icon class=\"icon-sm\" left>icon-plus</v-icon>\r\n        <template v-if=\"conditions.filter(c => !c.id).length\">\r\n          Сохраните новое условие\r\n        </template>\r\n        <template v-else>\r\n          Добавить условие\r\n        </template>\r\n      </v-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport PricelistCondition from \"@/components/PricelistCondition\";\r\n\r\nexport default {\r\n  name: 'PricelistConditions',\r\n  components: {PricelistCondition},\r\n  props: {\r\n    conditions: {required: true},\r\n    pricelist: {required: true},\r\n  },\r\n  methods: {\r\n    addCondition() {\r\n      this.$emit('condition:created', {\r\n        id: null,\r\n        pricelist_id: this.pricelist.id,\r\n        column: null,\r\n        operator: null,\r\n        value: null\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistConditions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistConditions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PricelistConditions.vue?vue&type=template&id=486a4b50&\"\nimport script from \"./PricelistConditions.vue?vue&type=script&lang=js&\"\nexport * from \"./PricelistConditions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","<template>\r\n  <div class=\"yandexmarket-pricelist-offers-fields\">\r\n    <v-row class=\"ma-0\">\r\n      <v-flex>\r\n        <h4>Основные критерии для формирования запроса</h4>\r\n        <p class=\"mb-1\">При изменениях обновляется предпросмотр предложения</p>\r\n      </v-flex>\r\n      <v-spacer/>\r\n      <v-btn @click=\"previewXml\" icon title=\"Поменять предложение в предпросмотре\">\r\n        <v-icon>icon-refresh</v-icon>\r\n      </v-btn>\r\n    </v-row>\r\n    <div class=\"yandexmarket-pricelist-class\">\r\n      <v-text-field\r\n          v-model=\"classKey\"\r\n          :readonly=\"classKeyDisabled\"\r\n          placeholder=\"Класс для выборки предложений (class_key из таблицы ресурсов)\"\r\n          hint=\"Аккуратнее с настройкой. Для простых ресурсов укажите modDocument\"\r\n          dense\r\n          :background-color=\"classKeyDisabled ? 'grey lighten-3' : 'grey lighten-5'\"\r\n          solo\r\n      >\r\n        <template v-slot:prepend-inner>\r\n          <div class=\"text-no-wrap mr-1 ml-n1\">\r\n            <v-icon color=\"inherit\" class=\"mr-1\" title=\"Атрибут\">icon-tags</v-icon>\r\n            <code class=\"py-1 d-inline-block\">Класс ресурса</code>\r\n          </div>\r\n        </template>\r\n        <template v-slot:append>\r\n          <v-btn small v-if=\"classKeyDisabled\" icon title=\"Включить редактирование class_key\"\r\n                 @click.stop=\"classKeyDisabled = !classKeyDisabled\" class=\"mt-0 mr-n2\">\r\n            <v-icon>icon-pencil</v-icon>\r\n          </v-btn>\r\n          <template v-else>\r\n            <v-btn small icon color=\"orange\" @click.stop=\"cancelClass\" title=\"Отменить изменения\" class=\"mt-0 mr-2\">\r\n              <v-icon>icon-rotate-left</v-icon>\r\n            </v-btn>\r\n            <v-btn small icon @click.stop=\"saveClass\" title=\"Сохранить изменения\" class=\"mt-0 mr-n2\"\r\n                   :disabled=\"classKey === pricelist.class\" color=\"secondary\">\r\n              <v-icon>icon-save</v-icon>\r\n            </v-btn>\r\n          </template>\r\n        </template>\r\n      </v-text-field>\r\n    </div>\r\n    <div class=\"yandexmarket-pricelist-where mb-5 mt-0\">\r\n      <v-row class=\"ma-0 align-center\">\r\n        <h4>Условия по товарам</h4>\r\n        <v-tooltip bottom :max-width=\"400\" :close-delay=\"200\" :attach=\"true\">\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn small icon v-on=\"on\" class=\"ml-1\">\r\n              <v-icon>\r\n                icon-question-circle\r\n              </v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <div class=\"text-caption\" style=\"white-space: pre-line;\">Доступны все поля товаров, включая ТВ-поля, опции\r\n            ms2. Компонент автоматически присоединит указанные столбцы. Если нужно присоединить сторонние компоненты -\r\n            обратитесь в поддержку\r\n          </div>\r\n        </v-tooltip>\r\n        <v-spacer/>\r\n        <template v-if=\"editedWhere\">\r\n          <v-btn @click=\"resetWhere\" small icon title=\"Отменить изменения\" class=\"ml-1\" color=\"orange darken-1\">\r\n            <v-icon>icon-rotate-left</v-icon>\r\n          </v-btn>\r\n          <v-btn @click=\"saveWhere\" :disabled=\"hasErrors\"\r\n                 small title=\"Сохранить изменения\" class=\"ml-2\" color=\"secondary\" height=\"24\">\r\n            <v-icon left>icon-save</v-icon>\r\n            Сохранить\r\n          </v-btn>\r\n        </template>\r\n      </v-row>\r\n      <pricelist-conditions :conditions=\"pricelist.conditions\" :pricelist=\"pricelist\" v-on=\"$listeners\"/>\r\n    </div>\r\n\r\n    <v-row class=\"ma-0\">\r\n      <v-flex>\r\n        <h4>Настройка полей предложений</h4>\r\n        <p class=\"mb-2\">Интерактивный режим добавления и редактирования полей</p>\r\n      </v-flex>\r\n      <v-spacer/>\r\n    </v-row>\r\n    <v-expansion-panels v-model=\"openedFields\" multiple class=\"pb-2\" key=\"offers\">\r\n      <pricelist-offer-field\r\n          :item=\"offerField\"\r\n          :fields=\"pricelist.fields\"\r\n          :attributes=\"pricelist.attributes\"\r\n          :lighten=\"3\"\r\n          :available-fields=\"availableFields('offer',pricelist)\"\r\n          :available-types=\"availableTypes('offer',pricelist)\"\r\n          v-on=\"$listeners\"\r\n      />\r\n    </v-expansion-panels>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PricelistOfferField from \"@/components/PricelistField\";\r\nimport {mapGetters} from \"vuex\";\r\nimport PricelistConditions from \"@/components/PricelistConditions\";\r\n\r\nexport default {\r\n  name: 'PriceListOffer',\r\n  components: {\r\n    PricelistConditions,\r\n    PricelistOfferField,\r\n  },\r\n  props: {\r\n    pricelist: {type: Object, required: true}\r\n  },\r\n  data: () => ({\r\n    openedFields: [0],\r\n    where: '',\r\n    classKey: '',\r\n    classKeyDisabled: true,\r\n    hasErrors: true,\r\n    cmOptions: {\r\n      lineNumbers: true,\r\n      mode: 'application/json',\r\n      gutters: [\"CodeMirror-lint-markers\"],\r\n      lint: false,\r\n      lineWrapping: true\r\n    }\r\n  }),\r\n  watch: {\r\n    'pricelist.where': {\r\n      immediate: true,\r\n      handler: function (where) {\r\n        this.where = where;\r\n      },\r\n    },\r\n    'pricelist.class': {\r\n      immediate: true,\r\n      handler: function (value) {\r\n        this.classKey = value;\r\n        this.classKeyDisabled = true;\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters('marketplace', ['availableFields']),\r\n    ...mapGetters('field', ['availableTypes']),\r\n    offerField() {\r\n      return this.pricelist.fields.find(field => field.type === 6);\r\n    },\r\n    editedWhere() {\r\n      return (this.where || '') !== (this.pricelist.where || '')\r\n    },\r\n  },\r\n  methods: {\r\n    previewXml() {\r\n      this.$emit('preview:xml', 'offers');\r\n    },\r\n    saveClass() {\r\n      this.$emit('pricelist:updated', {class: this.classKey});\r\n    },\r\n    cancelClass() {\r\n      this.classKey = this.pricelist.class;\r\n      this.classKeyDisabled = true;\r\n    },\r\n    saveWhere() {\r\n      this.$emit('pricelist:updated', {where: this.where ? this.where : null});\r\n    },\r\n    resetWhere() {\r\n      this.where = this.pricelist.where || ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.previewXml();\r\n    this.openedFields = [0];\r\n  }\r\n}\r\n</script>\r\n\r\n<!--suppress CssUnusedSymbol -->\r\n<style>\r\n.yandexmarket-pricelist-class {\r\n  position: relative;\r\n}\r\n\r\n.yandexmarket-pricelist-where .CodeMirror {\r\n  height: auto;\r\n  min-height: 60px;\r\n  z-index: 0;\r\n}\r\n\r\n.yandexmarket-pricelist-where .CodeMirror pre.CodeMirror-placeholder {\r\n  color: #999;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListOffer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListOffer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriceListOffer.vue?vue&type=template&id=a9400c6e&\"\nimport script from \"./PriceListOffer.vue?vue&type=script&lang=js&\"\nexport * from \"./PriceListOffer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PriceListOffer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VExpansionPanels,VFlex,VIcon,VRow,VSpacer,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yandexmarket-pricelist-settings\"},[_c('h4',[_vm._v(\"Настройки основных полей магазина\")]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Обязательные поля отмечены звёздочкой. Не забывайте сохранять изменения.\")]),(_vm.shopField)?_c('v-expansion-panels',{key:\"offers\",staticClass:\"pb-2\",attrs:{\"multiple\":\"\"},model:{value:(_vm.openedFields),callback:function ($$v) {_vm.openedFields=$$v},expression:\"openedFields\"}},[_c('pricelist-field',_vm._g({attrs:{\"item\":_vm.shopField,\"fields\":_vm.pricelist.fields,\"attributes\":_vm.pricelist.attributes,\"lighten\":3,\"available-fields\":_vm.availableFields('shop',_vm.pricelist),\"available-types\":_vm.availableTypes('shop',_vm.pricelist)}},_vm.$listeners))],1):_vm._e(),_c('p',[_vm._v(\"Пустые поля не попадут в выгрузку. Сохранение каждого поля появляется после изменений.\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"yandexmarket-pricelist-settings\">\r\n    <h4>Настройки основных полей магазина</h4>\r\n    <p class=\"mb-2\">Обязательные поля отмечены звёздочкой. Не забывайте сохранять изменения.</p>\r\n    <v-expansion-panels v-model=\"openedFields\" multiple class=\"pb-2\" key=\"offers\" v-if=\"shopField\">\r\n      <pricelist-field\r\n          :item=\"shopField\"\r\n          :fields=\"pricelist.fields\"\r\n          :attributes=\"pricelist.attributes\"\r\n          :lighten=\"3\"\r\n          v-on=\"$listeners\"\r\n          :available-fields=\"availableFields('shop',pricelist)\"\r\n          :available-types=\"availableTypes('shop',pricelist)\"\r\n      />\r\n    </v-expansion-panels>\r\n    <p>Пустые поля не попадут в выгрузку. Сохранение каждого поля появляется после изменений.</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport PricelistField from \"@/components/PricelistField\";\r\nimport {mapGetters} from 'vuex';\r\n\r\nexport default {\r\n  name: 'PriceListShop',\r\n  components: {\r\n    PricelistField\r\n  },\r\n  props: {\r\n    pricelist: {type: Object, required: true}\r\n  },\r\n  data: () => ({\r\n    openedFields: [0],\r\n  }),\r\n  computed: {\r\n    ...mapGetters('marketplace', ['availableFields']),\r\n    ...mapGetters('field', ['availableTypes']),\r\n    shopField() {\r\n      return this.pricelist.fields.find(field => field.type === 2);\r\n    }\r\n  },\r\n  methods: {\r\n    previewXml() {\r\n      this.$emit('preview:xml', 'shop')\r\n    },\r\n  },\r\n  mounted() {\r\n    this.previewXml();\r\n    this.openedFields = [0];\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListShop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListShop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriceListShop.vue?vue&type=template&id=90bd6196&\"\nimport script from \"./PriceListShop.vue?vue&type=script&lang=js&\"\nexport * from \"./PriceListShop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yandexmarket-pricelist-categories\"},[_c('h4',[_vm._v(\"Категории, участвующие в выгрузке - вложенные тоже нужно выбирать\")]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Если ничего не выбрать, то будут выгружены категории всех подходящих товаров\")]),_c('CategoriesTree',_vm._g({attrs:{\"selected\":_vm.selected,\"categories\":_vm.categories,\"where\":{pricelist_id: _vm.pricelist.id}},on:{\"contexts:loaded\":function($event){_vm.categories = $event},\"tree:reload\":_vm.treeReload}},_vm.$listeners)),(_vm.categoryField)?[_c('h4',{staticClass:\"mb-1 mt-2\"},[_vm._v(\"Настройки элемента категории в XML\")]),_c('v-expansion-panels',{key:\"offers\",staticClass:\"pb-2\",attrs:{\"multiple\":\"\"},model:{value:(_vm.openedFields),callback:function ($$v) {_vm.openedFields=$$v},expression:\"openedFields\"}},[_c('pricelist-field',_vm._g({attrs:{\"item\":_vm.categoryField,\"fields\":_vm.pricelist.fields,\"attributes\":_vm.pricelist.attributes,\"lighten\":3,\"available-fields\":[],\"available-types\":[]}},_vm.$listeners))],1),_vm._m(0)]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Для выбора столбца для названия категории пока доступны только поля ресурса. \"),_c('br'),_vm._v(\"Значения ТВ-полей можно получить в Fenom-обработчике \"),_c('code',[_vm._v(\"{$resource.id|resource:'tvname'}\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"loading\":_vm.loading,\"flat\":\"\",\"tile\":\"\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"grey lighten-2\",\"dense\":\"\",\"height\":\"40\"}},[(!_vm.selected.length)?_c('span',[_vm._v(\"Выберите категории для выгрузки\")]):_c('span',[_vm._v(\"Выбрано \"+_vm._s(_vm.declension(_vm.selected.length, ['категория', 'категории', 'категорий'])))]),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Раскрыть все категории\"},on:{\"click\":_vm.expandTree}},[_c('v-icon',[_vm._v(\"icon icon-expand\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Свернуть все категории\"},on:{\"click\":_vm.collapseTree}},[_c('v-icon',[_vm._v(\"icon icon-compress\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"title\":\"Обновить дерево\"},on:{\"click\":_vm.reloadTree}},[_c('v-icon',[_vm._v(\"icon icon-refresh\")])],1)],1),_c('v-card-text',{staticClass:\"px-0 pt-0 pb-2\"},[_c('v-treeview',{ref:\"categoriesTree\",staticClass:\"yandexmarket-categories\",attrs:{\"items\":_vm.categories,\"load-children\":_vm.loadCategories,\"item-text\":_vm.itemText,\"item-key\":_vm.itemKey,\"selection-type\":\"independent\",\"item-children\":\"children\",\"open-on-click\":\"\",\"hoverable\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.selectable)?_c('v-simple-checkbox',{staticClass:\"text-center\",attrs:{\"title\":\"Выбрать категорию\",\"color\":\"primary\",\"value\":_vm.selected.indexOf(item[_vm.itemKey]) !== -1},on:{\"click\":function($event){$event.stopPropagation();},\"input\":function($event){return _vm.selectCategory($event, item)}}}):_vm._e()]}},{key:\"label\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"v-treeview-node__content\"},[_c('div',{staticClass:\"v-treeview-node__prepend\"},[(item.iconCls)?_c('v-icon',{staticClass:\"mx-1 v-treeview-label__icon\"},[_vm._v(\"icon \"+_vm._s(item.iconCls))]):_vm._e()],1),_c('div',{staticClass:\"v-treeview-node__label\",domProps:{\"innerHTML\":_vm._s(item.text)}})])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card :loading=\"loading\" flat tile>\n    <v-toolbar flat color=\"grey lighten-2\" dense height=\"40\">\n      <span v-if=\"!selected.length\">Выберите категории для выгрузки</span>\n      <span v-else>Выбрано {{ declension(selected.length, ['категория', 'категории', 'категорий']) }}</span>\n      <v-spacer/>\n      <v-btn small icon title=\"Раскрыть все категории\" @click=\"expandTree\">\n        <v-icon>icon icon-expand</v-icon>\n      </v-btn>\n      <v-btn small icon title=\"Свернуть все категории\" @click=\"collapseTree\">\n        <v-icon>icon icon-compress</v-icon>\n      </v-btn>\n      <v-btn  small icon title=\"Обновить дерево\" @click=\"reloadTree\">\n        <v-icon>icon icon-refresh</v-icon>\n      </v-btn>\n    </v-toolbar>\n    <v-card-text class=\"px-0 pt-0 pb-2\">\n      <v-treeview\n          :items=\"categories\"\n          :load-children=\"loadCategories\"\n          :item-text=\"itemText\"\n          :item-key=\"itemKey\"\n          class=\"yandexmarket-categories\"\n          ref=\"categoriesTree\"\n          selection-type=\"independent\"\n          item-children=\"children\"\n          open-on-click\n          hoverable\n          dense\n      >\n        <template v-slot:prepend=\"{ item }\">\n          <v-simple-checkbox\n              title=\"Выбрать категорию\"\n              v-if=\"item.selectable\"\n              color=\"primary\"\n              class=\"text-center\"\n              @click.stop=\"\"\n              @input=\"selectCategory($event, item)\"\n              :value=\"selected.indexOf(item[itemKey]) !== -1\"\n          ></v-simple-checkbox>\n        </template>\n        <template v-slot:label=\"{ item }\">\n          <div class=\"v-treeview-node__content\">\n            <div class=\"v-treeview-node__prepend\">\n              <v-icon v-if=\"item.iconCls\" class=\"mx-1 v-treeview-label__icon\">icon {{ item.iconCls }}</v-icon>\n            </div>\n            <div class=\"v-treeview-node__label\" v-html=\"item.text\"></div>\n          </div>\n        </template>\n      </v-treeview>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport api from \"@/api\";\nimport {declension} from \"@/helpers\";\n\nexport default {\n  name: 'CategoriesTree',\n  props: {\n    selected: {\n      type: Array,\n      default: () => ([]),\n    },\n    categories: {\n      type: Array,\n      default: () => ([])\n    },\n    where: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    itemKey: 'pk',\n    itemText: 'text',\n    loading: false,\n    opened: [],\n    loaded: [],\n    awaitChildren: {}\n  }),\n  methods: {\n    declension(number, title, withNum = true) {\n      return declension(number, title, withNum);\n    },\n    selectCategory(value, category) {\n      if (value) {\n        this.$emit('category:added', category[this.itemKey]);\n      } else {\n        this.$emit('category:removed', category[this.itemKey]);\n      }\n    },\n    loadCategories(item) {\n      this.loading = true;\n      if (this.awaitChildren[item[this.itemKey]]) {\n        delete this.awaitChildren[item[this.itemKey]];\n      }\n      return api.post('categories/getlist', {...this.where, id: item.id})\n          .then(({data}) => {\n            item.children = data;\n            data.forEach((child) => {\n              if (child.selected) {\n                this.$emit('category:added', child[this.itemKey], false);\n              }\n              if (child.hasChildren) {\n                this.awaitChildren[child[this.itemKey]] = true;\n              }\n              if (child.expanded) {\n                setTimeout(() => {\n                  this.$refs.categoriesTree.updateOpen(child[this.itemKey], true);\n                  // we have to wait before the tree created children nodes\n                }, 50);\n              }\n            });\n          })\n          .catch(e => console.error(e))\n          .then(() => this.loading = false);\n    },\n    loadContexts() {\n      this.loading = true;\n      api.post('categories/getlist', {...this.where, id: 'root'})\n          .then(({data}) => this.$emit('contexts:loaded', data))\n          .catch(e => console.error(e))\n          .then(() => {\n            this.loading = false\n            // by default all context are opening\n            this.$nextTick().then(() => this.$refs.categoriesTree.updateAll(true));\n          });\n    },\n    reloadTree() {\n      this.$emit('tree:reload');\n      this.loadContexts();\n    },\n    expandTree() {\n      this.$refs.categoriesTree.updateAll(true);\n      setTimeout(() => {\n        if (Object.keys(this.awaitChildren).length > 0) {\n          this.expandTree();\n        }\n      }, 200); // we can only check after categories loading\n    },\n    collapseTree() {\n      this.$refs.categoriesTree.updateAll(false);\n    }\n  },\n  mounted() {\n    this.loadContexts()\n  }\n}\n</script>\n\n<!--suppress CssUnusedSymbol -->\n<style scoped>\n.yandexmarket-categories >>> *, .yandexmarket-categories >>> .v-treeview-label__icon {\n  color: #556C88;\n}\n\n.yandexmarket-categories >>> .v-treeview-node__prepend:empty {\n  display: none;\n}\n\n.yandexmarket-categories >>> .v-treeview-node__content {\n  margin-left: 0;\n}\n\n.yandexmarket-categories >>> .v-toolbar__title {\n  font-size: 1rem;\n}\n\n.yandexmarket-categories >>> > .v-treeview-node > .v-treeview-node__root {\n  min-height: 32px;\n  background: #f6f6f6;\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoriesTree.vue?vue&type=template&id=395e0739&scoped=true&\"\nimport script from \"./CategoriesTree.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoriesTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoriesTree.vue?vue&type=style&index=0&id=395e0739&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"395e0739\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCard,VCardText,VIcon,VSimpleCheckbox,VSpacer,VToolbar,VTreeview})\n","<template>\r\n  <div class=\"yandexmarket-pricelist-categories\">\r\n    <h4>Категории, участвующие в выгрузке - вложенные тоже нужно выбирать</h4>\r\n    <p class=\"mb-2\">Если ничего не выбрать, то будут выгружены категории всех подходящих товаров</p>\r\n    <CategoriesTree\r\n        :selected=\"selected\"\r\n        :categories=\"categories\"\r\n        :where=\"{pricelist_id: pricelist.id}\"\r\n        v-on=\"$listeners\"\r\n        @contexts:loaded=\"categories = $event\"\r\n        @tree:reload=\"treeReload\"\r\n    />\r\n\r\n    <!--    <code>ids: {{ selected.join(',') }}</code>-->\r\n    <template v-if=\"categoryField\">\r\n      <h4 class=\"mb-1 mt-2\">Настройки элемента категории в XML</h4>\r\n      <v-expansion-panels v-model=\"openedFields\" multiple class=\"pb-2\" key=\"offers\">\r\n        <pricelist-field\r\n\r\n            :item=\"categoryField\"\r\n            :fields=\"pricelist.fields\"\r\n            :attributes=\"pricelist.attributes\"\r\n            :lighten=\"3\"\r\n            v-on=\"$listeners\"\r\n            :available-fields=\"[]\"\r\n            :available-types=\"[]\"\r\n        />\r\n      </v-expansion-panels>\r\n      <p>Для выбора столбца для названия категории пока доступны только поля ресурса.\r\n        <br/>Значения ТВ-полей можно получить в Fenom-обработчике <code>{$resource.id|resource:'tvname'}</code>\r\n      </p>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CategoriesTree from \"@/components/CategoriesTree\";\r\nimport PricelistField from \"@/components/PricelistField\";\r\n\r\n\r\nexport default {\r\n  name: 'PriceListCategories',\r\n  props: {\r\n    pricelist: {type: Object, required: true}\r\n  },\r\n  components: {\r\n    CategoriesTree,\r\n    PricelistField\r\n  },\r\n  data: () => ({\r\n    openedFields: [0],\r\n    selected: [],\r\n    categories: [],\r\n  }),\r\n  watch: {\r\n    'pricelist.categories': {\r\n      immediate: true,\r\n      handler: function (categories) {\r\n        this.selected = categories || [];\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    categoryField() {\r\n      return this.pricelist.fields.find(field => field.type === 7);\r\n    },\r\n  },\r\n  methods: {\r\n    previewXml() {\r\n      this.$emit('preview:xml', 'categories');\r\n    },\r\n    treeReload() {\r\n      // this.reloaded = false;\r\n      this.categories = [];\r\n      // this.$nextTick().then(() => this.reloaded = true);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.previewXml()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListCategories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListCategories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriceListCategories.vue?vue&type=template&id=e7a4761c&\"\nimport script from \"./PriceListCategories.vue?vue&type=script&lang=js&\"\nexport * from \"./PriceListCategories.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"yandexmarket-pricelist-generate\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('h4',[_vm._v(\"Основные параметры выгрузки прайс-листа\")]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\"Все поля обязательны к заполнению\")]),_c('v-select',{attrs:{\"filled\":\"\",\"label\":\"Тип прайс-листа (задаётся при создании)\",\"dense\":\"\",\"disabled\":\"\",\"items\":_vm.marketplaces},model:{value:(_vm.data.type),callback:function ($$v) {_vm.$set(_vm.data, \"type\", $$v)},expression:\"data.type\"}}),_c('v-text-field',{attrs:{\"filled\":\"\",\"label\":\"Название прайс-листа\",\"dense\":\"\"},model:{value:(_vm.data.name),callback:function ($$v) {_vm.$set(_vm.data, \"name\", $$v)},expression:\"data.name\"}}),_c('v-text-field',{staticClass:\"mb-1\",attrs:{\"filled\":\"\",\"dense\":\"\",\"label\":\"Название файла (укажите вместе с расширением xml)\",\"hint\":(\"Файл будет сохранён в директорию \" + (_vm.pricelist.path))},model:{value:(_vm.data.file),callback:function ($$v) {_vm.$set(_vm.data, \"file\", $$v)},expression:\"data.file\"}}),_c('v-select',{staticClass:\"mb-2\",attrs:{\"filled\":\"\",\"dense\":\"\",\"label\":\"Режим формирования файла\",\"items\":_vm.modes,\"hint\":_vm.modeHint,\"persistent-hint\":!!_vm.modeHint,\"menu-props\":{offsetY: true},\"attach\":true},model:{value:(_vm.data.generate_mode),callback:function ($$v) {_vm.$set(_vm.data, \"generate_mode\", $$v)},expression:\"data.generate_mode\"}}),(_vm.data.generate_mode)?_c('v-text-field',{attrs:{\"filled\":\"\",\"min\":0,\"dense\":\"\",\"label\":\"Обновлять файл каждые N минут, даже если не было изменений\",\"hint\":\"0 - без дополнительных обновлений. Чтобы обновлять файл раз в сутки укажите 1440\",\"type\":\"number\"},model:{value:(_vm.data.generate_interval),callback:function ($$v) {_vm.$set(_vm.data, \"generate_interval\", $$v)},expression:\"data.generate_interval\"}}):_vm._e(),_c('v-checkbox',{staticClass:\"mt-0 mb-2\",attrs:{\"label\":\"Автоматически отслеживать изменения и формировать файл\",\"hide-details\":\"\",\"dense\":\"\"},model:{value:(_vm.data.active),callback:function ($$v) {_vm.$set(_vm.data, \"active\", $$v)},expression:\"data.active\"}}),_c('v-card-actions',{staticClass:\"px-0\"},[(_vm.hasChanges)?_c('v-btn',{attrs:{\"small\":\"\",\"title\":\"Отменить все изменения\"},on:{\"click\":_vm.cancelChanges}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"icon-undo\")]),_vm._v(\" Отменить изменения \")],1):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":!_vm.hasChanges,\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":_vm.saveChanges}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"icon-save\")]),_vm._v(\" Сохранить \")],1)],1),(_vm.rootField)?[_c('h4',{staticClass:\"mb-1\"},[_vm._v(\"Настройки корневого элемента файла\")]),_c('v-expansion-panels',{key:\"offers\",staticClass:\"pb-2\",attrs:{\"multiple\":\"\"},model:{value:(_vm.openedFields),callback:function ($$v) {_vm.openedFields=$$v},expression:\"openedFields\"}},[_c('pricelist-field',_vm._g({attrs:{\"readonly\":false,\"item\":_vm.rootField,\"fields\":_vm.pricelist.fields,\"attributes\":_vm.pricelist.attributes,\"lighten\":3,\"available-fields\":[],\"available-types\":[],\"parent\":\"root\"}},_vm.$listeners))],1)]:_vm._e()],2),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[(_vm.pricelist.need_generate)?_c('v-alert',{attrs:{\"type\":\"warning\",\"dense\":\"\"}},[_vm._v(\" Изменились товары. Файл нужно перегенерировать! \")]):_vm._e(),(_vm.pricelist.generated_on)?_c('v-alert',{attrs:{\"type\":\"info\",\"color\":\"accent\",\"dense\":\"\"}},[_vm._v(\" Предыдущий прайс-лист сформирован \"+_vm._s(_vm.generatedOn)+\" \")]):_vm._e(),(_vm.pricelist.generated_on)?_c('p',[_vm._v(\"Ссылка на файл: \"),_c('a',{attrs:{\"href\":_vm.pricelist.fileUrl,\"title\":\"Файл откроется в новом окне\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.pricelist.fileUrl))])]):_c('h4',{staticClass:\"mb-3\"},[_vm._v(\"Прайс-лист ещё ни разу не был сформирован\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"disabled\":_vm.loading,\"color\":\"secondary\",\"title\":\"Существующий файл будет перезаписан\"},on:{\"click\":_vm.generateFile}},[_vm._v(\" Сформировать новый файл \")]),_c('v-textarea',{staticClass:\"yandexmarket-textarea-log mt-3\",attrs:{\"auto-grow\":\"\",\"outlined\":\"\",\"label\":\"Лог выгрузки\",\"value\":_vm.log,\"placeholder\":\"Появится здесь после генерации файла\",\"disabled\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row class=\"yandexmarket-pricelist-generate\">\r\n    <v-col cols=\"12\" md=\"6\">\r\n      <h4>Основные параметры выгрузки прайс-листа</h4>\r\n      <p class=\"mb-2\">Все поля обязательны к заполнению</p>\r\n      <v-select\r\n          filled\r\n          label=\"Тип прайс-листа (задаётся при создании)\"\r\n          dense\r\n          disabled\r\n          v-model=\"data.type\"\r\n          :items=\"marketplaces\"\r\n      ></v-select>\r\n      <v-text-field\r\n          filled\r\n          label=\"Название прайс-листа\"\r\n          dense\r\n          v-model=\"data.name\"\r\n      ></v-text-field>\r\n      <v-text-field\r\n          filled\r\n          dense\r\n          class=\"mb-1\"\r\n          label=\"Название файла (укажите вместе с расширением xml)\"\r\n          :hint=\"`Файл будет сохранён в директорию ${pricelist.path}`\"\r\n          v-model=\"data.file\"\r\n      ></v-text-field>\r\n      <v-select\r\n          filled\r\n          dense\r\n          class=\"mb-2\"\r\n          label=\"Режим формирования файла\"\r\n          v-model=\"data.generate_mode\"\r\n          :items=\"modes\"\r\n          :hint=\"modeHint\"\r\n          :persistent-hint=\"!!modeHint\"\r\n          :menu-props=\"{offsetY: true}\"\r\n          :attach=\"true\"\r\n      ></v-select>\r\n      <v-text-field\r\n          v-if=\"data.generate_mode\"\r\n          filled\r\n          :min=\"0\"\r\n          dense\r\n          label=\"Обновлять файл каждые N минут, даже если не было изменений\"\r\n          hint=\"0 - без дополнительных обновлений. Чтобы обновлять файл раз в сутки укажите 1440\"\r\n          v-model=\"data.generate_interval\"\r\n          type=\"number\"\r\n      ></v-text-field>\r\n      <v-checkbox v-model=\"data.active\" label=\"Автоматически отслеживать изменения и формировать файл\" hide-details\r\n                  dense\r\n                  class=\"mt-0 mb-2\"/>\r\n      <v-card-actions class=\"px-0\">\r\n        <v-btn small v-if=\"hasChanges\" @click=\"cancelChanges\" title=\"Отменить все изменения\">\r\n          <v-icon left>icon-undo</v-icon>\r\n          Отменить изменения\r\n        </v-btn>\r\n        <v-spacer/>\r\n        <v-btn :disabled=\"!hasChanges\" @click=\"saveChanges\" color=\"secondary\" small>\r\n          <v-icon left small>icon-save</v-icon>\r\n          Сохранить\r\n        </v-btn>\r\n      </v-card-actions>\r\n      <template v-if=\"rootField\">\r\n        <h4 class=\"mb-1\">Настройки корневого элемента файла</h4>\r\n        <v-expansion-panels v-model=\"openedFields\" multiple class=\"pb-2\" key=\"offers\">\r\n          <pricelist-field\r\n              :readonly=\"false\"\r\n              :item=\"rootField\"\r\n              :fields=\"pricelist.fields\"\r\n              :attributes=\"pricelist.attributes\"\r\n              :lighten=\"3\"\r\n              v-on=\"$listeners\"\r\n              :available-fields=\"[]\"\r\n              :available-types=\"[]\"\r\n              parent=\"root\"\r\n          />\r\n        </v-expansion-panels>\r\n      </template>\r\n    </v-col>\r\n    <v-col cols=\"12\" md=\"6\">\r\n      <v-alert v-if=\"pricelist.need_generate\" type=\"warning\" dense>\r\n        Изменились товары. Файл нужно перегенерировать!\r\n      </v-alert>\r\n      <v-alert v-if=\"pricelist.generated_on\" type=\"info\" color=\"accent\" dense>\r\n        Предыдущий прайс-лист сформирован {{ generatedOn }}\r\n      </v-alert>\r\n      <p v-if=\"pricelist.generated_on\">Ссылка на файл:\r\n        <a :href=\"pricelist.fileUrl\" title=\"Файл откроется в новом окне\" target=\"_blank\">{{ pricelist.fileUrl }}</a>\r\n      </p>\r\n      <h4 v-else class=\"mb-3\">Прайс-лист ещё ни разу не был сформирован</h4>\r\n      <v-btn @click=\"generateFile\" :disabled=\"loading\" color=\"secondary\" class=\"mb-3\"\r\n             title=\"Существующий файл будет перезаписан\">\r\n        Сформировать новый файл\r\n      </v-btn>\r\n      <v-textarea\r\n          class=\"yandexmarket-textarea-log mt-3\"\r\n          auto-grow\r\n          outlined\r\n          label=\"Лог выгрузки\"\r\n          :value=\"log\"\r\n          placeholder=\"Появится здесь после генерации файла\"\r\n          disabled\r\n      />\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex';\r\nimport api from \"@/api\";\r\nimport PricelistField from \"@/components/PricelistField\";\r\n\r\nexport default {\r\n  name: 'PriceListGenerate',\r\n  props: {\r\n    pricelist: {required: true, type: Object}\r\n  },\r\n  components: {\r\n    PricelistField\r\n  },\r\n  data: () => ({\r\n    openedFields: [],\r\n    data: {},\r\n    loading: false,\r\n    log: 'Здесь появится лог генерации файла',\r\n    modes: [\r\n      {\r\n        value: 0,\r\n        text: 'Только вручную в админ-панели (cron пропустит)',\r\n        hint: 'Поменяйте после завершения всех настроек'\r\n      },\r\n      {\r\n        value: 1,\r\n        text: 'При изменении товаров на лету (для небольших сайтов)',\r\n        hint: 'Прайс-лист будет формироваться сразу. Принудительное обновление по cron'\r\n      },\r\n      {\r\n        value: 2,\r\n        text: 'По cron при изменении товаров (рекомендуется)',\r\n        hint: 'Поставьте ежеминутную крон-задачу на /core/components/yandexmarket/cron.php'\r\n      },\r\n    ],\r\n  }),\r\n  watch: {\r\n    pricelist: {\r\n      immediate: true,\r\n      // eslint-disable-next-line no-unused-vars\r\n      handler: function ({fields, categories, attributes, conditions, ...data}) {\r\n        this.data = {...this.data, ...data};\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('marketplace', ['marketplaces']),\r\n    rootField() {\r\n      return this.pricelist.fields.find(field => field.type === 1);\r\n    },\r\n    generatedOn() {\r\n      return this.pricelist.generated_on.date.replace('.000000', '');\r\n    },\r\n    modeHint() {\r\n      let mode = this.modes.find(m => m.value === parseInt(this.data.generate_mode));\r\n      if (mode) {\r\n        return mode.hint;\r\n      }\r\n      return '';\r\n    },\r\n    hasChanges() {\r\n      // eslint-disable-next-line no-unused-vars\r\n      let {fields, categories, attributes, conditions, ...data} = this.pricelist;\r\n      return JSON.stringify(this.data) !== JSON.stringify(data);\r\n    }\r\n  },\r\n  methods: {\r\n    cancelChanges() {\r\n      // eslint-disable-next-line no-unused-vars\r\n      let {fields, categories, attributes, conditions, ...data} = this.pricelist;\r\n      this.data = {...this.data, ...data};\r\n    },\r\n    saveChanges() {\r\n      this.$emit('pricelist:updated', {...this.data});\r\n    },\r\n    generateFile() {\r\n      if (!this.pricelist.generated_on || confirm('Вы действительно хотите перегенерировать файл? Старый файл будет перезаписан')) {\r\n        this.loading = true;\r\n        api.post('xml/generate', {id: this.pricelist.id})\r\n            .then(({data}) => {\r\n              this.log = data.message;\r\n              this.$emit('pricelist:updated', {...data.object}, false);\r\n            })\r\n            .catch(error => console.error(error))\r\n            .then(() => this.loading = false);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.yandexmarket-pricelist-generate .yandexmarket-textarea-log textarea {\r\n  font-family: monospace;\r\n  color: #999 !important;\r\n  font-size: 0.875em;\r\n  line-height: 1.25rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListGenerate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListGenerate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriceListGenerate.vue?vue&type=template&id=ffc69836&\"\nimport script from \"./PriceListGenerate.vue?vue&type=script&lang=js&\"\nexport * from \"./PriceListGenerate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PriceListGenerate.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAlert,VBtn,VCardActions,VCheckbox,VCol,VExpansionPanels,VIcon,VRow,VSelect,VSpacer,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-main',[_c('component-header'),_c('div',{staticClass:\"yandexmarket-view mb-4\"},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"mb-5 mt-5 yandexmarket-component-name\"},[_vm._v(\" YandexMarket \"),(_vm.breadcrumbs.length > 1)?_c('v-breadcrumbs',{staticClass:\"yandexmarket-breadcrumbs\",attrs:{\"items\":_vm.breadcrumbs}}):_c('span',{staticClass:\"subtitle-1\"},[_vm._v(\" - выгрузка предложений в XML для Яндекс Маркет и не только\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <h2 class=\"mb-5 mt-5 yandexmarket-component-name\">\r\n    YandexMarket\r\n    <v-breadcrumbs v-if=\"breadcrumbs.length > 1\" class=\"yandexmarket-breadcrumbs\" :items=\"breadcrumbs\"/>\r\n    <span class=\"subtitle-1\" v-else> &nbsp;-&nbsp; выгрузка предложений в XML для Яндекс Маркет и не только</span>\r\n  </h2>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ComponentHeader',\r\n  data: () => ({\r\n    items: []\r\n  }),\r\n  computed: {\r\n    breadcrumbs() {\r\n      return this.$route.matched\r\n          .filter(item => item.meta && item.meta.title && (item.name || item.meta.to))\r\n          .map(item => {\r\n            return {\r\n              text: item.meta.title,\r\n              to: {name: item.name || item.meta.to, params: this.$route.params || {}},\r\n              exact: true,\r\n              disabled: false\r\n            };\r\n          })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.yandexmarket-breadcrumbs {\r\n  display: inline-block;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  top: -2px;\r\n  position: relative;\r\n}\r\n\r\n.yandexmarket-breadcrumbs::before {\r\n  content: '/';\r\n  font-size: 18px;\r\n  color: rgba(0, 0, 0, .3);\r\n  position: relative;\r\n  left: -12px;\r\n  top: 2px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentHeader.vue?vue&type=template&id=0c7fe5c5&scoped=true&\"\nimport script from \"./ComponentHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentHeader.vue?vue&type=style&index=0&id=0c7fe5c5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c7fe5c5\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBreadcrumbs } from 'vuetify/lib/components/VBreadcrumbs';\ninstallComponents(component, {VBreadcrumbs})\n","<template>\r\n  <v-main>\r\n    <component-header/>\r\n    <div class=\"yandexmarket-view mb-4\">\r\n      <router-view></router-view>\r\n    </div>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nimport ComponentHeader from \"@/components/ComponentHeader\";\r\nexport default {\r\n  name: 'Main',\r\n  components: {ComponentHeader}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.yandexmarket-view {\r\n  position: relative;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=2c4c1bde&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&id=2c4c1bde&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c4c1bde\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VMain})\n","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport PriceLists from './pages/PriceLists'\r\nimport PriceList from './pages/PriceList'\r\nimport PriceListOffer from './pages/PriceListOffer'\r\nimport PriceListShop from './pages/PriceListShop'\r\nimport PriceListCategories from './pages/PriceListCategories'\r\nimport PriceListGenerate from './pages/PriceListGenerate'\r\nimport Main from './pages/Main'\r\n\r\nVue.use(Router);\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: Main,\r\n        meta: {title: 'Прайс-листы', to: 'pricelists'},\r\n        children: [{\r\n            path: '',\r\n            component: PriceLists,\r\n            name: 'pricelists',\r\n        }, {\r\n            path: ':id',\r\n            component: PriceList,\r\n            meta: {title: 'Настройки магазина', to: 'pricelist', replaceable: true},\r\n            children: [{\r\n                path: '',\r\n                component: PriceListShop,\r\n                name: 'pricelist',\r\n            }, {\r\n                path: 'categories',\r\n                component: PriceListCategories,\r\n                name: 'pricelist.categories',\r\n                meta: {title: 'Категории'}\r\n            }, {\r\n                path: 'offers',\r\n                component: PriceListOffer,\r\n                name: 'pricelist.offers',\r\n                meta: {title: 'Предложения'}\r\n            }, {\r\n                path: 'generate',\r\n                component: PriceListGenerate,\r\n                name: 'pricelist.generate',\r\n                meta: {title: 'Выгрузка'}\r\n            }]\r\n        }, {\r\n            path: '*', redirect: '/'\r\n        }]\r\n    }\r\n];\r\n\r\nexport default new Router({\r\n    routes\r\n})","import api from \"@/api\";\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        types: [],\r\n    },\r\n    getters: {\r\n        findByType: state => type => state.types.find(t => t.value === type),\r\n        typeText: state => ({type}) => {\r\n            let found = state.types.find((t) => t.value === type);\r\n            return found ? found.text : null;\r\n        },\r\n        selectableTypes: state => state.types.filter(type => !type.hidden),\r\n        isSingle: state => ({type}) => !!state.types.find(t => t.single && t.value === type), // одно на уровне\r\n        isParent: state => ({type}) => !!state.types.find(t => t.value === type && t.parent), //может иметь узлы\r\n        isUnique: state => ({type}) => !!state.types.find(t => t.unique && t.value === type), //иной обработчик\r\n        isSimpleString: () => ({type}) => parseInt(type) === 0, //простое текстовое поле без подстановки значений\r\n        isEmptyType: () => ({type}) => parseInt(type) === 20, //пустой элемент только для атрибутов\r\n        isRoot: () => ({type}) => parseInt(type) === 1, // рут элемент\r\n        isCategories: () => ({type}) => parseInt(type) === 4,\r\n        isCurrencies: () => ({type}) => parseInt(type) === 3,\r\n        isOffers: () => ({type}) => parseInt(type) === 5,\r\n        isShop: () => ({type}) => parseInt(type) === 2,\r\n        isPicture: () => ({type}) => parseInt(type) === 13,\r\n        availableTypes: (state, getters) => (group, pricelist) => {\r\n            return getters.selectableTypes.filter(type => {\r\n                let typeGroup = type.group || [];\r\n                if (!Array.isArray(typeGroup)) {\r\n                    typeGroup = [typeGroup];\r\n                }\r\n                if (pricelist && pricelist.fields.find(field => type.unique && field.type === type.value)) {\r\n                    return false;\r\n                }\r\n                return typeGroup.indexOf(group) !== -1;\r\n            })\r\n        }\r\n    },\r\n    mutations: {\r\n        setFieldTypes(state, payload) {\r\n            state.types = payload.results;\r\n        },\r\n    },\r\n    actions: {\r\n        loadListTypes({commit}) {\r\n            api.post('lists/fields')\r\n                .then(({data}) => commit('setFieldTypes', data))\r\n        }\r\n    }\r\n}\r\n","export default {\r\n\r\n}","import api from \"@/api\";\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state: {\r\n        marketplaces: [\r\n            {text: 'Яндекс Маркет', value: 'yandex.market'} //default\r\n        ],\r\n    },\r\n    getters: {\r\n        marketplaceText: state => value => {\r\n            let found = state.marketplaces.find(m => m.value === value);\r\n            return found ? found.text : null;\r\n        },\r\n        availableFields: state => (group, pricelist) => {\r\n            let marketplace = state.marketplaces.find(m => m.value === pricelist.type);\r\n            let fields = [];\r\n            if (marketplace && marketplace[group + '_fields']) {\r\n                fields = marketplace[group + '_fields'];\r\n            }\r\n            let parent = pricelist.fields.find(p => p.type === (group === 'offer' ? 6 : 2));\r\n            return fields.filter(field => field.multiple ||\r\n                !pricelist.fields.find(pf => pf.name === field.value && pf.parent === parent.id)\r\n            );\r\n        }\r\n    },\r\n    mutations: {\r\n        setMarketplaces(state, payload) {\r\n            state.marketplaces = payload.results;\r\n        },\r\n\r\n    },\r\n    actions: {\r\n        loadList({commit}) {\r\n            api.post('lists/marketplaces')\r\n                .then(({data}) => commit('setMarketplaces', data))\r\n        }\r\n    }\r\n}","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport field from './modules/field'\r\nimport pricelist from './modules/pricelist'\r\nimport marketplace from './modules/marketplace'\r\nimport api from \"@/api\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    modules: {\r\n        field,\r\n        marketplace,\r\n        pricelist,\r\n    },\r\n    state: {\r\n        classKeys: [],\r\n        operators: [\r\n            {text: 'Равно', sign: '=', value: 'equals', select: true},\r\n            {text: 'Не равно', sign: '!=', value: 'not equals', select: true},\r\n            {text: 'Больше чем', sign: '>', value: 'greater than'},\r\n            {text: 'Меньше чем', sign: '<', value: 'less than'},\r\n            {text: 'Больше или равно', sign: '>=', value: 'greater than or equal to'},\r\n            {text: 'Меньше или равно', sign: '<=', value: 'less than or equal to'},\r\n            {text: 'В строке', sign: 'LIKE', value: 'like'},\r\n            {text: 'Не в строке', sign: 'NOT LIKE', value: 'not like'},\r\n            {text: 'В списке', sign: 'IN', value: 'exists in', multiple: true, select: true},\r\n            {text: 'Не в списке', sign: 'NOT IN', value: 'not exists in', multiple: true, select: true},\r\n            {text: 'Null-значение', sign: 'IS NULL', value: 'is null', valueless: true},\r\n            {text: 'Не null', sign: 'IS NOT NULL', value: 'is not null', valueless: true},\r\n        ],\r\n    },\r\n    getters: {\r\n        dataColumns: state => state.classKeys.filter(ck => !ck.skipped),\r\n        operatorsList: state => state.operators,\r\n        columnText: state => value => {\r\n            let found = state.classKeys.find(classKey => classKey.value === value);\r\n            return found ? found.text : null;\r\n        }\r\n    },\r\n    mutations: {\r\n        setClassKeys(state, payload) {\r\n            state.classKeys = payload.results;\r\n        },\r\n    },\r\n    actions: {\r\n        loadClassKeys({commit}) {\r\n            api.post('lists/classkeys')\r\n                .then(({data}) => commit('setClassKeys', data))\r\n        },\r\n    }\r\n});","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport vuetify from './plugins/vuetify';\r\nimport axios from \"axios\";\r\nimport router from \"./router\";\r\nimport store from './store';\r\n\r\nconst appId = 'yandexmarket-app';\r\n\r\nconst appResize = () => {\r\n    let windowHeight = window.innerHeight;\r\n    let header = document.getElementById('modx-header');\r\n    if (header) {\r\n        windowHeight -= header.offsetHeight;\r\n    }\r\n\r\n    const app = document.getElementById(appId);\r\n    if (app) {\r\n        app.style.cssText = `height:${windowHeight}px;overflow-y: auto; overflow-x: hidden;`;\r\n    }\r\n}\r\n\r\nwindow.onload = function () {\r\n    Vue.mixin({\r\n        mounted: function () {\r\n            appResize();\r\n            window.addEventListener('resize', appResize);\r\n        },\r\n        destroyed() {\r\n            window.removeEventListener('resize', appResize);\r\n        }\r\n    });\r\n\r\n    let ym2Config = window.ym2Config || (process.env.NODE_ENV !== 'production' ? {\r\n        modAuth: process.env.VUE_APP_MOD_AUTH || '',\r\n        apiUrl: process.env.VUE_APP_API_URL || '',\r\n        lang: {}\r\n    } : {});\r\n\r\n    axios.defaults.baseURL = ym2Config.apiUrl || '/assets/components/yandexmarket2/connector.php';\r\n    axios.defaults.headers.common['modAuth'] = ym2Config.modAuth;\r\n    if (process.env.NODE_ENV !== 'production' && process.env.VUE_APP_COOKIE) {\r\n        axios.defaults.headers.common['modCookie'] = process.env.VUE_APP_COOKIE;\r\n    }\r\n\r\n    Vue.prototype.$t = (key) => ym2Config.lang && ym2Config.lang[key] || key;\r\n\r\n    new Vue({\r\n        vuetify,\r\n        router,\r\n        store,\r\n        render: h => h(App)\r\n    }).$mount(`#${appId}`)\r\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoriesTree.vue?vue&type=style&index=0&id=395e0739&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PricelistField.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&id=2c4c1bde&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldValue.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentHeader.vue?vue&type=style&index=0&id=0c7fe5c5&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceListOffer.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceList.vue?vue&type=style&index=0&id=00319fd4&scoped=true&lang=css&\""],"sourceRoot":""}